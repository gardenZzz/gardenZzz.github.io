{"title":"Project01_MoreMall","date":"2020-10-07T23:38:17.000Z","date_formatted":{"ll":"Oct 7, 2020","L":"10/07/2020","MM-DD":"10-07"},"link":"2020/382317/Project-01","comments":true,"tags":["Java"],"categories":["项目"],"updated":"2021-01-29T17:22:51.908Z","content":"<p>基于开源前端项目 <a href=\"https://github.com/Summerjie007/vue-MoreMall\" target=\"_blank\">vue-MoreMall</a> MVC 模式架构的在线商城。完整实现了后台管理和在线商城的所有功能</p>\n<a id=\"more\"></a>\n<p>前台系统：<a href=\"http://115.29.141.32:8085/#/mall/show/index\">http://115.29.141.32:8085/#/mall/show/index</a></p>\n<p>后台管理系统：<a href=\"http://115.29.141.32:8085/admin.html#/login\">http://115.29.141.32:8085/admin.html#/login</a></p>\n<p><code>admin.js</code> 对应的就是后台管理系统所有的请求，页面所需要的任何数据，就会发起一个请求。</p>\n<p><code>client.js</code> 对应的是前台用户系统的所有请求，页面所需要的任何数据，都会发起一个请求。</p>\n<p><code>axios-admin.js</code> <code>axios-client.js</code> 便于管理， Admin.js 中 axios 发起 http 请求时<strong>域名端口号</strong>配置在 axios-admin.js 文件</p>\n<h2 id=\"后台管理模块（admin）\">后台管理模块（admin）<a title=\"#后台管理模块（admin）\" href=\"#后台管理模块（admin）\"></a></h2>\n<h3 id=\"✅-登录&amp;退出&amp;显示所有管理员信息\">✅ 登录&amp;退出&amp;显示所有管理员信息<a title=\"#✅-登录&amp;退出&amp;显示所有管理员信息\" href=\"#✅-登录&amp;退出&amp;显示所有管理员信息\"></a></h3>\n<h4 id=\"需求分析\">需求分析<a title=\"#需求分析\" href=\"#需求分析\"></a></h4>\n<h5 id=\"logoutadmin\">logoutAdmin<a title=\"#logoutadmin\" href=\"#logoutadmin\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">POST /api/admin/logoutAdmin HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;token&quot;:&quot;admin&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"参考代码\">参考代码<a title=\"#参考代码\" href=\"#参考代码\"></a></h4>\n<h5 id=\"代码结构\"><code>代码结构</code><a title=\"#代码结构\" href=\"#代码结构\"></a></h5>\n<img src=\"/Users/wumin/Library/Application Support/typora-user-images/image-20200929100624597.png\" alt=\"image-20200929100624597\" style=\"zoom:25%;\" />\n<h5 id=\"pom.xml\"><code>pom.xml</code><a title=\"#pom.xml\" href=\"#pom.xml\"></a></h5>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">         <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">         <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.cskaoyan.25ee<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mall<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">packaging</span>&gt;</span>war<span class=\"tag\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>javax.servlet-api<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.1.0<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>provided<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>commons-beanutils<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>commons-beanutils<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.9.3<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>commons-fileupload<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>commons-fileupload<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.3.3<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>mysql<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>5.1.47<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>runtime<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>druid<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.10<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>commons-dbutils<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>commons-dbutils<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.6<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.google.code.gson<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>gson<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.8.5<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"druid.properties\"><code>druid.properties</code><a title=\"#druid.properties\" href=\"#druid.properties\"></a></h5>\n<figure class=\"highlight properties\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#驱动加载</span></span><br><span class=\"line\"><span class=\"attr\">driverClassName</span>=<span class=\"string\">com.mysql.jdbc.Driver</span></span><br><span class=\"line\"><span class=\"comment\">#注册驱动</span></span><br><span class=\"line\"><span class=\"attr\">url</span>=<span class=\"string\">jdbc:mysql://127.0.0.1:3306/25_mall?characterEncoding=utf-8</span></span><br><span class=\"line\"><span class=\"comment\">#连接数据库的用户名</span></span><br><span class=\"line\"><span class=\"attr\">username</span>=<span class=\"string\">root</span></span><br><span class=\"line\"><span class=\"comment\">#连接数据库的密码</span></span><br><span class=\"line\"><span class=\"attr\">password</span>=<span class=\"string\">123456</span></span><br><span class=\"line\"><span class=\"comment\">#属性类型的字符串，通过别名的方式配置扩展插件， 监控统计用的stat 日志用log4j 防御sql注入:wall</span></span><br><span class=\"line\"><span class=\"attr\">filters</span>=<span class=\"string\">stat</span></span><br><span class=\"line\"><span class=\"comment\">#初始化时池中建立的物理连接个数。</span></span><br><span class=\"line\"><span class=\"attr\">initialSize</span>=<span class=\"string\">2</span></span><br><span class=\"line\"><span class=\"comment\">#最大的可活跃的连接池数量</span></span><br><span class=\"line\"><span class=\"attr\">maxActive</span>=<span class=\"string\">300</span></span><br><span class=\"line\"><span class=\"comment\">#获取连接时最大等待时间，单位毫秒，超过连接就会失效。配置了maxWait之后，缺省启用公平锁，并发效率会有所下降， 如果需要可以通过配置useUnfairLock属性为true使用非公平锁。</span></span><br><span class=\"line\"><span class=\"attr\">maxWait</span>=<span class=\"string\">60000</span></span><br><span class=\"line\"><span class=\"comment\">#连接回收器的运行周期时间，时间到了清理池中空闲的连接，testWhileIdle根据这个判断</span></span><br><span class=\"line\"><span class=\"attr\">timeBetweenEvictionRunsMillis</span>=<span class=\"string\">60000</span></span><br><span class=\"line\"><span class=\"attr\">minEvictableIdleTimeMillis</span>=<span class=\"string\">300000</span></span><br><span class=\"line\"><span class=\"comment\">#用来检测连接是否有效的sql，要求是一个查询语句。</span></span><br><span class=\"line\"><span class=\"attr\">validationQuery</span>=<span class=\"string\">SELECT 1</span></span><br><span class=\"line\"><span class=\"comment\">#建议配置为true，不影响性能，并且保证安全性。 申请连接的时候检测，如果空闲时间大于timeBetweenEvictionRunsMillis， 执行validationQuery检测连接是否有效。</span></span><br><span class=\"line\"><span class=\"attr\">testWhileIdle</span>=<span class=\"string\">true</span></span><br><span class=\"line\"><span class=\"comment\">#申请连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能。设置为false</span></span><br><span class=\"line\"><span class=\"attr\">testOnBorrow</span>=<span class=\"string\">false</span></span><br><span class=\"line\"><span class=\"comment\">#归还连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能,设置为flase</span></span><br><span class=\"line\"><span class=\"attr\">testOnReturn</span>=<span class=\"string\">false</span></span><br><span class=\"line\"><span class=\"comment\">#是否缓存preparedStatement，也就是PSCache。</span></span><br><span class=\"line\"><span class=\"attr\">poolPreparedStatements</span>=<span class=\"string\">false</span></span><br><span class=\"line\"><span class=\"comment\">#池中能够缓冲的preparedStatements语句数量</span></span><br><span class=\"line\"><span class=\"attr\">maxPoolPreparedStatementPerConnectionSize</span>=<span class=\"string\">200</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"filter\"><code>filter</code><a title=\"#filter\" href=\"#filter\"></a></h5>\n<h6 id=\"application-filter\"><code>Application Filter</code><a title=\"#application-filter\" href=\"#application-filter\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">doFilter</span><span class=\"params\">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class=\"keyword\">throws</span> IOException, ServletException </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">        HttpServletRequest request = (HttpServletRequest) servletRequest;</span><br><span class=\"line\">        HttpServletResponse response = (HttpServletResponse) servletResponse;</span><br><span class=\"line\">  <span class=\"comment\">//设置编码格式，解决中文乱码</span></span><br><span class=\"line\">        request.setCharacterEncoding(<span class=\"string\">&quot;utf-8&quot;</span>);</span><br><span class=\"line\">        response.setContentType(<span class=\"string\">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">//跨域相关</span></span><br><span class=\"line\">        response.setHeader(<span class=\"string\">&quot;Access-Control-Allow-Origin&quot;</span>,<span class=\"string\">&quot;*&quot;</span>);</span><br><span class=\"line\">        response.setHeader(<span class=\"string\">&quot;Access-Control-Allow-Methods&quot;</span>,<span class=\"string\">&quot;POST,GET,OPTIONS,PUT,DELETE&quot;</span>);</span><br><span class=\"line\">        response.setHeader(<span class=\"string\">&quot;Access-Control-Allow-Headers&quot;</span>,<span class=\"string\">&quot;x-requested-with,Authorization,Content-Type&quot;</span>);</span><br><span class=\"line\">        response.setHeader(<span class=\"string\">&quot;Access-Control-Allow-Credentials&quot;</span>,<span class=\"string\">&quot;true&quot;</span>);</span><br><span class=\"line\">        filterChain.doFilter(request, response);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"controller\"><code>controller</code><a title=\"#controller\" href=\"#controller\"></a></h5>\n<p>与<code>客服端（浏览器）</code>进行通信，返回数据给前端</p>\n<h6 id=\"adminservlet\"><code>AdminServlet</code><a title=\"#adminservlet\" href=\"#adminservlet\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"meta\">@WebServlet(&quot;/api/admin/admin/*&quot;)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">String requestURI = req.getRequestURI();</span><br><span class=\"line\">String action = requestURI.replace(<span class=\"string\">&quot;/api/admin/admin/&quot;</span>, <span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* Admins</span></span><br><span class=\"line\"><span class=\"comment\">* &#123;&quot;code&quot;:0,&quot;data&quot;:[&#123;&quot;id&quot;:1,&quot;email&quot;:&quot;admin&quot;,&quot;nickname&quot;:&quot;admin&quot;,&quot;pwd&quot;:&quot;admin&quot;&#125;]&#125;</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@param</span> req</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@param</span> resp</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">allAdmins</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//调用 Service.allAdmins()</span></span><br><span class=\"line\">  adminService.allAdmins()</span><br><span class=\"line\">  <span class=\"comment\">//以json的形式给前端返回数据</span></span><br><span class=\"line\">  Result(<span class=\"number\">0</span>, <span class=\"keyword\">null</span>, adminList);</span><br><span class=\"line\">  gson.toJson(result)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* 登录</span></span><br><span class=\"line\"><span class=\"comment\">* 抓包，看公网服务器上面的请求报文和响应报文格式</span></span><br><span class=\"line\"><span class=\"comment\">* 然后本地加以复现（请求报文看本地的也ok）</span></span><br><span class=\"line\"><span class=\"comment\">* &#123;&quot;email&quot;:&quot;admin&quot;,&quot;pwd&quot;:&quot;admin&quot;&#125;-----请求体</span></span><br><span class=\"line\"><span class=\"comment\">* 前端提交的请求报文请求体参数是json字符串，还能使用request.getParameter API吗？</span></span><br><span class=\"line\"><span class=\"comment\">* 不能，该API只能够去获取到key1=value1&amp;key2=value2的形式</span></span><br><span class=\"line\"><span class=\"comment\">* 。。。。。。中间就是需要我们去实现的</span></span><br><span class=\"line\"><span class=\"comment\">* 返回一个响应报文----抓公网服务器上面的报文</span></span><br><span class=\"line\"><span class=\"comment\">* &#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;密码不正确!&quot;&#125;----用户名密码不正确</span></span><br><span class=\"line\"><span class=\"comment\">* &#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;token&quot;:&quot;admin&quot;,&quot;name&quot;:&quot;admin&quot;&#125;&#125;---登录成功</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@param</span> req</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@param</span> resp</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">login</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//1.获取请求体的字符串，封装📦到bean（AdminLoginBO loginBO）</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//2.loginBO 判空</span></span><br><span class=\"line\">  loginBO.isEmpty()</span><br><span class=\"line\">    <span class=\"string\">&quot;登录信息不能为空&quot;</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//3.向service传入bean，获取登录结果</span></span><br><span class=\"line\">  <span class=\"keyword\">int</span> code = adminService.login(loginBO);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//4. 根据结果（200/404/500），向前端返回数据</span></span><br><span class=\"line\">  &#123;<span class=\"string\">&quot;code&quot;</span>:<span class=\"number\">0</span>,<span class=\"string\">&quot;data&quot;</span>:&#123;<span class=\"string\">&quot;token&quot;</span>:<span class=\"string\">&quot;admin&quot;</span>,<span class=\"string\">&quot;name&quot;</span>:<span class=\"string\">&quot;admin&quot;</span>&#125;&#125;---登录成功</span><br><span class=\"line\">    <span class=\"string\">&quot;用户名或者密码错误&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;当前系统繁忙&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"service\"><code>service</code><a title=\"#service\" href=\"#service\"></a></h5>\n<p>处理<code>服务端</code>逻辑</p>\n<h6 id=\"adminservice\"><code>AdminService</code><a title=\"#adminservice\" href=\"#adminservice\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//定义 login、allAdmins 方法</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">AdminService</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">login</span><span class=\"params\">(AdminLoginBO loginBO)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">List&lt;Admin&gt; <span class=\"title\">allAdmins</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"adminserviceimpl\"><code>AdminServiceImpl</code><a title=\"#adminserviceimpl\" href=\"#adminserviceimpl\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//实现 login、allAdmins 方法</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"dao\"><code>dao</code><a title=\"#dao\" href=\"#dao\"></a></h5>\n<p>发送<code>SQL语句</code>，与数据库通信（CURD）</p>\n<h6 id=\"admindao\"><code>AdminDao</code><a title=\"#admindao\" href=\"#admindao\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">AdminDao</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">login</span><span class=\"params\">(AdminLoginBO loginBO)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">List&lt;Admin&gt; <span class=\"title\">allAdmins</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"admindaoimpl\"><code>AdminDaoImpl</code><a title=\"#admindaoimpl\" href=\"#admindaoimpl\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//login</span></span><br><span class=\"line\"><span class=\"comment\">// todo ??? SQL DBUtils</span></span><br><span class=\"line\"><span class=\"comment\">//todo ??? queryRunner.query() 获取的是什么对象？Long?</span></span><br><span class=\"line\">query = runner.query(<span class=\"string\">&quot;select count(*) from admin where email = ? and pwd = ?&quot;</span>, <span class=\"keyword\">new</span> ScalarHandler&lt;&gt;(), loginBO.getEmail(), loginBO.getPwd());</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"number\">200</span>/<span class=\"number\">404</span>/<span class=\"number\">500</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">//allAdmins</span></span><br><span class=\"line\">adminList = runner.query(<span class=\"string\">&quot;select * from admin&quot;</span>, <span class=\"keyword\">new</span> BeanListHandler&lt;Admin&gt;(Admin.class));</span><br><span class=\"line\"><span class=\"keyword\">return</span> adminList;</span><br></pre></td></tr></table></figure>\n<h5 id=\"bean\"><code>bean</code><a title=\"#bean\" href=\"#bean\"></a></h5>\n<p>从json字符串封装📦的对象</p>\n<h6 id=\"bo_adminloginbo\"><code>bo_AdminLoginBO</code><a title=\"#bo_adminloginbo\" href=\"#bo_adminloginbo\"></a></h6>\n<p><code>AdminLoginBO</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"admin\"><code>Admin</code><a title=\"#admin\" href=\"#admin\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"result\"><code>Result</code><a title=\"#result\" href=\"#result\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"utils\"><code>utils</code><a title=\"#utils\" href=\"#utils\"></a></h5>\n<h6 id=\"druidutils\"><code>DruidUtils</code><a title=\"#druidutils\" href=\"#druidutils\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//SQL 线程池</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DruidUtils</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> DataSource dataSource;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        InputStream inputStream = DruidUtils.class.getClassLoader().getResourceAsStream(<span class=\"string\">&quot;druid.properties&quot;</span>);</span><br><span class=\"line\">        Properties properties = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            properties.load(inputStream);</span><br><span class=\"line\">            dataSource = DruidDataSourceFactory.createDataSource(properties);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Connection <span class=\"title\">getConnection</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dataSource.getConnection();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> DataSource <span class=\"title\">getDataSource</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dataSource;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"httputils\"><code>HttpUtils</code><a title=\"#httputils\" href=\"#httputils\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HttpUtils</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 请求体的内容---&gt;字符串</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> req</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@throws</span> IOException</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title\">parseRequest</span><span class=\"params\">(HttpServletRequest req)</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">      <span class=\"comment\">//todo ??? JAVA IO</span></span><br><span class=\"line\">        ServletInputStream inputStream = req.getInputStream();</span><br><span class=\"line\">        ByteArrayOutputStream bos = <span class=\"keyword\">new</span> ByteArrayOutputStream();</span><br><span class=\"line\">      </span><br><span class=\"line\">        <span class=\"keyword\">int</span> length = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">byte</span>[]  bytes = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\">        <span class=\"keyword\">while</span> ((length = inputStream.read(bytes)) != -<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            bos.write(bytes, <span class=\"number\">0</span>, length);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">return</span> bos.toString(<span class=\"string\">&quot;utf-8&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"代码实现\">代码实现<a title=\"#代码实现\" href=\"#代码实现\"></a></h4>\n<h3 id=\"✅管理员账号crud\">✅管理员账号CRUD<a title=\"#✅管理员账号crud\" href=\"#✅管理员账号crud\"></a></h3>\n<h4 id=\"需求分析-1\">需求分析<a title=\"#需求分析-1\" href=\"#需求分析-1\"></a></h4>\n<h5 id=\"create\">Create<a title=\"#create\" href=\"#create\"></a></h5>\n<img src=\"/Users/wumin/Library/Application Support/typora-user-images/image-20200929195739930.png\" alt=\"image-20200929195739930\" style=\"zoom: 50%;\" />\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">POST /api/admin/addAdminss HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;nickname&quot;:&quot;wsdsz&quot;,&quot;email&quot;:&quot;11223344@qq.com&quot;,&quot;pwd&quot;:&quot;Asd.0Asd.0!&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 成功</span><br><span class=\"line\">&#123;&quot;code&quot;:0&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 失败</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;管理员信息不能为空&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;账号已存在&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;昵称已存在&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;当前系统繁忙&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//正则 (写在了前端)</span><br><span class=\"line\">必须 qq 邮箱 qq 号 5-12 位!</span><br><span class=\"line\">昵称只能包括数字字母的组合，长度为 4-15 位!</span><br><span class=\"line\">密码最少 8 位最多 16 位，至少 1 个大写字母，1 个小写字母，1 个数字和 1 个特殊字符!</span><br><span class=\"line\"></span><br><span class=\"line\">//SQL</span><br><span class=\"line\"><span class=\"code\">       String sql1 = &quot;select count(*) from admin where email = ? &quot;;</span></span><br><span class=\"line\"><span class=\"code\">       String sql2 = &quot;select count(*) from admin where nickname = ? &quot;;</span></span><br><span class=\"line\"><span class=\"code\">       String sql3 = &quot;insert into admin value(null, ?, ?, ?)&quot;;</span></span><br><span class=\"line\"><span class=\"code\">       </span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve\">Retrieve<a title=\"#retrieve\" href=\"#retrieve\"></a></h5>\n<h6 id=\"getadminsinfo\"><code>getAdminsInfo</code><a title=\"#getadminsinfo\" href=\"#getadminsinfo\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">GET /api/admin/getAdminsInfo?id=80 HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;id&quot;:80,&quot;email&quot;:&quot;18892292@qq.com&quot;,&quot;nickname&quot;:&quot;lly0000&quot;,&quot;pwd&quot;:&quot;Aa%345678&quot;&#125;&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"getsearchadmins\"><code>getSearchAdmins</code><a title=\"#getsearchadmins\" href=\"#getsearchadmins\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">POST /api/admin/getSearchAdmins HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;nickname&quot;:&quot;admin&quot;,&quot;email&quot;:&quot;admin&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0,&quot;data&quot;:[&#123;&quot;id&quot;:156,&quot;email&quot;:&quot;2501882474@qq.com&quot;,&quot;nickname&quot;:&quot;test&quot;,&quot;pwd&quot;:&quot;Test@1234&quot;&#125;,&#123;&quot;id&quot;:166,&quot;email&quot;:&quot;574630686@qq.com&quot;,&quot;nickname&quot;:&quot;test123&quot;,&quot;pwd&quot;:&quot;123456&quot;&#125;]&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update\">Update<a title=\"#update\" href=\"#update\"></a></h5>\n<h6 id=\"updateadminss\"><code>updateAdminss</code><a title=\"#updateadminss\" href=\"#updateadminss\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">POST /api/admin/updateAdminss HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;id&quot;:80,&quot;nickname&quot;:&quot;lly0000&quot;,&quot;email&quot;:&quot;0018892292@qq.com&quot;,&quot;pwd&quot;:&quot;Aa%345678&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 成功</span><br><span class=\"line\">&#123;&quot;code&quot;:0&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//失败</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;管理员信息不能为空&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;账号已存在&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;昵称已存在&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:500,&quot;message&quot;:&quot;当前系统繁忙&quot;&#125;</span><br></pre></td></tr></table></figure>\n<p>------[UPDATE] 2020.09.29 22:45------</p>\n<h6 id=\"changepwd\"><code>changePwd</code><a title=\"#changepwd\" href=\"#changepwd\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">POST /api/admin/changePwd HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;adminToken&quot;:&quot;wsdsz&quot;,&quot;oldPwd&quot;:&quot;Aa<span class=\"code\">`!1234&quot;,&quot;newPwd&quot;:&quot;Aa`</span>!12345&quot;,&quot;confirmPwd&quot;:&quot;Aa`!12345&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//失败</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;旧密码错误!&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;请确认两次输入的新密码是否一致!&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;当前系统繁忙!&quot;&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"delete\">Delete<a title=\"#delete\" href=\"#delete\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">GET /api/admin/deleteAdmins?id=80 HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0</span><br><span class=\"line\">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;admin账号不允许删除&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;删除失败，请联系管理员&quot;&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"代码实现-1\">代码实现<a title=\"#代码实现-1\" href=\"#代码实现-1\"></a></h4>\n<h5 id=\"create-1\"><code>Create</code><a title=\"#create-1\" href=\"#create-1\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-1\"><code>Retrieve</code><a title=\"#retrieve-1\" href=\"#retrieve-1\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-1\"><code>Update</code><a title=\"#update-1\" href=\"#update-1\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-1\"><code>Delete</code><a title=\"#delete-1\" href=\"#delete-1\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"✅-用户管理crud\">✅ 用户管理CRUD<a title=\"#✅-用户管理crud\" href=\"#✅-用户管理crud\"></a></h3>\n<h4 id=\"需求分析-2\">需求分析<a title=\"#需求分析-2\" href=\"#需求分析-2\"></a></h4>\n<h5 id=\"datebase\">DateBase<a title=\"#datebase\" href=\"#datebase\"></a></h5>\n<p>![image-20201005093715092](/Users/wumin/Library/Application Support/typora-user-images/image-20201005093715092.png)</p>\n<p>![image-20201005092851067](/Users/wumin/Library/Application Support/typora-user-images/image-20201005092851067.png)</p>\n<img src=\"/Users/wumin/Library/Application Support/typora-user-images/image-20201005092741596.png\" alt=\"image-20201005092741596\" style=\"zoom:50%;\" align=\"left\"/>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">&quot;email&quot;:&quot;135799753111@qq.com&quot;,</span><br><span class=\"line\">&quot;nickname&quot;:&quot;pikapika&quot;,</span><br><span class=\"line\">&quot;pwd&quot;:&quot;Aa`!1234&quot;,</span><br><span class=\"line\">&quot;recipient&quot;:&quot;皮卡丘&quot;,</span><br><span class=\"line\">&quot;address&quot;:&quot;仙女座星系M18星皮卡丘部落&quot;,</span><br><span class=\"line\">&quot;phone&quot;:&quot;130110110&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"create-2\">Create<a title=\"#create-2\" href=\"#create-2\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-2\">Retrieve<a title=\"#retrieve-2\" href=\"#retrieve-2\"></a></h5>\n<h6 id=\"alluser\">allUser<a title=\"#alluser\" href=\"#alluser\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tGET /api/admin/allUser HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\">\thttp://localhost:8084/api/admin/user/allUser</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">\t//传密码 但不显示 ???</span></span><br><span class=\"line\"><span class=\"code\">\t//实现 不传密码 也 OK</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;data&quot;: [&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;id&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;email&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;nickname&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;pwd&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;recipient&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;address&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;phone&quot;: &quot;11111111111&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;id&quot;: 46,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;email&quot;: &quot;1357997531@qq.com&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;nickname&quot;: &quot;Pikachu&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;pwd&quot;: &quot;Qq@135799&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;recipient&quot;: &quot;皮卡丘&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;address&quot;: &quot;仙女座星系M18星皮卡丘部落&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;phone&quot;: &quot;130110110&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;]</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<h6 id=\"searchuser\">searchUser<a title=\"#searchuser\" href=\"#searchuser\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tGET /api/admin/searchUser?word=admin HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;data&quot;: [&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;id&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;email&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;nickname&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;pwd&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;recipient&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;address&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;phone&quot;: &quot;11111111111&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;]</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-2\">Update<a title=\"#update-2\" href=\"#update-2\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-2\">Delete<a title=\"#delete-2\" href=\"#delete-2\"></a></h5>\n<h6 id=\"deleteuser\">deleteUser<a title=\"#deleteuser\" href=\"#deleteuser\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">GET /api/admin/deleteUser?id=58 HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//失败</span><br><span class=\"line\">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;你不能删除admin账号!&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;删除失败，请联系管理员&quot;&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"代码实现-2\">代码实现<a title=\"#代码实现-2\" href=\"#代码实现-2\"></a></h4>\n<h5 id=\"create-3\"><code>Create</code><a title=\"#create-3\" href=\"#create-3\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-3\"><code>Retrieve</code><a title=\"#retrieve-3\" href=\"#retrieve-3\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-3\"><code>Update</code><a title=\"#update-3\" href=\"#update-3\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-3\"><code>Delete</code><a title=\"#delete-3\" href=\"#delete-3\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"商品管理\">商品管理<a title=\"#商品管理\" href=\"#商品管理\"></a></h3>\n<h4 id=\"需求分析-3\">需求分析<a title=\"#需求分析-3\" href=\"#需求分析-3\"></a></h4>\n<h5 id=\"代码结构-1\">代码结构<a title=\"#代码结构-1\" href=\"#代码结构-1\"></a></h5>\n<img src=\"/Users/wumin/Library/Application Support/typora-user-images/image-20201004182557533.png\" alt=\"image-20201004182557533\" style=\"zoom:25%;\" align=\"left\"/>\n<h5 id=\"datebase-1\">DateBase<a title=\"#datebase-1\" href=\"#datebase-1\"></a></h5>\n<h6 id=\"goods_type\">goods_type<a title=\"#goods_type\" href=\"#goods_type\"></a></h6>\n<p>![image-20201004170755694](/Users/wumin/Library/Application Support/typora-user-images/image-20201004170755694.png)</p>\n<h6 id=\"goods\">goods<a title=\"#goods\" href=\"#goods\"></a></h6>\n<p>![image-20201004151138995](/Users/wumin/Library/Application Support/typora-user-images/image-20201004151138995.png)</p>\n<h6 id=\"goods_spec\">goods_spec<a title=\"#goods_spec\" href=\"#goods_spec\"></a></h6>\n<p>![image-20201004171751140](/Users/wumin/Library/Application Support/typora-user-images/image-20201004171751140.png)</p>\n<h5 id=\"create-4\">Create<a title=\"#create-4\" href=\"#create-4\"></a></h5>\n<h6 id=\"imgupload\">imgUpload<a title=\"#imgupload\" href=\"#imgupload\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">POST /api/admin/imgUpload HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">file\timage/jpeg\ttest.jpg\t19.71 KB (20,187 bytes)</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0,&quot;data&quot;:&quot;/static/image/1601803470450test.jpg&quot;&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"addgoods\">addGoods<a title=\"#addgoods\" href=\"#addgoods\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tPOST /api/admin/addGoods HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;name&quot;: &quot;衣服&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;typeId&quot;: &quot;1&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;img&quot;: &quot;/static/image/1601803470450test.jpg&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;desc&quot;: &quot;好看的衣服&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;specList&quot;: [&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;specName&quot;: &quot;s&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;stockNum&quot;: &quot;100&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;unitPrice&quot;: &quot;100&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;specName&quot;: &quot;m&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;stockNum&quot;: &quot;1000&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;unitPrice&quot;: &quot;99&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;]</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">&#123;&quot;code&quot;:0&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">\t//失败</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;添加失败，请检联系管理员!&quot;&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">String sql = &quot;&quot;; </span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<h6 id=\"addtype\">addType<a title=\"#addtype\" href=\"#addtype\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">POST /api/admin/addType HTTP/1.1</span><br><span class=\"line\">http://localhost:8084/api/admin/goods/addType</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;name&quot;:&quot;iPhone&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"addspec\">addSpec<a title=\"#addspec\" href=\"#addspec\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">POST /api/admin/addSpec HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">//? 为什么只有修改商品的时候有 添加商品 的时候没有发起 addSpec 和 deleteSpec请求？？</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;goodsId&quot;:&quot;480&quot;,&quot;specName&quot;:&quot;白色&quot;,&quot;stockNum&quot;:&quot;1000&quot;,&quot;unitPrice&quot;:&quot;1000&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"code\">\t//</span></span><br><span class=\"line\"><span class=\"code\">&#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;goodsId&quot;:&quot;480&quot;,&quot;specName&quot;:&quot;白色&quot;,&quot;stockNum&quot;:&quot;1000&quot;,&quot;unitPrice&quot;:&quot;1000&quot;&#125;&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<h6 id=\"reply\">reply<a title=\"#reply\" href=\"#reply\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">请求 URL: http://localhost:8084/api/admin/goods/reply</span><br><span class=\"line\">请求方法: POST</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;id&quot;:387,&quot;content&quot;:&quot;你好傻&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-4\">Retrieve<a title=\"#retrieve-4\" href=\"#retrieve-4\"></a></h5>\n<h6 id=\"gettype\">getType<a title=\"#gettype\" href=\"#gettype\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tGET /api/admin/getType HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;data&quot;: [&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;id&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;name&quot;: &quot;女装&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;id&quot;: 190,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;name&quot;: &quot;男装&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;]</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"getgoodsbytype\">getGoodsByType<a title=\"#getgoodsbytype\" href=\"#getgoodsbytype\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tGET /api/admin/getGoodsByType?typeId=1 HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;data&quot;: [&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;id&quot;: 477,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/157123045512415669928366681566992814(1).jpg&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;name&quot;: &quot;外套&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;price&quot;: 110.0,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;typeId&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;stockNum&quot;: 3998</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;id&quot;: 478, </span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/157123055832115669931721908195203.jpg&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;name&quot;: &quot;新品外套&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;price&quot;: 200.0,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;typeId&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;stockNum&quot;: 3000</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;]</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<h6 id=\"getgoodsinfo\">getGoodsInfo<a title=\"#getgoodsinfo\" href=\"#getgoodsinfo\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tGET /api/admin/getGoodsInfo?id=598 HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;data&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;specs&quot;: [&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 1487,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;specName&quot;: &quot;S&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;stockNum&quot;: 1000,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;unitPrice&quot;: 98.0</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 1511,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;specName&quot;: &quot;fggd&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;stockNum&quot;: 100,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;unitPrice&quot;: 25.0</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;],</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;goods&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 598,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1601780934267连衣裙.JPG&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;name&quot;: &quot;连衣裙&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;desc&quot;: &quot;SDD&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;typeId&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;unitPrice&quot;: 0.0 //不返回 ???</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"repliedmsg-&amp;&amp;-noreplymsg\">repliedMsg &amp;&amp; noReplyMsg<a title=\"#repliedmsg-&amp;&amp;-noreplymsg\" href=\"#repliedmsg-&amp;&amp;-noreplymsg\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">http://localhost:8084/api/admin/goods/repliedMsg</span><br><span class=\"line\">get</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;replyContent&quot;:&quot;ok&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">http://localhost:8084/api/admin/goods/noReplyMsg</span><br><span class=\"line\">get</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"><span class=\"code\">    &quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;data&quot;: [</span></span><br><span class=\"line\"><span class=\"code\">        &#123;</span></span><br><span class=\"line\"><span class=\"code\">            &quot;id&quot;: 386,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;userId&quot;: 95,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goodsId&quot;: 483,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;content&quot;: &quot;手机好好看&quot;,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;state&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;createtime&quot;: &quot;2020-10-07 20:28:21&quot;,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goods&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">                &quot;name&quot;: &quot;华为p30&quot;</span></span><br><span class=\"line\"><span class=\"code\">            &#125;,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;user&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">                &quot;name&quot;: &quot;cookie&quot;</span></span><br><span class=\"line\"><span class=\"code\">            &#125;</span></span><br><span class=\"line\"><span class=\"code\">        &#125;,</span></span><br><span class=\"line\"><span class=\"code\">        &#123;</span></span><br><span class=\"line\"><span class=\"code\">            &quot;id&quot;: 387,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;userId&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goodsId&quot;: 482,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;content&quot;: &quot;sdada&quot;,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;state&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;createtime&quot;: &quot;2020-10-07 20:31:37&quot;,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goods&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">                &quot;name&quot;: &quot;摄像机&quot;</span></span><br><span class=\"line\"><span class=\"code\">            &#125;,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;user&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">                &quot;name&quot;: &quot;admin&quot;</span></span><br><span class=\"line\"><span class=\"code\">            &#125;</span></span><br><span class=\"line\"><span class=\"code\">        &#125;]</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-4\">Update<a title=\"#update-4\" href=\"#update-4\"></a></h5>\n<h6 id=\"updategoods\">updateGoods<a title=\"#updategoods\" href=\"#updategoods\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tPOST /api/admin/updateGoods HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">// addGoods 返回的参数 + 两个id</span></span><br><span class=\"line\"><span class=\"code\">&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;id&quot;: &quot;598&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;name&quot;: &quot;连衣裙&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;typeId&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1601780934267连衣裙.JPG&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;desc&quot;: &quot;SDD&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;specList&quot;: [&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;id&quot;: 1487,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;specName&quot;: &quot;S&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;stockNum&quot;: 1000,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;unitPrice&quot;: 98</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;id&quot;: 1511,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;specName&quot;: &quot;M&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;stockNum&quot;: 100,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;unitPrice&quot;: 25</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;]</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">\t&#123;&quot;code&quot;:0&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;商品参数不允许为空，请检查后提交!&quot;&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;修改失败，请检联系管理员!&quot;&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-4\">Delete<a title=\"#delete-4\" href=\"#delete-4\"></a></h5>\n<h6 id=\"deletegoods\">deleteGoods<a title=\"#deletegoods\" href=\"#deletegoods\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">GET /api/admin/deleteGoods?id=598 HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"deletetype\">deleteType<a title=\"#deletetype\" href=\"#deletetype\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">GET /api/admin/deleteType?typeId=282 HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">//删除逻辑</span><br><span class=\"line\"><span class=\"bullet\">1.</span> 删除Type</span><br><span class=\"line\"><span class=\"bullet\">2.</span> 修改表 goods （typeId = 1 wherh typeId=282）1 是默认分类，商品到默认类目后可重新选择类目</span><br><span class=\"line\"></span><br><span class=\"line\">//返回</span><br><span class=\"line\">&#123;&quot;code&quot;:0&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">//done 前端</span><br><span class=\"line\">&#x27;此操作将记录ip(所以一定要删除的是自己添加的分类,不要删除别人创建的分类)&#x27;</span><br><span class=\"line\">---&gt;&#x27;请确认要删除的类目：&#x27;+this.tagNow.name</span><br><span class=\"line\"></span><br><span class=\"line\">&#x27;是否要删除(分类相关商品,评论,订单将同步删除)分类:&#x27;+this.tagNow.name)</span><br><span class=\"line\">---&gt;&#x27;删除后该类目下的所有商品将移动至默认类目，可在默认类目为商品重新分配类目，点击确认将执行删除操作！！！&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">//前端代码备份 Goods.Vue</span><br><span class=\"line\">  methods:&#123;</span><br><span class=\"line\">   deleteType()&#123;</span><br><span class=\"line\"><span class=\"code\">       alert(&#x27;此操作将记录ip(所以一定要删除的是自己添加的分类,不要删除别人创建的分类)&#x27;)</span></span><br><span class=\"line\"><span class=\"code\">       if (confirm(&#x27;是否要删除(分类相关商品,评论,订单将同步删除)分类:&#x27;+this.tagNow.name))&#123;</span></span><br><span class=\"line\"><span class=\"code\">           alert(&#x27;即将执行删除操作&#x27;)</span></span><br><span class=\"line\"><span class=\"code\">           const res = deleteType(this.tagNow.id);</span></span><br><span class=\"line\"><span class=\"code\">           res.then((res)=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"code\">                   alert(&#x27;删除成功！请刷新&#x27;);</span></span><br><span class=\"line\"><span class=\"code\">               &#125;)</span></span><br><span class=\"line\"><span class=\"code\">               .catch((e)=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"code\">                   alert(e);</span></span><br><span class=\"line\"><span class=\"code\">               &#125;)</span></span><br><span class=\"line\"><span class=\"code\">       &#125;else &#123;</span></span><br><span class=\"line\"><span class=\"code\">           alert(&#x27;已取消删除&#x27;)</span></span><br><span class=\"line\"><span class=\"code\">       &#125;</span></span><br><span class=\"line\"><span class=\"code\">   &#125;</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"deletespec\">deleteSpec<a title=\"#deletespec\" href=\"#deletespec\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">POST /api/admin/deleteSpec HTTP/1.1</span><br><span class=\"line\"></span><br><span class=\"line\">//??? get 传 id 不可以吗？？？</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;goodsId&quot;:&quot;480&quot;,&quot;specName&quot;:&quot;橘色&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"参考代码-1\">参考代码<a title=\"#参考代码-1\" href=\"#参考代码-1\"></a></h4>\n<h5 id=\"fileuploadutils\">FileUploadUtils<a title=\"#fileuploadutils\" href=\"#fileuploadutils\"></a></h5>\n<h6 id=\"maven-apache-commons-fileupload-»-1.3.3\">maven <a href=\"https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload\">Apache Commons FileUpload</a> » <a href=\"https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload/1.3.3\">1.3.3</a><a title=\"#maven-apache-commons-fileupload-»-1.3.3\" href=\"#maven-apache-commons-fileupload-»-1.3.3\"></a></h6>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>commons-fileupload<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>commons-fileupload<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.3.3<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FileUploadUtils</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Map&lt;String, Object&gt; <span class=\"title\">parseRequest</span><span class=\"params\">(HttpServletRequest request)</span> </span>&#123;</span><br><span class=\"line\">        DiskFileItemFactory factory = <span class=\"keyword\">new</span> DiskFileItemFactory();</span><br><span class=\"line\">        ServletContext servletContext = request.getServletContext();</span><br><span class=\"line\">        File repository = (File) servletContext.getAttribute(<span class=\"string\">&quot;javax.servlet.context.tempdir&quot;</span>);</span><br><span class=\"line\">        factory.setRepository(repository);</span><br><span class=\"line\">        Map&lt;String, Object&gt; params = <span class=\"keyword\">new</span> HashMap&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// Create a new file upload handler</span></span><br><span class=\"line\">        ServletFileUpload upload = <span class=\"keyword\">new</span> ServletFileUpload(factory);</span><br><span class=\"line\">        <span class=\"comment\">// 1024 bytes</span></span><br><span class=\"line\">        <span class=\"comment\">// upload.setFileSizeMax(1024 * 1024 * 5);</span></span><br><span class=\"line\">        <span class=\"comment\">//用于解决上传的文件名中文乱码</span></span><br><span class=\"line\">        upload.setHeaderEncoding(<span class=\"string\">&quot;utf-8&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Parse the request</span></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">//前端页面内的每一个input框，都会被解析成一个FileItem</span></span><br><span class=\"line\">            List&lt;FileItem&gt; items = upload.parseRequest(request);</span><br><span class=\"line\">            Iterator&lt;FileItem&gt; itemIterator = items.iterator();</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (itemIterator.hasNext()) &#123;</span><br><span class=\"line\">                FileItem fileItem = itemIterator.next();</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (fileItem.isFormField()) &#123;</span><br><span class=\"line\">                    <span class=\"comment\">//是否是常规form表单数据</span></span><br><span class=\"line\">                    processFormField(fileItem, params);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    processUploadedFile(fileItem,request, params);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (FileUploadException e) &#123;</span><br><span class=\"line\">         e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">processUploadedFile</span><span class=\"params\">(FileItem fileItem, HttpServletRequest request, Map&lt;String, Object&gt; params)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//fieldName就是input的name属性</span></span><br><span class=\"line\">        String fieldName = fileItem.getFieldName();</span><br><span class=\"line\">        String fileName = fileItem.getName();</span><br><span class=\"line\">        String uuid = UUID.randomUUID().toString();</span><br><span class=\"line\">        fileName = uuid + <span class=\"string\">&quot;-&quot;</span> + fileName;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> hashCode = fileName.hashCode();</span><br><span class=\"line\">        String hexString = Integer.toHexString(hashCode);</span><br><span class=\"line\">        String basePath = <span class=\"string\">&quot;image&quot;</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">char</span> c : hexString.toCharArray()) &#123;</span><br><span class=\"line\">            basePath = basePath + <span class=\"string\">&quot;/&quot;</span> + c;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        String contentType = fileItem.getContentType();</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> isInMemory = fileItem.isInMemory();</span><br><span class=\"line\">        <span class=\"keyword\">long</span> sizeInBytes = fileItem.getSize();</span><br><span class=\"line\">        System.out.println(fieldName + <span class=\"string\">&quot;==&quot;</span> + fileName + <span class=\"string\">&quot;==&quot;</span> + contentType + <span class=\"string\">&quot;==&quot;</span> + isInMemory + <span class=\"string\">&quot;==&quot;</span> + sizeInBytes);</span><br><span class=\"line\">        <span class=\"comment\">//比如保存到部署根目录image目录下</span></span><br><span class=\"line\">        String relativePath = basePath + <span class=\"string\">&quot;/&quot;</span> + fileName;</span><br><span class=\"line\">        String realPath = request.getServletContext().getRealPath(relativePath);</span><br><span class=\"line\">        File file = <span class=\"keyword\">new</span> File(realPath);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!file.getParentFile().exists())&#123;</span><br><span class=\"line\">            file.getParentFile().mkdirs();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            fileItem.write(file);</span><br><span class=\"line\">            params.put(fieldName, relativePath);</span><br><span class=\"line\"><span class=\"comment\">//            user.setImage(relativePath);</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">processFormField</span><span class=\"params\">(FileItem fileItem, Map&lt;String, Object&gt; params)</span> </span>&#123;</span><br><span class=\"line\">        String name = fileItem.getFieldName();</span><br><span class=\"line\">        String value = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">//解决form表单里面的value值中文乱码</span></span><br><span class=\"line\">            value = fileItem.getString(<span class=\"string\">&quot;utf-8&quot;</span>);</span><br><span class=\"line\">            <span class=\"comment\">//虽然很冗余，但是可用</span></span><br><span class=\"line\">            <span class=\"comment\">//这个地方有一个bug，那就是如果传的是checkbox，后面的值会把前面的覆盖</span></span><br><span class=\"line\">            params.put(name, value);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.out.println(name + <span class=\"string\">&quot;: &quot;</span> +value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"application.properties\">application.properties<a title=\"#application.properties\" href=\"#application.properties\"></a></h5>\n<figure class=\"highlight properties\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">domain</span>=<span class=\"string\">http://localhost:8084/</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"applicationlistener\">ApplicationListener<a title=\"#applicationlistener\" href=\"#applicationlistener\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//把 domain 存到 ServletContext</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@WebListener</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ApplicationListener</span> <span class=\"keyword\">implements</span> <span class=\"title\">ServletContextListener</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">contextInitialized</span><span class=\"params\">(ServletContextEvent servletContextEvent)</span> </span>&#123;</span><br><span class=\"line\">        InputStream inputStream = ApplicationListener.class.getClassLoader().getResourceAsStream(<span class=\"string\">&quot;application.properties&quot;</span>);</span><br><span class=\"line\">        Properties properties = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            properties.load(inputStream);</span><br><span class=\"line\">            String domain = properties.getProperty(<span class=\"string\">&quot;domain&quot;</span>);</span><br><span class=\"line\">            servletContextEvent.getServletContext().setAttribute(<span class=\"string\">&quot;domain&quot;</span>, domain);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">contextDestroyed</span><span class=\"params\">(ServletContextEvent servletContextEvent)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"imgupload-1\">imgUpload<a title=\"#imgupload-1\" href=\"#imgupload-1\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">imgUpload</span><span class=\"params\">(HttpServletRequest request, HttpServletResponse response)</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//commons-fileupload</span></span><br><span class=\"line\">        Map&lt;String, Object&gt; map = FileUploadUtils.parseRequest(request);</span><br><span class=\"line\">        String file = (String) map.get(<span class=\"string\">&quot;file&quot;</span>);</span><br><span class=\"line\">        <span class=\"comment\">//file其实就是路径，但是这个路径不能直接传给8085，为什么？  /image/xxxxxxx</span></span><br><span class=\"line\">        <span class=\"comment\">//因为当前图片是保存在8084系统里面的，所以如果直接返回一个相对路径，那么最终拼接出来的主机名肯定是8085</span></span><br><span class=\"line\">        String domain = (String) getServletContext().getAttribute(<span class=\"string\">&quot;domain&quot;</span>);<span class=\"comment\">//ApplicationListener 存进去的</span></span><br><span class=\"line\">        file =  domain + file;</span><br><span class=\"line\">        response.getWriter().println(gson.toJson(Result.ok(file)));</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"goodsservlet_addgoods\">GoodsServlet_addGoods<a title=\"#goodsservlet_addgoods\" href=\"#goodsservlet_addgoods\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">           addGoodsBO = gson.fromJson(requestBody, AddGoodsBO.class);</span><br><span class=\"line\">       &#125;<span class=\"keyword\">catch</span> (Exception e)&#123;</span><br><span class=\"line\">           response.getWriter().println(gson.toJson(Result.error(<span class=\"string\">&quot;参数必须为数字&quot;</span>))); <span class=\"comment\">// ??? 什么时候抛出异常</span></span><br><span class=\"line\">           <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"goodsserviceimpl_addgoods\">GoodsServiceImpl_addGoods<a title=\"#goodsserviceimpl_addgoods\" href=\"#goodsserviceimpl_addgoods\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">List&lt;AddSpecVO&gt; specList = addGoodsBO.getSpecList();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">int</span> goodsId = goodsDao.selectLastInsertId();</span><br><span class=\"line\"><span class=\"comment\">//        2.保存spec表</span></span><br><span class=\"line\">goodsDao.addSpecs(specList, goodsId);</span><br></pre></td></tr></table></figure>\n<h5 id=\"goodsdaoimpl_selectlastinsertid\">GoodsDaoImpl_selectLastInsertId<a title=\"#goodsdaoimpl_selectlastinsertid\" href=\"#goodsdaoimpl_selectlastinsertid\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// BigInteger ScalarHandler的返回值？ 怎么处理？</span></span><br><span class=\"line\">query = runner.query(<span class=\"string\">&quot;select last_insert_id()&quot;</span>, <span class=\"keyword\">new</span> ScalarHandler&lt;&gt;());</span><br><span class=\"line\"></span><br><span class=\"line\">query.intValue();</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"jdbc-事务\">JDBC 事务<a title=\"#jdbc-事务\" href=\"#jdbc-事务\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">Connection.setAutoCommit(<span class=\"keyword\">false</span>); 开启事务DTL</span><br><span class=\"line\">Connection.rollback(); 回滚事务</span><br><span class=\"line\">Connection.commit(); 提交事务</span><br></pre></td></tr></table></figure>\n<h4 id=\"代码实现-3\">代码实现<a title=\"#代码实现-3\" href=\"#代码实现-3\"></a></h4>\n<h5 id=\"create-5\"><code>Create</code><a title=\"#create-5\" href=\"#create-5\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-5\"><code>Retrieve</code><a title=\"#retrieve-5\" href=\"#retrieve-5\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-5\"><code>Update</code><a title=\"#update-5\" href=\"#update-5\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-5\"><code>Delete</code><a title=\"#delete-5\" href=\"#delete-5\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"✅订单管理\">✅订单管理<a title=\"#✅订单管理\" href=\"#✅订单管理\"></a></h3>\n<h4 id=\"需求分析-4\">需求分析<a title=\"#需求分析-4\" href=\"#需求分析-4\"></a></h4>\n<h5 id=\"datebase-2\">DateBase<a title=\"#datebase-2\" href=\"#datebase-2\"></a></h5>\n<p>![image-20201006153332218](/Users/wumin/Library/Application Support/typora-user-images/image-20201006153332218.png)</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"create-6\">Create<a title=\"#create-6\" href=\"#create-6\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-6\">Retrieve<a title=\"#retrieve-6\" href=\"#retrieve-6\"></a></h5>\n<h6 id=\"ordersbypage\">ordersByPage<a title=\"#ordersbypage\" href=\"#ordersbypage\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tPOST /api/admin/ordersByPage HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;state&quot;: -1,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;currentPage&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;pagesize&quot;: 5,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;moneyLimit1&quot;: &quot;1&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;moneyLimit2&quot;: &quot;200&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;goods&quot;: &quot;1&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;address&quot;: &quot;1&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;name&quot;: &quot;1&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;id&quot;: &quot;1&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">\t// 返回</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;data&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;total&quot;: 2,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;orders&quot;: [&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 1826,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;userId&quot;: 64,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;goodsDetailId&quot;: 1285,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;goods&quot;: &quot;高档衣柜&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;spec&quot;: &quot;五组柜&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;goodsNum&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;amount&quot;: 3000.0,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;stateId&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;state&quot;: &quot;未付款&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;user&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t\t&quot;nickname&quot;: &quot;Pikachu&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t\t&quot;name&quot;: &quot;皮卡丘&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t\t&quot;address&quot;: &quot;仙女座星系M18星皮卡丘部落&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t\t&quot;phone&quot;: &quot;130110110&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 1825,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;userId&quot;: 64,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;goodsDetailId&quot;: 1717,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;goods&quot;: &quot;hahaha&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;spec&quot;: &quot;q&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;goodsNum&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;amount&quot;: 111.0,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;stateId&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;state&quot;: &quot;未付款&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;user&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t\t&quot;nickname&quot;: &quot;Pikachu&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t\t&quot;name&quot;: &quot;皮卡丘&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t\t&quot;address&quot;: &quot;仙女座星系M18星皮卡丘部落&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t\t&quot;phone&quot;: &quot;130110110&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;]</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<h6 id=\"getorder\">getOrder<a title=\"#getorder\" href=\"#getorder\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tGET /api/admin/order?id=1844 HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">\t~~// 多返回一个 dFlag 用于修改是否删除~~</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;data&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;id&quot;: 1864,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;amount&quot;: 500.0,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;num&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;goodsDetailId&quot;: 1247,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;state&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;goods&quot;: &quot;组合音响&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;spec&quot;: [&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 1245,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;unitPrice&quot;: 0.0</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 1246,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;specName&quot;: &quot;两件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;unitPrice&quot;: 0.0</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 1247,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;specName&quot;: &quot;三件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;unitPrice&quot;: 0.0</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;],</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;states&quot;: [&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;name&quot;: &quot;未付款&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;name&quot;: &quot;未发货&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 2,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;name&quot;: &quot;已发货&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;, &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 3,</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;name&quot;: &quot;已完成订单&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;],</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;curState&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 1</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;curSpec&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t\t&quot;id&quot;: 1247</span></span><br><span class=\"line\"><span class=\"code\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Demo.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> code;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Data data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Data.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Data</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> amount;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> num;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> goodsDetailID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> state;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String goods;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;Spec&gt; spec;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;State&gt; states;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> CurS curState;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> CurS curSpec;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// CurS.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CurS</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Spec.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Spec</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String specName;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> unitPrice;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// State.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">State</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"update-6\">Update<a title=\"#update-6\" href=\"#update-6\"></a></h5>\n<h6 id=\"changeorder\">changeOrder<a title=\"#changeorder\" href=\"#changeorder\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tPOST /api/admin/changeOrder HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">\t// 只实现更改订单状态的功能</span></span><br><span class=\"line\"><span class=\"code\">\t~~// 多返回一个 dFlag 用于修改是否删除~~</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;id&quot;: &quot;1844&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;state&quot;: 3,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;spec&quot;: 1741,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;num&quot;: 1</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;code&quot;: 0</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-6\">Delete<a title=\"#delete-6\" href=\"#delete-6\"></a></h5>\n<h6 id=\"deleteorder\">deleteOrder<a title=\"#deleteorder\" href=\"#deleteorder\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tGET /api/admin/deleteOrder?id=1821 HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;code&quot;: 0</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"参考代码-2\">参考代码<a title=\"#参考代码-2\" href=\"#参考代码-2\"></a></h4>\n<h5 id=\"create-7\"><code>Create</code><a title=\"#create-7\" href=\"#create-7\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-7\"><code>Retrieve</code><a title=\"#retrieve-7\" href=\"#retrieve-7\"></a></h5>\n<h6 id=\"ordersbypage-1\">ordersByPage<a title=\"#ordersbypage-1\" href=\"#ordersbypage-1\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">Servlet</span><br><span class=\"line\"><span class=\"comment\">//1. 处理解析参数异常 &quot;参数必须是数字&quot;</span></span><br><span class=\"line\"><span class=\"comment\">//2. 校验金额上下限 是否为数字 &quot;金额上下限必须是数字&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">Service</span><br><span class=\"line\">  <span class=\"comment\">//1. 获取 total</span></span><br><span class=\"line\">  <span class=\"comment\">//2. 获取OrderVO</span></span><br><span class=\"line\">  <span class=\"comment\">//3. 返回ordersPageVO</span></span><br><span class=\"line\"></span><br><span class=\"line\">Dao</span><br><span class=\"line\">  getTotalCount</span><br><span class=\"line\">  </span><br><span class=\"line\">  getDynamicSql</span><br><span class=\"line\">  </span><br><span class=\"line\">  ordersByPage</span><br><span class=\"line\">  \tparameter.add(ordersPageBO.getPagesize());</span><br><span class=\"line\">    parameter.add((ordersPageBO.getCurrentPage() - <span class=\"number\">1</span>) * ordersPageBO.getPagesize());</span><br><span class=\"line\"></span><br><span class=\"line\">model</span><br><span class=\"line\">  Orders</span><br><span class=\"line\">  OrdersPageBO</span><br><span class=\"line\">  UserVO</span><br><span class=\"line\">  OrderVO</span><br><span class=\"line\">  OrdersPageVO</span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>\n<h5 id=\"update-7\"><code>Update</code><a title=\"#update-7\" href=\"#update-7\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-7\"><code>Delete</code><a title=\"#delete-7\" href=\"#delete-7\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"代码实现-4\">代码实现<a title=\"#代码实现-4\" href=\"#代码实现-4\"></a></h4>\n<h5 id=\"create-8\"><code>Create</code><a title=\"#create-8\" href=\"#create-8\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-8\"><code>Retrieve</code><a title=\"#retrieve-8\" href=\"#retrieve-8\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-8\"><code>Update</code><a title=\"#update-8\" href=\"#update-8\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-8\"><code>Delete</code><a title=\"#delete-8\" href=\"#delete-8\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"商城模块（mall）\">商城模块（mall）<a title=\"#商城模块（mall）\" href=\"#商城模块（mall）\"></a></h2>\n<h3 id=\"商城首页（index&amp;goods）\">商城首页（index&amp;goods）<a title=\"#商城首页（index&amp;goods）\" href=\"#商城首页（index&amp;goods）\"></a></h3>\n<h4 id=\"需求分析-5\">需求分析<a title=\"#需求分析-5\" href=\"#需求分析-5\"></a></h4>\n<h5 id=\"datebase-3\">DateBase<a title=\"#datebase-3\" href=\"#datebase-3\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"create-9\">Create<a title=\"#create-9\" href=\"#create-9\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">post http://localhost:8084/api/mall/goods/askGoodsMsg</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;token&quot;:&quot;admin&quot;,&quot;msg&quot;:&quot;性能怎么样？？&quot;,&quot;goodsId&quot;:&quot;17&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-9\">Retrieve<a title=\"#retrieve-9\" href=\"#retrieve-9\"></a></h5>\n<h6 id=\"gettype-1\">getType<a title=\"#gettype-1\" href=\"#gettype-1\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">GET /api/mall/getType HTTP/1.</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"getgoodsbytype-1\">getGoodsByType<a title=\"#getgoodsbytype-1\" href=\"#getgoodsbytype-1\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">GET /api/mall/getGoodsByType?typeId=-1 HTTP/1.</span><br><span class=\"line\">http://localhost:8084/api/mall/goods/getGoodsByType?typeId=-1</span><br></pre></td></tr></table></figure>\n<h6 id=\"getgoodsinfo-1\">getGoodsInfo<a title=\"#getgoodsinfo-1\" href=\"#getgoodsinfo-1\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\thttp://localhost:8084/api/mall/goods/getGoodsInfo?id=1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;</span></span><br><span class=\"line\"><span class=\"code\">    &quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;data&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">        &quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1571230945079156699823447120190828211623.jpg&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;name&quot;: &quot;组合音响&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;desc&quot;: &quot;优雅奢华&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;typeId&quot;: 191,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;specs&quot;: [</span></span><br><span class=\"line\"><span class=\"code\">            &#123;</span></span><br><span class=\"line\"><span class=\"code\">                &quot;id&quot;: 1245,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;stockNum&quot;: 72,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;unitPrice&quot;: 200</span></span><br><span class=\"line\"><span class=\"code\">            &#125;,</span></span><br><span class=\"line\"><span class=\"code\">            &#123;</span></span><br><span class=\"line\"><span class=\"code\">                &quot;id&quot;: 1246,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;specName&quot;: &quot;两件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;stockNum&quot;: 481,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;unitPrice&quot;: 380</span></span><br><span class=\"line\"><span class=\"code\">            &#125;,</span></span><br><span class=\"line\"><span class=\"code\">            &#123;</span></span><br><span class=\"line\"><span class=\"code\">                &quot;id&quot;: 1247,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;specName&quot;: &quot;三件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;stockNum&quot;: 996,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;unitPrice&quot;: 500</span></span><br><span class=\"line\"><span class=\"code\">            &#125;</span></span><br><span class=\"line\"><span class=\"code\">        ],</span></span><br><span class=\"line\"><span class=\"code\">        &quot;unitPrice&quot;: 0</span></span><br><span class=\"line\"><span class=\"code\">    &#125;</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Demo.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> code;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Data data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Data.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Data</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String img;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String desc;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> typeID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;Spec&gt; specs;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> unitPrice;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Spec.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Spec</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String specName;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> stockNum;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> unitPrice;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"getgoodsmsg-//-问答\">getGoodsMsg // 问答<a title=\"#getgoodsmsg-//-问答\" href=\"#getgoodsmsg-//-问答\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">http://localhost:8084/api/mall/goods/getGoodsMsg?id=1</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   &quot;code&quot;: 0,</span><br><span class=\"line\">   &quot;data&quot;: [</span><br><span class=\"line\"><span class=\"code\">       &#123;</span></span><br><span class=\"line\"><span class=\"code\">           &quot;id&quot;: 334,</span></span><br><span class=\"line\"><span class=\"code\">           &quot;content&quot;: &quot;才1000块，会不会是假的&quot;,</span></span><br><span class=\"line\"><span class=\"code\">           &quot;asker&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">           &quot;time&quot;: &quot;2020-10-06 08:35:57&quot;,</span></span><br><span class=\"line\"><span class=\"code\">           &quot;reply&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">               &quot;content&quot;: &quot;是假的&quot;,</span></span><br><span class=\"line\"><span class=\"code\">               &quot;time&quot;: &quot;2020-10-06 15:38:58&quot;</span></span><br><span class=\"line\"><span class=\"code\">           &#125;</span></span><br><span class=\"line\"><span class=\"code\">       &#125;,</span></span><br><span class=\"line\"><span class=\"code\">       &#123;</span></span><br><span class=\"line\"><span class=\"code\">           &quot;id&quot;: 397,</span></span><br><span class=\"line\"><span class=\"code\">           &quot;content&quot;: &quot;我是大傻子&quot;,</span></span><br><span class=\"line\"><span class=\"code\">           &quot;asker&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">           &quot;time&quot;: &quot;2020-10-07 21:02:43&quot;,</span></span><br><span class=\"line\"><span class=\"code\">           &quot;reply&quot;: &#123;&#125;</span></span><br><span class=\"line\"><span class=\"code\">       &#125;</span></span><br><span class=\"line\"><span class=\"code\">   ]</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 留言管理</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> code;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;Datum&gt; data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Datum.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Datum</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> userID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> goodsID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String content;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String replyContent;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> state;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String createtime;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Goods goods;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Goods user;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Goods.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Goods</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//留言显示</span></span><br><span class=\"line\"><span class=\"comment\">// Demo.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> code;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;Datum&gt; data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Datum.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Datum</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String content;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String asker;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String time;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Reply reply;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Reply.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Reply</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String content;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String time;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GoodsMsg</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> userID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> goodsID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String content; <span class=\"comment\">//提问内容</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> state; <span class=\"comment\">//状态</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String createtime; <span class=\"comment\">//创建时间</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Goods goods;<span class=\"comment\">// 商品名称</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> User user; <span class=\"comment\">//用户名称</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String content;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String asker;<span class=\"comment\">//用户名称</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String time;<span class=\"comment\">//创建时间</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Reply reply;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Reply</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> String content;<span class=\"comment\">//回复内容</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> String time; <span class=\"comment\">//回复时间</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Goods</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"getgoodscomment-//评价\">getGoodsComment //评价<a title=\"#getgoodscomment-//评价\" href=\"#getgoodscomment-//评价\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\thttp://localhost:8084/api/mall/goods/getGoodsComment?goodsId=1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;</span></span><br><span class=\"line\"><span class=\"code\">  &quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">  &quot;data&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">    &quot;commentList&quot;: [</span></span><br><span class=\"line\"><span class=\"code\">      &#123;</span></span><br><span class=\"line\"><span class=\"code\">        &quot;user&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">          &quot;nickname&quot;: &quot;admin&quot;</span></span><br><span class=\"line\"><span class=\"code\">        &#125;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;score&quot;: 100,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;id&quot;: 121,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;comment&quot;: &quot;不错不错&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;time&quot;: &quot;2020-10-06 21:16:53&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;userId&quot;: 1</span></span><br><span class=\"line\"><span class=\"code\">      &#125;,</span></span><br><span class=\"line\"><span class=\"code\">      &#123;</span></span><br><span class=\"line\"><span class=\"code\">        &quot;user&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">          &quot;nickname&quot;: &quot;hello&quot;</span></span><br><span class=\"line\"><span class=\"code\">        &#125;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;score&quot;: 60,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;id&quot;: 133,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;comment&quot;: &quot;很好&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;time&quot;: &quot;2020-10-07 14:59:00&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;userId&quot;: 93</span></span><br><span class=\"line\"><span class=\"code\">      &#125;,</span></span><br><span class=\"line\"><span class=\"code\">      &#123;</span></span><br><span class=\"line\"><span class=\"code\">        &quot;user&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">          &quot;nickname&quot;: &quot;55kai&quot;</span></span><br><span class=\"line\"><span class=\"code\">        &#125;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;score&quot;: 20,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;id&quot;: 134,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;comment&quot;: &quot;1&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;time&quot;: &quot;2020-10-07 15:30:12&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;userId&quot;: 73</span></span><br><span class=\"line\"><span class=\"code\">      &#125;,</span></span><br><span class=\"line\"><span class=\"code\">      &#123;</span></span><br><span class=\"line\"><span class=\"code\">        &quot;user&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">          &quot;nickname&quot;: &quot;55kai&quot;</span></span><br><span class=\"line\"><span class=\"code\">        &#125;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;score&quot;: 20,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;id&quot;: 135,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;comment&quot;: &quot;2&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;time&quot;: &quot;2020-10-07 15:30:17&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;userId&quot;: 73</span></span><br><span class=\"line\"><span class=\"code\">      &#125;,</span></span><br><span class=\"line\"><span class=\"code\">      &#123;</span></span><br><span class=\"line\"><span class=\"code\">        &quot;user&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">          &quot;nickname&quot;: &quot;admin&quot;</span></span><br><span class=\"line\"><span class=\"code\">        &#125;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;score&quot;: 80,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;id&quot;: 138,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;comment&quot;: &quot;好&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;time&quot;: &quot;2020-10-07 20:50:45&quot;,</span></span><br><span class=\"line\"><span class=\"code\">        &quot;userId&quot;: 1</span></span><br><span class=\"line\"><span class=\"code\">      &#125;</span></span><br><span class=\"line\"><span class=\"code\">    ],</span></span><br><span class=\"line\"><span class=\"code\">    &quot;rate&quot;: 20</span></span><br><span class=\"line\"><span class=\"code\">  &#125;</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">//没有评价</span></span><br><span class=\"line\"><span class=\"code\">&#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;commentList&quot;:[],&quot;rate&quot;:&quot;NaN&quot;&#125;&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">//add评价</span></span><br><span class=\"line\"><span class=\"code\">&#123;</span></span><br><span class=\"line\"><span class=\"code\">    &quot;token&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;orderId&quot;: 2035,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;goodsId&quot;: 482,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;goodsDetailId&quot;: 1249,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;content&quot;: &quot;Hello : ) &quot;,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;score&quot;: 80</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Demo.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> code;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Data data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Data.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Data</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;CommentList&gt; commentList;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> rate;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// CommentList.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CommentList</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> User user;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> score;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String specName;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String comment;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String time;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> userID;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// User.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String nickname;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//add 评价</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String token;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> orderID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> goodsID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> goodsDetailID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String content;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> score;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">请求 URL: http:<span class=\"comment\">//localhost:8084/api/mall/goods/searchGoods?keyword=18</span></span><br><span class=\"line\">请求方法: GET</span><br><span class=\"line\">  </span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;code&quot;</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;data&quot;</span>: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">&quot;id&quot;</span>: <span class=\"number\">483</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;img&quot;</span>: <span class=\"string\">&quot;http://115.29.141.32:8084/static/image/1571231123170156699900581320190828212458.jpg&quot;</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;name&quot;</span>: <span class=\"string\">&quot;华为p30&quot;</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;price&quot;</span>: <span class=\"number\">1000</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;typeId&quot;</span>: <span class=\"number\">191</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">&quot;id&quot;</span>: <span class=\"number\">485</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;img&quot;</span>: <span class=\"string\">&quot;http://115.29.141.32:8084/static/image/1571231806126156699895929620190828212422.jpg&quot;</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;name&quot;</span>: <span class=\"string\">&quot;真华为P30&quot;</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;price&quot;</span>: <span class=\"number\">2000</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;typeId&quot;</span>: <span class=\"number\">191</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Demo.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> code;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;Datum&gt; data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Datum.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Datum</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String img;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> price;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> typeID;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-9\">Update<a title=\"#update-9\" href=\"#update-9\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-9\">Delete<a title=\"#delete-9\" href=\"#delete-9\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"代码实现-5\">代码实现<a title=\"#代码实现-5\" href=\"#代码实现-5\"></a></h4>\n<h5 id=\"create-10\"><code>Create</code><a title=\"#create-10\" href=\"#create-10\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-10\"><code>Retrieve</code><a title=\"#retrieve-10\" href=\"#retrieve-10\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-10\"><code>Update</code><a title=\"#update-10\" href=\"#update-10\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-10\"><code>Delete</code><a title=\"#delete-10\" href=\"#delete-10\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"商品详情\">商品详情<a title=\"#商品详情\" href=\"#商品详情\"></a></h3>\n<h3 id=\"个人中心(order)\">个人中心(order)<a title=\"#个人中心(order)\" href=\"#个人中心(order)\"></a></h3>\n<h6 id=\"getorderbystate\">getOrderByState<a title=\"#getorderbystate\" href=\"#getorderbystate\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">http://localhost:8084/api/mall/order/getOrderByState?state=0&amp;token=admin</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\"><span class=\"code\">    &quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;data&quot;: [</span></span><br><span class=\"line\"><span class=\"code\">        &#123;</span></span><br><span class=\"line\"><span class=\"code\">            &quot;id&quot;: 2037,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;state&quot;: 3,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goodsNum&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;amount&quot;: 1000,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goodsDetailId&quot;: 1248,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;createtime&quot;: &quot;2020-10-08 08:53:34&quot;,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;hasComment&quot;: true,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goods&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">                &quot;id&quot;: 482,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1571231038163156699833630520190828211347.jpg&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;name&quot;: &quot;摄像机&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;goodsDetailId&quot;: 1248,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;spec&quot;: &quot;型号一&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;unitPrice&quot;: 1000</span></span><br><span class=\"line\"><span class=\"code\">            &#125;</span></span><br><span class=\"line\"><span class=\"code\">        &#125;,</span></span><br><span class=\"line\"><span class=\"code\">        &#123;</span></span><br><span class=\"line\"><span class=\"code\">            &quot;id&quot;: 2085,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;state&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goodsNum&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;amount&quot;: 200,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goodsDetailId&quot;: 1245,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;createtime&quot;: &quot;2020-10-08 11:23:56&quot;,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;hasComment&quot;: false,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goods&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">                &quot;id&quot;: 481,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1571230945079156699823447120190828211623.jpg&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;name&quot;: &quot;组合音响&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;goodsDetailId&quot;: 1245,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;spec&quot;: &quot;单件&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;unitPrice&quot;: 200</span></span><br><span class=\"line\"><span class=\"code\">            &#125;</span></span><br><span class=\"line\"><span class=\"code\">        &#125;,</span></span><br><span class=\"line\"><span class=\"code\">        &#123;</span></span><br><span class=\"line\"><span class=\"code\">            &quot;id&quot;: 2086,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;state&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goodsNum&quot;: 3,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;amount&quot;: 90,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goodsDetailId&quot;: 1268,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;createtime&quot;: &quot;2020-10-08 11:24:07&quot;,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;hasComment&quot;: false,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goods&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">                &quot;id&quot;: 489,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/15712322839761567589634340Banana.jpg&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;name&quot;: &quot;香蕉&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;goodsDetailId&quot;: 1268,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;spec&quot;: &quot;10KG&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;unitPrice&quot;: 30</span></span><br><span class=\"line\"><span class=\"code\">            &#125;</span></span><br><span class=\"line\"><span class=\"code\">        &#125;,</span></span><br><span class=\"line\"><span class=\"code\">        &#123;</span></span><br><span class=\"line\"><span class=\"code\">            &quot;id&quot;: 2089,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;state&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goodsNum&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;amount&quot;: 1200,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goodsDetailId&quot;: 1251,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;createtime&quot;: &quot;2020-10-08 11:24:24&quot;,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;hasComment&quot;: false,</span></span><br><span class=\"line\"><span class=\"code\">            &quot;goods&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">                &quot;id&quot;: 483,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1571231123170156699900581320190828212458.jpg&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;name&quot;: &quot;华为p30&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;goodsDetailId&quot;: 1251,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;spec&quot;: &quot;256G&quot;,</span></span><br><span class=\"line\"><span class=\"code\">                &quot;unitPrice&quot;: 1200</span></span><br><span class=\"line\"><span class=\"code\">            &#125;</span></span><br><span class=\"line\"><span class=\"code\">        &#125;</span></span><br><span class=\"line\"><span class=\"code\">    ]</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\"></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Demo.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> code;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;Datum&gt; data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Datum.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Datum</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> state;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> goodsNum;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> amount;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> goodsDetailID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String createtime;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">boolean</span> hasComment;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Goods goods;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Goods.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Goods</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String img;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> goodsDetailID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String spec;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> unitPrice;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"addorder\">addOrder<a title=\"#addorder\" href=\"#addorder\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">http://localhost:8084/api/mall/order/addOrder</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\"><span class=\"code\">    &quot;token&quot;: &quot;admin&quot;,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;goodsDetailId&quot;: 50,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;num&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;state&quot;: 1,</span></span><br><span class=\"line\"><span class=\"code\">    &quot;amount&quot;: 1</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">&#123;&quot;code&quot;:0&#125;</span></span><br><span class=\"line\"><span class=\"code\">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;库存容量不够!&quot;&#125;</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"settleaccounts\">settleAccounts<a title=\"#settleaccounts\" href=\"#settleaccounts\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">请求 URL: http:<span class=\"comment\">//localhost:8084/api/mall/order/settleAccounts</span></span><br><span class=\"line\">请求方法: POST</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;<span class=\"string\">&quot;cartList&quot;</span>:[&#123;<span class=\"string\">&quot;id&quot;</span>:<span class=\"number\">16</span>,<span class=\"string\">&quot;goodsNum&quot;</span>:<span class=\"number\">10</span>,<span class=\"string\">&quot;amount&quot;</span>:<span class=\"number\">20</span>&#125;]&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;<span class=\"string\">&quot;code&quot;</span>:<span class=\"number\">0</span>&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"pay\">pay<a title=\"#pay\" href=\"#pay\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">请求 URL: http:<span class=\"comment\">//localhost:8084/api/mall/order/pay?id=21</span></span><br><span class=\"line\">请求方法: GET</span><br></pre></td></tr></table></figure>\n<h6 id=\"confirmreceive\">confirmReceive<a title=\"#confirmreceive\" href=\"#confirmreceive\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">请求 URL: http:<span class=\"comment\">//localhost:8084/api/mall/order/confirmReceive?id=13</span></span><br><span class=\"line\">请求方法: GET</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"deleteorder-1\">deleteOrder<a title=\"#deleteorder-1\" href=\"#deleteorder-1\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">请求 URL: http:<span class=\"comment\">//localhost:8084/api/mall/order/deleteOrder?id=7</span></span><br><span class=\"line\">请求方法: GET</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"sendcomment\">sendComment<a title=\"#sendcomment\" href=\"#sendcomment\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">请求 URL: http:<span class=\"comment\">//localhost:8084/api/mall/order/sendComment</span></span><br><span class=\"line\">请求方法: POST</span><br><span class=\"line\">  </span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;token&quot;</span>: <span class=\"string\">&quot;admin&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;orderId&quot;</span>: <span class=\"number\">13</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;goodsId&quot;</span>: <span class=\"number\">17</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;goodsDetailId&quot;</span>: <span class=\"number\">56</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;content&quot;</span>: <span class=\"string\">&quot;Good&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;score&quot;</span>: <span class=\"number\">80</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String token;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> orderID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> goodsID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> goodsDetailID;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String content;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> score;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;<span class=\"string\">&quot;code&quot;</span>:<span class=\"number\">0</span>&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"用户模块（user）\">用户模块（user）<a title=\"#用户模块（user）\" href=\"#用户模块（user）\"></a></h3>\n<h4 id=\"需求分析-6\">需求分析<a title=\"#需求分析-6\" href=\"#需求分析-6\"></a></h4>\n<h5 id=\"datebase-4\">DateBase<a title=\"#datebase-4\" href=\"#datebase-4\"></a></h5>\n<p>![image-20201005093715092](/Users/wumin/Library/Application Support/typora-user-images/image-20201005093715092.png)</p>\n<p>![image-20201005092851067](/Users/wumin/Library/Application Support/typora-user-images/image-20201005092851067.png)</p>\n<img src=\"/Users/wumin/Library/Application Support/typora-user-images/image-20201005092741596.png\" alt=\"image-20201005092741596\" style=\"zoom:50%;\" align=\"left\"/>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">&quot;email&quot;:&quot;135799753111@qq.com&quot;,</span><br><span class=\"line\">&quot;nickname&quot;:&quot;pikapika&quot;,</span><br><span class=\"line\">&quot;pwd&quot;:&quot;Aa`!1234&quot;,</span><br><span class=\"line\">&quot;recipient&quot;:&quot;皮卡丘&quot;,</span><br><span class=\"line\">&quot;address&quot;:&quot;仙女座星系M18星皮卡丘部落&quot;,</span><br><span class=\"line\">&quot;phone&quot;:&quot;130110110&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"create-11\">Create<a title=\"#create-11\" href=\"#create-11\"></a></h5>\n<h6 id=\"signup\">signup<a title=\"#signup\" href=\"#signup\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">\tPOST /api/user/signup HTTP/1.1</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;email&quot;: &quot;13579975322@qq.com&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;nickname&quot;: &quot;pikapikapi&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;pwd&quot;: &quot;Aa`!1234&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;recipient&quot;: &quot;皮卡丘&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;address&quot;: &quot;仙女座星系M18星皮卡丘部落&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;phone&quot;: &quot;130110110&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">//成功</span></span><br><span class=\"line\"><span class=\"code\">&#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;code&quot;:0,&quot;name&quot;:&quot;pikuy&quot;,&quot;token&quot;:&quot;pikuy&quot;&#125;&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">\t&#123;</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;code&quot;: 0,</span></span><br><span class=\"line\"><span class=\"code\">\t&quot;data&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;code&quot;: 0  //??</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;name&quot;: &quot;pikapikapi&quot;,</span></span><br><span class=\"line\"><span class=\"code\">\t\t&quot;token&quot;: &quot;pikapikapi&quot;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"code\">//失败</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;用户信息不能为空&quot;&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;账号已存在&quot;&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;昵称已存在&quot;&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;当前系统繁忙&quot;&#125;</span></span><br><span class=\"line\"><span class=\"code\">\t</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"login\">login<a title=\"#login\" href=\"#login\"></a></h6>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">POST /api/user/login HTTP/1.1</span><br><span class=\"line\">http://localhost:8084/api/mall/user/login</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;email&quot;:&quot;13579975311@qq.com&quot;,&quot;pwd&quot;:&quot;Aa`!1234&quot;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;code&quot;:0,&quot;name&quot;:&quot;pipi&quot;,&quot;token&quot;:&quot;pipi&quot;&#125;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//失败</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;登录信息不能为空!&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;账号或密码不正确!&quot;&#125;</span><br><span class=\"line\">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;当前系统繁忙!&quot;&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-11\">Retrieve<a title=\"#retrieve-11\" href=\"#retrieve-11\"></a></h5>\n<h6 id=\"data\">data<a title=\"#data\" href=\"#data\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">请求 URL: http:<span class=\"comment\">//localhost:8084/api/mall/user/data?token=wsdsz</span></span><br><span class=\"line\">请求方法: GET</span><br><span class=\"line\">  </span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;code&quot;</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;data&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;code&quot;</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;id&quot;</span>: <span class=\"string\">&quot;160&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;email&quot;</span>: <span class=\"string\">&quot;13579975323@qq.com&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;nickname&quot;</span>: <span class=\"string\">&quot;apikapu&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;recipient&quot;</span>: <span class=\"string\">&quot;皮卡丘&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;address&quot;</span>: <span class=\"string\">&quot;仙女座星系M18星皮卡丘部落&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;phone&quot;</span>: <span class=\"string\">&quot;130110110&quot;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Demo.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> code;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Data data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Data.java</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> io.quicktype;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Data</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> code;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String email;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String nickname;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String recipient;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String address;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String phone;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-11\">Update<a title=\"#update-11\" href=\"#update-11\"></a></h5>\n<h6 id=\"logoutclient\">logoutClient<a title=\"#logoutclient\" href=\"#logoutclient\"></a></h6>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">请求 URL: http:<span class=\"comment\">//localhost:8084/api/mall/user/logoutClient</span></span><br><span class=\"line\">请求方法: POST</span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-11\">Delete<a title=\"#delete-11\" href=\"#delete-11\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"代码实现-6\">代码实现<a title=\"#代码实现-6\" href=\"#代码实现-6\"></a></h4>\n<h5 id=\"create-12\"><code>Create</code><a title=\"#create-12\" href=\"#create-12\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-12\"><code>Retrieve</code><a title=\"#retrieve-12\" href=\"#retrieve-12\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-12\"><code>Update</code><a title=\"#update-12\" href=\"#update-12\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-12\"><code>Delete</code><a title=\"#delete-12\" href=\"#delete-12\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"购物车\">购物车<a title=\"#购物车\" href=\"#购物车\"></a></h3>\n<h2 id=\"权限验证\">权限验证<a title=\"#权限验证\" href=\"#权限验证\"></a></h2>\n<h3 id=\"参考代码-3\">参考代码<a title=\"#参考代码-3\" href=\"#参考代码-3\"></a></h3>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">origin=http:<span class=\"comment\">//loocalhost:8085</span></span><br><span class=\"line\"></span><br><span class=\"line\">request.getMethod().equalsIgnoreCase(<span class=\"string\">&quot;OPTIONS&quot;</span>)</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// 判断是否是登录</span></span><br><span class=\"line\">  auth(request)</span><br><span class=\"line\">       </span><br><span class=\"line\">  request.getSession().getAttribute(<span class=\"string\">&quot;email&quot;</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"?\">?<a title=\"#?\" href=\"#?\"></a></h2>\n<h3 id=\"管理员账号&amp;用户管理\">管理员账号&amp;用户管理<a title=\"#管理员账号&amp;用户管理\" href=\"#管理员账号&amp;用户管理\"></a></h3>\n<ul>\n<li>\n<p>Charles 抓 <a href=\"http://localhost/\">http://localhost/</a> 的包？</p>\n</li>\n<li>\n<p>Charles 保存抓包记录？</p>\n</li>\n<li>\n<p><s>isEmpty( )</s></p>\n<ul>\n<li>\n<pre><code class=\"language-java\">public boolean isEmpty() &#123;\n        if(StringUtils.isEmpty(this.email) || StringUtils.isEmpty(this.pwd))&#123;\n            return true;\n        &#125;\n        return false;\n&#125;\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">-  ~~gson json字符串---&gt;Java 对象~~</span><br><span class=\"line\"></span><br><span class=\"line\">  - &#96;&#96;&#96;java</span><br><span class=\"line\">    Gson gson &#x3D; new Gson();</span><br><span class=\"line\">    </span><br><span class=\"line\">    AdminLoginBO loginBO &#x3D; gson.fromJson(requestBody, AdminLoginBO.class);</span><br></pre></td></tr></table></figure>\n</code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p><s>SQL DButils</s></p>\n<ul>\n<li>\n<pre><code class=\"language-java\">QueryRunner runner = new QueryRunner(DruidUtils.getDataSource());\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">- ~~Code &#x3D;&#x3D; 0~~</span><br><span class=\"line\"></span><br><span class=\"line\">  - &#96;&#96;&#96;java</span><br><span class=\"line\">    &#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;token&quot;:&quot;admin&quot;,&quot;name&quot;:&quot;admin&quot;&#125;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    ----&gt;</span><br><span class=\"line\">      </span><br><span class=\"line\">    HashMap&lt;String, Object&gt; map &#x3D; new HashMap&lt;&gt;();</span><br><span class=\"line\">    map.put(&quot;token&quot;, loginBO.getEmail());</span><br><span class=\"line\">    map.put(&quot;name&quot;, loginBO.getEmail());</span><br></pre></td></tr></table></figure>\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"商品管理-1\">商品管理<a title=\"#商品管理-1\" href=\"#商品管理-1\"></a></h3>\n<ul>\n<li><s>数据库 int… 类型长度 ?</s> 设置长度没有意义\n<ul>\n<li>![image-20201004150215173](/Users/wumin/Library/Application Support/typora-user-images/image-20201004150215173.png)</li>\n</ul>\n</li>\n<li><s>? 校验什么？ 校验 typeId 是否是数字</s></li>\n<li>![image-20201004150548284](/Users/wumin/Library/Application Support/typora-user-images/image-20201004150548284.png)</li>\n<li>\n<h2 id=\"fileuploadutils-???\">Fileuploadutils ???<a title=\"#fileuploadutils-???\" href=\"#fileuploadutils-???\"></a></h2>\n</li>\n<li><s>注释</s>\n<ul>\n<li>![image-20201004152911283](/Users/wumin/Library/Application Support/typora-user-images/image-20201004152911283.png)</li>\n</ul>\n</li>\n<li><s>application.properties</s></li>\n<li>![image-20201004155841484](/Users/wumin/Library/Application Support/typora-user-images/image-20201004155841484.png)</li>\n<li>select_last_insert id()  #SQL ???</li>\n<li><s>addGoods, updateGoods, addSpec 处理解析异常 ?</s>\n<ul>\n<li>![image-20201006095603409](/Users/wumin/Library/Application Support/typora-user-images/image-20201006095603409.png)</li>\n</ul>\n</li>\n<li>SQL 批处理 ???</li>\n</ul>\n<h3 id=\"订单管理\">订单管理<a title=\"#订单管理\" href=\"#订单管理\"></a></h3>\n<ul>\n<li>\n<p><s>处理非法 isValid ?</s></p>\n</li>\n<li>\n<p><s>goodsdetailId 规格id   ?</s></p>\n</li>\n</ul>\n<h3 id=\"权限验证-1\">权限验证<a title=\"#权限验证-1\" href=\"#权限验证-1\"></a></h3>\n<h3 id=\"商城模块\">商城模块<a title=\"#商城模块\" href=\"#商城模块\"></a></h3>\n<ul>\n<li>\n<ul>\n<li>![image-20201007102001736](/Users/wumin/Library/Application Support/typora-user-images/image-20201007102001736.png)</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>![image-20201007102617592](/Users/wumin/Library/Application Support/typora-user-images/image-20201007102617592.png)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"mark\">Mark<a title=\"#mark\" href=\"#mark\"></a></h2>\n<ol>\n<li>vo&amp;bo\n<ol>\n<li>vo：封装📦<strong>展现给前端的</strong> java 对象，用作中间处理</li>\n<li>bo：封装📦<strong>从前端获取的</strong> java 对象，用作中间处理</li>\n</ol>\n</li>\n<li></li>\n</ol>\n<h2 id=\"项目迭代\">项目迭代<a title=\"#项目迭代\" href=\"#项目迭代\"></a></h2>\n<p>先实现主要功能，推出**“能用即可”**的产品，再根据初期用户反馈快速迭代！</p>\n<h3 id=\"管理员账号&amp;用户管理-1\">管理员账号&amp;用户管理<a title=\"#管理员账号&amp;用户管理-1\" href=\"#管理员账号&amp;用户管理-1\"></a></h3>\n<h4 id=\"密码储存-sha-2-散列（加盐）\">密码储存 SHA-2 散列（加盐）<a title=\"#密码储存-sha-2-散列（加盐）\" href=\"#密码储存-sha-2-散列（加盐）\"></a></h4>\n<h4 id=\"注册-登录-修改-加入正则验证\">注册 登录 修改 加入正则验证<a title=\"#注册-登录-修改-加入正则验证\" href=\"#注册-登录-修改-加入正则验证\"></a></h4>\n<p>![image-20201008102128136](/Users/wumin/Library/Application Support/typora-user-images/image-20201008102128136.png)</p>\n<h4 id=\"用户id列删除后会出现断层\"><s>用户ID列删除后会出现断层</s><a title=\"#用户id列删除后会出现断层\" href=\"#用户id列删除后会出现断层\"></a></h4>\n<p>![image-20200930084722876](/Users/wumin/Library/Application Support/typora-user-images/image-20200930084722876.png)</p>\n<h4 id=\"✅禁止删除当前登录的账号\">✅禁止删除当前登录的账号<a title=\"#✅禁止删除当前登录的账号\" href=\"#✅禁止删除当前登录的账号\"></a></h4>\n<h4 id=\"✅修改当前用户密码需要注销重新登录\">✅修改当前用户密码需要注销重新登录<a title=\"#✅修改当前用户密码需要注销重新登录\" href=\"#✅修改当前用户密码需要注销重新登录\"></a></h4>\n<p>有 bug  <code>updateAdminss</code> 接口修改的是<strong>用户名/昵称</strong>的时候也会注销 😂</p>\n<h3 id=\"商品管理-2\">商品管理<a title=\"#商品管理-2\" href=\"#商品管理-2\"></a></h3>\n<h4 id=\"编辑商品信息返回-默认跳转到第一个类目-#前端相关\"><s>编辑商品信息返回 默认跳转到第一个类目 #前端相关</s><a title=\"#编辑商品信息返回-默认跳转到第一个类目-#前端相关\" href=\"#编辑商品信息返回-默认跳转到第一个类目-#前端相关\"></a></h4>\n<h4 id=\"✅删除类目后该类目下商品移至默认类目\">✅删除类目后该类目下商品移至默认类目<a title=\"#✅删除类目后该类目下商品移至默认类目\" href=\"#✅删除类目后该类目下商品移至默认类目\"></a></h4>\n<h3 id=\"订单管理-1\">订单管理<a title=\"#订单管理-1\" href=\"#订单管理-1\"></a></h3>\n<h4 id=\"updatetme-#前端相关\">Updatetme #前端相关<a title=\"#updatetme-#前端相关\" href=\"#updatetme-#前端相关\"></a></h4>\n<h4 id=\"✅-增加一个订单回收站功能，在回收站可彻底删除\">✅ 增加一个订单回收站功能，在回收站可彻底删除<a title=\"#✅-增加一个订单回收站功能，在回收站可彻底删除\" href=\"#✅-增加一个订单回收站功能，在回收站可彻底删除\"></a></h4>\n<h3 id=\"商城模块-1\">商城模块<a title=\"#商城模块-1\" href=\"#商城模块-1\"></a></h3>\n<h4 id=\"用户信息修改-&amp;-评论-&amp;-后台管理的留言回复-显示头像\">用户信息修改 &amp; 评论 &amp; 后台管理的留言回复 显示头像<a title=\"#用户信息修改-&amp;-评论-&amp;-后台管理的留言回复-显示头像\" href=\"#用户信息修改-&amp;-评论-&amp;-后台管理的留言回复-显示头像\"></a></h4>\n<p>![image-20201008111723949](/Users/wumin/Library/Application Support/typora-user-images/image-20201008111723949.png)</p>\n<h4 id=\"注册根据用户名生成头像\">注册根据用户名生成头像<a title=\"#注册根据用户名生成头像\" href=\"#注册根据用户名生成头像\"></a></h4>\n<h4 id=\"购物车下单逻辑\">购物车下单逻辑<a title=\"#购物车下单逻辑\" href=\"#购物车下单逻辑\"></a></h4>\n<h4 id=\"购物车删除逻辑\">购物车删除逻辑<a title=\"#购物车删除逻辑\" href=\"#购物车删除逻辑\"></a></h4>\n<h2 id=\"xxxxx\">XXXXX<a title=\"#xxxxx\" href=\"#xxxxx\"></a></h2>\n<h4 id=\"需求分析-7\">需求分析<a title=\"#需求分析-7\" href=\"#需求分析-7\"></a></h4>\n<h5 id=\"datebase-5\">DateBase<a title=\"#datebase-5\" href=\"#datebase-5\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"create-13\">Create<a title=\"#create-13\" href=\"#create-13\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-13\">Retrieve<a title=\"#retrieve-13\" href=\"#retrieve-13\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-13\">Update<a title=\"#update-13\" href=\"#update-13\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-13\">Delete<a title=\"#delete-13\" href=\"#delete-13\"></a></h5>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"参考代码-4\">参考代码<a title=\"#参考代码-4\" href=\"#参考代码-4\"></a></h4>\n<h5 id=\"create-14\"><code>Create</code><a title=\"#create-14\" href=\"#create-14\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-14\"><code>Retrieve</code><a title=\"#retrieve-14\" href=\"#retrieve-14\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-14\"><code>Update</code><a title=\"#update-14\" href=\"#update-14\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-14\"><code>Delete</code><a title=\"#delete-14\" href=\"#delete-14\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"代码实现-7\">代码实现<a title=\"#代码实现-7\" href=\"#代码实现-7\"></a></h4>\n<h5 id=\"create-15\"><code>Create</code><a title=\"#create-15\" href=\"#create-15\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"retrieve-15\"><code>Retrieve</code><a title=\"#retrieve-15\" href=\"#retrieve-15\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"update-15\"><code>Update</code><a title=\"#update-15\" href=\"#update-15\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"delete-15\"><code>Delete</code><a title=\"#delete-15\" href=\"#delete-15\"></a></h5>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n<p>✅ updatetime</p>\n<p>✅密码 SHA-256 散列</p>\n<p>✅头像自动生成 API</p>\n<p>购物车 下单逻辑</p>\n<p>图片识别 API</p>\n<p>购物车 删除订单逻辑</p>\n<p>弹窗样式</p>\n","prev":{"title":"Project02_LiteMall","link":"2020/382324/Project-02"},"next":{"title":"Hello World","link":"2019/142108/hello-world"},"plink":"https://gardenZzz.github.io/2020/382317/Project-01/","toc":[{"id":"后台管理模块（admin）","title":"后台管理模块（admin）","index":"1","children":[{"id":"✅-登录&amp;退出&amp;显示所有管理员信息","title":"✅ 登录&amp;退出&amp;显示所有管理员信息","index":"1.1"},{"id":"✅管理员账号crud","title":"✅管理员账号CRUD","index":"1.2"},{"id":"✅-用户管理crud","title":"✅ 用户管理CRUD","index":"1.3"},{"id":"商品管理","title":"商品管理","index":"1.4"},{"id":"✅订单管理","title":"✅订单管理","index":"1.5"}]},{"id":"商城模块（mall）","title":"商城模块（mall）","index":"2","children":[{"id":"商城首页（index&amp;goods）","title":"商城首页（index&amp;goods）","index":"2.1"},{"id":"商品详情","title":"商品详情","index":"2.2"},{"id":"个人中心(order)","title":"个人中心(order)","index":"2.3"},{"id":"用户模块（user）","title":"用户模块（user）","index":"2.4"},{"id":"购物车","title":"购物车","index":"2.5"}]},{"id":"权限验证","title":"权限验证","index":"3","children":[{"id":"参考代码-3","title":"参考代码","index":"3.1"}]},{"id":"?","title":"?","index":"4","children":[{"id":"管理员账号&amp;用户管理","title":"管理员账号&amp;用户管理","index":"4.1"},{"id":"商品管理-1","title":"商品管理","index":"4.2"}]},{"id":"fileuploadutils-???","title":"Fileuploadutils ???","index":"5","children":[{"id":"订单管理","title":"订单管理","index":"5.1"},{"id":"权限验证-1","title":"权限验证","index":"5.2"},{"id":"商城模块","title":"商城模块","index":"5.3"}]},{"id":"mark","title":"Mark","index":"6"},{"id":"项目迭代","title":"项目迭代","index":"7","children":[{"id":"管理员账号&amp;用户管理-1","title":"管理员账号&amp;用户管理","index":"7.1"},{"id":"商品管理-2","title":"商品管理","index":"7.2"},{"id":"订单管理-1","title":"订单管理","index":"7.3"},{"id":"商城模块-1","title":"商城模块","index":"7.4"}]},{"id":"xxxxx","title":"XXXXX","index":"8"}],"reward":true,"copyright":{"author":"Garden X","link":"<a href=\"https://gardenZzz.github.io/2020/382317/Project-01/\" title=\"Project01_MoreMall\">https://gardenZzz.github.io/2020/382317/Project-01/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)"},"reading_time":"6652 words in 44 min"}