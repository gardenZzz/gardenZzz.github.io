<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>gardenZzz&#39;Blog</title>
  
  
  <link href="https://gardenzzz.github.io/atom.xml" rel="self"/>
  
  <link href="https://gardenzzz.github.io/"/>
  <updated>2020-11-28T10:35:45.034Z</updated>
  <id>https://gardenzzz.github.io/</id>
  
  <author>
    <name>Garden X</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>about</title>
    <link href="https://gardenzzz.github.io/2020/350245/about/"/>
    <id>https://gardenzzz.github.io/2020/350245/about/</id>
    <published>2020-11-28T18:35:45.000Z</published>
    <updated>2020-11-28T10:35:45.034Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>Project03_Tmall</title>
    <link href="https://gardenzzz.github.io/2020/490033/Test/"/>
    <id>https://gardenzzz.github.io/2020/490033/Test/</id>
    <published>2020-11-27T16:49:33.000Z</published>
    <updated>2020-11-28T08:53:41.732Z</updated>
    
    <content type="html"><![CDATA[<p>这里是摘要</p><a id="more"></a><p>微服务架构 商城项目</p><p>项目划分：</p><div class="φbt"><div class="φbv"><table><thead><tr><th style="padding:0"></th><th style="padding:0"></th><th style="padding:0"></th></tr></thead><tbody><tr><td>db_script 本项目的数据库脚本</td><td>使用mysql</td><td>暂时未做分表处理，不过有考虑到分表的情况</td></tr><tr><td>gpmall-cashier 收银台，负责支付相关的交互逻辑</td><td>web项目</td><td>8083端口</td></tr><tr><td>gpmall-commons 公共的组件</td><td>jar</td><td>公共组件，很多地方都有引用，改动的时候要注意</td></tr><tr><td>gpmall-front 咕泡商城的前端项目</td><td>前端项目</td><td>使用vue、node、es等前端技术开发</td></tr><tr><td>gpmall-parent 父控文件，用来统一管理所有jar包</td><td>父控文件</td><td>用来统一管理所有项目的jar包的版本</td></tr><tr><td>gpmall-shopping 商品/购物车/首页渲染等交互</td><td>web项目</td><td>8081端口</td></tr><tr><td>gpmall-user 提供用户相关的交互，如登录、注册、个人中心等</td><td>web项目</td><td>8082端口</td></tr><tr><td>market-service 促销活动的Dubbo服务【暂时未联调完成，可以不启动】</td><td>dubbo服务</td><td>20884端口</td></tr><tr><td>pay-service 提供支付处理能力</td><td>dubbo服务</td><td>20883端口</td></tr><tr><td>shopping-service，提供购物车、推荐商品、商品等服务</td><td>dubbo服务</td><td>20881端口</td></tr><tr><td>user-service ，提供用户相关服务</td><td>dubbo服务</td><td>20880端口</td></tr><tr><td>order-service ，提供订单服务</td><td>dubbo服务</td><td>20882端口</td></tr></tbody></table></div></div><h2 id="user-模块">user 模块<a title="#user-模块" href="#user-模块"></a></h2><h3 id="用户模块（/user）">用户模块（/user）<a title="#用户模块（/user）" href="#用户模块（/user）"></a></h3><h4 id="✅注册激活（/verify）">✅注册激活（/verify）<a title="#✅注册激活（/verify）" href="#✅注册激活（/verify）"></a></h4><p>​<strong>入参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">uidString激活id</span><br><span class="line">usernameString用户名</span><br></pre></td></tr></table></figure><p>请求路径：/user/verify</p><p>是否需要携带Token：否</p><p>请求类型：get</p><p>请求路径示例：</p><p><a href="http://localhost:8080/user/verify?uid=xxx&amp;username=xxx">http://localhost:8080/user/verify?uid=xxx&amp;username=xxx</a></p><p><strong>出参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">successboolean成功标记</span><br><span class="line">messageString具体信息</span><br><span class="line">codeInteger状态码</span><br><span class="line">resultString(JSON)具体数据</span><br><span class="line">timestampLong时间戳</span><br></pre></td></tr></table></figure><p>返回参数示例：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;success&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;message&quot;</span>:<span class="string">&quot;success&quot;</span>,<span class="attr">&quot;code&quot;</span>:<span class="number">200</span>,<span class="attr">&quot;result&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;timestamp&quot;</span>:<span class="number">1587710244802</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="shopping-模块">Shopping 模块<a title="#shopping-模块" href="#shopping-模块"></a></h2><h3 id="商品模块">商品模块<a title="#商品模块" href="#商品模块"></a></h3><h4 id="✅获得购物车列表（/carts）">✅获得购物车列表（/carts）<a title="#✅获得购物车列表（/carts）" href="#✅获得购物车列表（/carts）"></a></h4><h5 id="接口文档">接口文档<a title="#接口文档" href="#接口文档"></a></h5><p><strong>入参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">无</span><br></pre></td></tr></table></figure><p>请求路径：/shopping/carts</p><p>是否需要携带Token：是</p><p>请求类型：get</p><p>请求参数示例：无</p><p><strong>出参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">successboolean成功标记</span><br><span class="line">messageString具体信息</span><br><span class="line">codeInteger状态码</span><br><span class="line">resultString(JSON)具体数据</span><br><span class="line">timestampLong时间戳</span><br></pre></td></tr></table></figure><p>返回参数示例：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;success&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;code&quot;</span>: <span class="number">200</span>,</span><br><span class="line">  <span class="attr">&quot;result&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;productId&quot;</span>: <span class="number">100040607</span>,</span><br><span class="line">      <span class="attr">&quot;salePrice&quot;</span>: <span class="number">2999</span>,</span><br><span class="line">      <span class="attr">&quot;productNum&quot;</span>: <span class="number">100</span>,</span><br><span class="line">      <span class="attr">&quot;limitNum&quot;</span>: <span class="number">100</span>,</span><br><span class="line">      <span class="attr">&quot;checked&quot;</span>: <span class="string">&quot;true&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productName&quot;</span>: <span class="string">&quot;坚果 3&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productImg&quot;</span>: <span class="string">&quot;https://resource.smartisan.com/resource/13e91511f6ba3227ca5378fd2e93c54b.png&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;productId&quot;</span>: <span class="number">100040501</span>,</span><br><span class="line">      <span class="attr">&quot;salePrice&quot;</span>: <span class="number">2999</span>,</span><br><span class="line">      <span class="attr">&quot;productNum&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">&quot;limitNum&quot;</span>: <span class="number">100</span>,</span><br><span class="line">      <span class="attr">&quot;checked&quot;</span>: <span class="string">&quot;false&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productName&quot;</span>: <span class="string">&quot;畅呼吸智能空气净化器 · 超级除甲醛版&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productImg&quot;</span>: <span class="string">&quot;https://resource.smartisan.com/resource/71432ad30288fb860a4389881069b874.png&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;productId&quot;</span>: <span class="number">100039702</span>,</span><br><span class="line">      <span class="attr">&quot;salePrice&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">&quot;productNum&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">&quot;limitNum&quot;</span>: <span class="number">100</span>,</span><br><span class="line">      <span class="attr">&quot;checked&quot;</span>: <span class="string">&quot;true&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productName&quot;</span>: <span class="string">&quot;Smartisan 帆布鞋&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productImg&quot;</span>: <span class="string">&quot;https://resource.smartisan.com/resource/578116bddf1d170c89e9af7ba5073fb6.jpg&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">&quot;timestamp&quot;</span>: <span class="number">1605518470998</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="参考代码">参考代码<a title="#参考代码" href="#参考代码"></a></h5><h6 id="provider">Provider<a title="#provider" href="#provider"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/shopping&quot;)</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;AddressController&quot;, description = &quot;地址控制层&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AddressController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">   <span class="meta">@Reference(timeout = 3000,check = false)</span></span><br><span class="line">    IAddressService addressService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;添加地址&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/addresses&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;form&quot;, value = &quot;地址信息&quot;, dataType = &quot;AddressForm&quot;, required = true)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseData <span class="title">addressAdd</span><span class="params">(<span class="meta">@RequestBody</span> AddressForm form, HttpServletRequest servletRequest)</span> </span>&#123;</span><br><span class="line">        log.debug(form.is_Default()+<span class="string">&quot;&quot;</span>);</span><br><span class="line">        log.debug(form.toString());</span><br><span class="line"></span><br><span class="line">        AddAddressRequest request = <span class="keyword">new</span> AddAddressRequest();</span><br><span class="line">        String userInfo = (String) servletRequest.getAttribute(TokenIntercepter.USER_INFO_KEY);</span><br><span class="line">        JSONObject object = JSON.parseObject(userInfo);</span><br><span class="line">        Long uid = Long.parseLong(object.get(<span class="string">&quot;uid&quot;</span>).toString());</span><br><span class="line">        request.setUserId(uid);</span><br><span class="line">        request.setUserName(form.getUserName());</span><br><span class="line">        request.setStreetName(form.getStreetName());</span><br><span class="line">        request.setTel(form.getTel());</span><br><span class="line">        request.setIsDefault(form.is_Default() ? <span class="number">1</span> : <span class="keyword">null</span>);</span><br><span class="line">        AddAddressResponse response = addressService.createAddress(request);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (response.getCode().equals(ShoppingRetCode.SUCCESS.getCode())) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ResponseUtil().setData(response.getMsg());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseUtil().setErrorMsg(response.getMsg());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="consumer">Consumer<a title="#consumer" href="#consumer"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service(interfaceClass = IProductService.class)</span><span class="comment">//指定接口</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IProductServiceImpl</span> <span class="keyword">implements</span> <span class="title">IProductService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    ItemMapper itemMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ProductDetailResponse <span class="title">getProductDetail</span><span class="params">(ProductDetailRequest request)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ProductDetailResponse productDetailResponse = <span class="keyword">new</span> ProductDetailResponse();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 参数基础检查</span></span><br><span class="line">        request.requestCheck();</span><br><span class="line"></span><br><span class="line">        Long productId = request.getId();</span><br><span class="line"></span><br><span class="line">        Item item = itemMapper.selectByPrimaryKey(productId);</span><br><span class="line"></span><br><span class="line">        ProductDetailDto productDetailDto = <span class="keyword">new</span> ProductDetailDto();</span><br><span class="line">        productDetailDto.setProductId(item.getId());</span><br><span class="line">        productDetailDto.setSubTitle(item.getTitle());</span><br><span class="line">        productDetailDto.setSalePrice(item.getPrice());</span><br><span class="line"></span><br><span class="line">        productDetailResponse.setProductDetailDto(productDetailDto);</span><br><span class="line">        productDetailResponse.setCode(ShoppingRetCode.SUCCESS.getCode());</span><br><span class="line">        productDetailResponse.setMsg(ShoppingRetCode.SUCCESS.getMessage());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> productDetailResponse;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="redis-相关">Redis 相关<a title="#redis-相关" href="#redis-相关"></a></h5><p>List&lt;Product&gt; list</p><p>key -----&gt; cart_intem 85 cart_intem 86 HKEYS</p><ol><li><p>把 List 转化为JSONSonstring</p></li><li><p>使用 Hash</p><p>key: userId</p><p>field1: porductId</p><p>value1: 购物车里面商品的对象 Cartproductdt</p><p>field2: porductId</p><p>value2: 购物车里面商品的对象 Cartproductdt</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedissonTest</span> <span class="keyword">extends</span> <span class="title">RedissonDemoApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//注入 redissonClient</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RedissonClient redissonClient;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//使用 redissonClient</span></span><br><span class="line">        RBucket&lt;Object&gt; bucket = redissonClient.getBucket(<span class="string">&quot;liushifu&quot;</span>);</span><br><span class="line"></span><br><span class="line">        bucket.set(<span class="string">&quot;shai&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        RBucket&lt;Object&gt; bucket = redissonClient.getBucket(<span class="string">&quot;liushifu&quot;</span>);</span><br><span class="line"></span><br><span class="line">        String val = (String) bucket.get();</span><br><span class="line"></span><br><span class="line">        System.out.println(val);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        RMap&lt;Object, Object&gt; rMap = redissonClient.getMap(<span class="string">&quot;ligenli&quot;</span>);</span><br><span class="line"></span><br><span class="line">        rMap.put(<span class="string">&quot;weight&quot;</span>,<span class="string">&quot;130&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test04</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        RMap&lt;Object, Object&gt; rMap = redissonClient.getMap(<span class="string">&quot;ligenli&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// hget</span></span><br><span class="line">        String weight = (String) rMap.get(<span class="string">&quot;weight&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(weight);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test05</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        RDeque&lt;Object&gt; rDeque = redissonClient.getDeque(<span class="string">&quot;mylist&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        rDeque.addFirst();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        rDeque.addLast();</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="✅删除购物车中的商品（/carts/{uid}/{pid}）">✅删除购物车中的商品（/carts/{uid}/{pid}）<a title="#✅删除购物车中的商品（/carts/{uid}/{pid}）" href="#✅删除购物车中的商品（/carts/{uid}/{pid}）"></a></h4><p><strong>入参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">uidlong用户id</span><br><span class="line">pidlong商品ID</span><br></pre></td></tr></table></figure><p>请求路径：/shopping/carts/{uid}/{pid}</p><p>是否需要携带Token：是</p><p>请求类型：delete</p><p>请求参数示例：无</p><p><strong>出参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">successboolean成功标记</span><br><span class="line">messageString具体信息</span><br><span class="line">codeInteger状态码</span><br><span class="line">resultString(JSON)具体数据</span><br><span class="line">timestampLong时间戳</span><br></pre></td></tr></table></figure><p>返回参数示例：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;success&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;message&quot;</span>:<span class="string">&quot;success&quot;</span>,<span class="attr">&quot;code&quot;</span>:<span class="number">200</span>,<span class="attr">&quot;result&quot;</span>:<span class="string">&quot;成功&quot;</span>,<span class="attr">&quot;timestamp&quot;</span>:<span class="number">1587794411224</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="订单模块">订单模块<a title="#订单模块" href="#订单模块"></a></h3><h4 id="✅取消订单（cancelorder）">✅取消订单（cancelOrder）<a title="#✅取消订单（cancelorder）" href="#✅取消订单（cancelorder）"></a></h4><p><strong>入参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">idLong订单id</span><br></pre></td></tr></table></figure><p>请求路径：/shopping/cancelOrder</p><p>是否需要携带Token：是</p><p>请求类型：post</p><p>请求参数示例：</p><p>{“id”:“1”}</p><p><strong>出参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">successboolean成功标记</span><br><span class="line">messageString具体信息</span><br><span class="line">codeInteger状态码</span><br><span class="line">resultString(JSON)具体数据</span><br><span class="line">timestampLong时间戳</span><br></pre></td></tr></table></figure><p><strong>数据库</strong></p><p>更新表 tb_order</p><p>![image-20201117092949558](/Users/wumin/Library/Application Support/typora-user-images/image-20201117092949558.png)</p><p>tb_order_item</p><p>![image-20201117103928650](/Users/wumin/Library/Application Support/typora-user-images/image-20201117103928650.png)</p><p>返回参数示例：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;success&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;message&quot;</span>:<span class="string">&quot;success&quot;</span>,<span class="attr">&quot;code&quot;</span>:<span class="number">200</span>,<span class="attr">&quot;result&quot;</span>:<span class="string">&quot;成功&quot;</span>,<span class="attr">&quot;timestamp&quot;</span>:<span class="number">1587795935665</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="支付模块">支付模块<a title="#支付模块" href="#支付模块"></a></h3><h3 id="秒杀模块">秒杀模块<a title="#秒杀模块" href="#秒杀模块"></a></h3><h4 id="项目结构">项目结构<a title="#项目结构" href="#项目结构"></a></h4><img src="/Users/wumin/Library/Application Support/typora-user-images/image-20201123142328324.png" alt="image-20201123142328324" style="zoom:50%;" align="left"/><h2 id="其他">其他<a title="#其他" href="#其他"></a></h2><p>压测对比结果</p><p>样本1</p><p>![image-20201125201712268](/Users/wumin/Library/Application Support/typora-user-images/image-20201125201712268.png)</p><p>样本2</p><p>![image-20201125202401250](/Users/wumin/Library/Application Support/typora-user-images/image-20201125202401250.png)</p><p>![image-20201125202421028](/Users/wumin/Library/Application Support/typora-user-images/image-20201125202421028.png)</p><p>![image-20201125202440625](/Users/wumin/Library/Application Support/typora-user-images/image-20201125202440625.png)</p><p>样本3</p><h2 id="???">???<a title="#???" href="#???"></a></h2>]]></content>
    
    
    <summary type="html">&lt;p&gt;这里是摘要&lt;/p&gt;</summary>
    
    
    
    
    <category term="Test" scheme="https://gardenzzz.github.io/tags/Test/"/>
    
  </entry>
  
  <entry>
    <title>Project03_GpMall</title>
    <link href="https://gardenzzz.github.io/2020/220429/Project-03/"/>
    <id>https://gardenzzz.github.io/2020/220429/Project-03/</id>
    <published>2020-11-06T20:22:29.000Z</published>
    <updated>2020-12-07T15:52:30.373Z</updated>
    
    <content type="html"><![CDATA[<p>基于开源项目 <a href="https://github.com/2227324689/gpmall" target="_blank">gpmall</a> 前端部分的微服务架构的高并发商城。具体实现了项目中用户模块、商品模块、订单模块、支付<br>模块，增加了秒杀模块的业务。</p><a id="more"></a><p>项目划分：</p><div class="φbt"><div class="φbv"><table><thead><tr><th style="padding:0"></th><th style="padding:0"></th><th style="padding:0"></th></tr></thead><tbody><tr><td>db_script 本项目的数据库脚本</td><td>使用mysql</td><td>暂时未做分表处理，不过有考虑到分表的情况</td></tr><tr><td>gpmall-cashier 收银台，负责支付相关的交互逻辑</td><td>web项目</td><td>8083端口</td></tr><tr><td>gpmall-commons 公共的组件</td><td>jar</td><td>公共组件，很多地方都有引用，改动的时候要注意</td></tr><tr><td>gpmall-front 咕泡商城的前端项目</td><td>前端项目</td><td>使用vue、node、es等前端技术开发</td></tr><tr><td>gpmall-parent 父控文件，用来统一管理所有jar包</td><td>父控文件</td><td>用来统一管理所有项目的jar包的版本</td></tr><tr><td>gpmall-shopping 商品/购物车/首页渲染等交互</td><td>web项目</td><td>8081端口</td></tr><tr><td>gpmall-user 提供用户相关的交互，如登录、注册、个人中心等</td><td>web项目</td><td>8082端口</td></tr><tr><td>market-service 促销活动的Dubbo服务【暂时未联调完成，可以不启动】</td><td>dubbo服务</td><td>20884端口</td></tr><tr><td>pay-service 提供支付处理能力</td><td>dubbo服务</td><td>20883端口</td></tr><tr><td>shopping-service，提供购物车、推荐商品、商品等服务</td><td>dubbo服务</td><td>20881端口</td></tr><tr><td>user-service ，提供用户相关服务</td><td>dubbo服务</td><td>20880端口</td></tr><tr><td>order-service ，提供订单服务</td><td>dubbo服务</td><td>20882端口</td></tr></tbody></table></div></div><h2 id="user-模块">user 模块<a title="#user-模块" href="#user-模块"></a></h2><h3 id="用户模块（/user）">用户模块（/user）<a title="#用户模块（/user）" href="#用户模块（/user）"></a></h3><h4 id="✅注册激活（/verify）">✅注册激活（/verify）<a title="#✅注册激活（/verify）" href="#✅注册激活（/verify）"></a></h4><p>​<strong>入参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">uidString激活id</span><br><span class="line">usernameString用户名</span><br></pre></td></tr></table></figure><p>请求路径：/user/verify</p><p>是否需要携带Token：否</p><p>请求类型：get</p><p>请求路径示例：</p><p><a href="http://localhost:8080/user/verify?uid=xxx&amp;username=xxx">http://localhost:8080/user/verify?uid=xxx&amp;username=xxx</a></p><p><strong>出参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">successboolean成功标记</span><br><span class="line">messageString具体信息</span><br><span class="line">codeInteger状态码</span><br><span class="line">resultString(JSON)具体数据</span><br><span class="line">timestampLong时间戳</span><br></pre></td></tr></table></figure><p>返回参数示例：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;success&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;message&quot;</span>:<span class="string">&quot;success&quot;</span>,<span class="attr">&quot;code&quot;</span>:<span class="number">200</span>,<span class="attr">&quot;result&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;timestamp&quot;</span>:<span class="number">1587710244802</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="shopping-模块">Shopping 模块<a title="#shopping-模块" href="#shopping-模块"></a></h2><h3 id="商品模块">商品模块<a title="#商品模块" href="#商品模块"></a></h3><h4 id="✅获得购物车列表（/carts）">✅获得购物车列表（/carts）<a title="#✅获得购物车列表（/carts）" href="#✅获得购物车列表（/carts）"></a></h4><h5 id="接口文档">接口文档<a title="#接口文档" href="#接口文档"></a></h5><p><strong>入参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">无</span><br></pre></td></tr></table></figure><p>请求路径：/shopping/carts</p><p>是否需要携带Token：是</p><p>请求类型：get</p><p>请求参数示例：无</p><p><strong>出参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">successboolean成功标记</span><br><span class="line">messageString具体信息</span><br><span class="line">codeInteger状态码</span><br><span class="line">resultString(JSON)具体数据</span><br><span class="line">timestampLong时间戳</span><br></pre></td></tr></table></figure><p>返回参数示例：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;success&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;code&quot;</span>: <span class="number">200</span>,</span><br><span class="line">  <span class="attr">&quot;result&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;productId&quot;</span>: <span class="number">100040607</span>,</span><br><span class="line">      <span class="attr">&quot;salePrice&quot;</span>: <span class="number">2999</span>,</span><br><span class="line">      <span class="attr">&quot;productNum&quot;</span>: <span class="number">100</span>,</span><br><span class="line">      <span class="attr">&quot;limitNum&quot;</span>: <span class="number">100</span>,</span><br><span class="line">      <span class="attr">&quot;checked&quot;</span>: <span class="string">&quot;true&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productName&quot;</span>: <span class="string">&quot;坚果 3&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productImg&quot;</span>: <span class="string">&quot;https://resource.smartisan.com/resource/13e91511f6ba3227ca5378fd2e93c54b.png&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;productId&quot;</span>: <span class="number">100040501</span>,</span><br><span class="line">      <span class="attr">&quot;salePrice&quot;</span>: <span class="number">2999</span>,</span><br><span class="line">      <span class="attr">&quot;productNum&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">&quot;limitNum&quot;</span>: <span class="number">100</span>,</span><br><span class="line">      <span class="attr">&quot;checked&quot;</span>: <span class="string">&quot;false&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productName&quot;</span>: <span class="string">&quot;畅呼吸智能空气净化器 · 超级除甲醛版&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productImg&quot;</span>: <span class="string">&quot;https://resource.smartisan.com/resource/71432ad30288fb860a4389881069b874.png&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;productId&quot;</span>: <span class="number">100039702</span>,</span><br><span class="line">      <span class="attr">&quot;salePrice&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">&quot;productNum&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">&quot;limitNum&quot;</span>: <span class="number">100</span>,</span><br><span class="line">      <span class="attr">&quot;checked&quot;</span>: <span class="string">&quot;true&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productName&quot;</span>: <span class="string">&quot;Smartisan 帆布鞋&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;productImg&quot;</span>: <span class="string">&quot;https://resource.smartisan.com/resource/578116bddf1d170c89e9af7ba5073fb6.jpg&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">&quot;timestamp&quot;</span>: <span class="number">1605518470998</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="参考代码">参考代码<a title="#参考代码" href="#参考代码"></a></h5><h6 id="provider">Provider<a title="#provider" href="#provider"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/shopping&quot;)</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;AddressController&quot;, description = &quot;地址控制层&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AddressController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">   <span class="meta">@Reference(timeout = 3000,check = false)</span></span><br><span class="line">    IAddressService addressService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;添加地址&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/addresses&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;form&quot;, value = &quot;地址信息&quot;, dataType = &quot;AddressForm&quot;, required = true)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseData <span class="title">addressAdd</span><span class="params">(<span class="meta">@RequestBody</span> AddressForm form, HttpServletRequest servletRequest)</span> </span>&#123;</span><br><span class="line">        log.debug(form.is_Default()+<span class="string">&quot;&quot;</span>);</span><br><span class="line">        log.debug(form.toString());</span><br><span class="line"></span><br><span class="line">        AddAddressRequest request = <span class="keyword">new</span> AddAddressRequest();</span><br><span class="line">        String userInfo = (String) servletRequest.getAttribute(TokenIntercepter.USER_INFO_KEY);</span><br><span class="line">        JSONObject object = JSON.parseObject(userInfo);</span><br><span class="line">        Long uid = Long.parseLong(object.get(<span class="string">&quot;uid&quot;</span>).toString());</span><br><span class="line">        request.setUserId(uid);</span><br><span class="line">        request.setUserName(form.getUserName());</span><br><span class="line">        request.setStreetName(form.getStreetName());</span><br><span class="line">        request.setTel(form.getTel());</span><br><span class="line">        request.setIsDefault(form.is_Default() ? <span class="number">1</span> : <span class="keyword">null</span>);</span><br><span class="line">        AddAddressResponse response = addressService.createAddress(request);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (response.getCode().equals(ShoppingRetCode.SUCCESS.getCode())) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ResponseUtil().setData(response.getMsg());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseUtil().setErrorMsg(response.getMsg());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="consumer">Consumer<a title="#consumer" href="#consumer"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service(interfaceClass = IProductService.class)</span><span class="comment">//指定接口</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IProductServiceImpl</span> <span class="keyword">implements</span> <span class="title">IProductService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    ItemMapper itemMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ProductDetailResponse <span class="title">getProductDetail</span><span class="params">(ProductDetailRequest request)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ProductDetailResponse productDetailResponse = <span class="keyword">new</span> ProductDetailResponse();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 参数基础检查</span></span><br><span class="line">        request.requestCheck();</span><br><span class="line"></span><br><span class="line">        Long productId = request.getId();</span><br><span class="line"></span><br><span class="line">        Item item = itemMapper.selectByPrimaryKey(productId);</span><br><span class="line"></span><br><span class="line">        ProductDetailDto productDetailDto = <span class="keyword">new</span> ProductDetailDto();</span><br><span class="line">        productDetailDto.setProductId(item.getId());</span><br><span class="line">        productDetailDto.setSubTitle(item.getTitle());</span><br><span class="line">        productDetailDto.setSalePrice(item.getPrice());</span><br><span class="line"></span><br><span class="line">        productDetailResponse.setProductDetailDto(productDetailDto);</span><br><span class="line">        productDetailResponse.setCode(ShoppingRetCode.SUCCESS.getCode());</span><br><span class="line">        productDetailResponse.setMsg(ShoppingRetCode.SUCCESS.getMessage());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> productDetailResponse;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="redis-相关">Redis 相关<a title="#redis-相关" href="#redis-相关"></a></h5><p>List&lt;Product&gt; list</p><p>key -----&gt; cart_intem 85 cart_intem 86 HKEYS</p><ol><li><p>把 List 转化为JSONSonstring</p></li><li><p>使用 Hash</p><p>key: userId</p><p>field1: porductId</p><p>value1: 购物车里面商品的对象 Cartproductdt</p><p>field2: porductId</p><p>value2: 购物车里面商品的对象 Cartproductdt</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedissonTest</span> <span class="keyword">extends</span> <span class="title">RedissonDemoApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//注入 redissonClient</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RedissonClient redissonClient;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//使用 redissonClient</span></span><br><span class="line">        RBucket&lt;Object&gt; bucket = redissonClient.getBucket(<span class="string">&quot;liushifu&quot;</span>);</span><br><span class="line"></span><br><span class="line">        bucket.set(<span class="string">&quot;shai&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        RBucket&lt;Object&gt; bucket = redissonClient.getBucket(<span class="string">&quot;liushifu&quot;</span>);</span><br><span class="line"></span><br><span class="line">        String val = (String) bucket.get();</span><br><span class="line"></span><br><span class="line">        System.out.println(val);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        RMap&lt;Object, Object&gt; rMap = redissonClient.getMap(<span class="string">&quot;ligenli&quot;</span>);</span><br><span class="line"></span><br><span class="line">        rMap.put(<span class="string">&quot;weight&quot;</span>,<span class="string">&quot;130&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test04</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        RMap&lt;Object, Object&gt; rMap = redissonClient.getMap(<span class="string">&quot;ligenli&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// hget</span></span><br><span class="line">        String weight = (String) rMap.get(<span class="string">&quot;weight&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(weight);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test05</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        RDeque&lt;Object&gt; rDeque = redissonClient.getDeque(<span class="string">&quot;mylist&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        rDeque.addFirst();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        rDeque.addLast();</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="✅删除购物车中的商品（/carts/{uid}/{pid}）">✅删除购物车中的商品（/carts/{uid}/{pid}）<a title="#✅删除购物车中的商品（/carts/{uid}/{pid}）" href="#✅删除购物车中的商品（/carts/{uid}/{pid}）"></a></h4><p><strong>入参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">uidlong用户id</span><br><span class="line">pidlong商品ID</span><br></pre></td></tr></table></figure><p>请求路径：/shopping/carts/{uid}/{pid}</p><p>是否需要携带Token：是</p><p>请求类型：delete</p><p>请求参数示例：无</p><p><strong>出参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">successboolean成功标记</span><br><span class="line">messageString具体信息</span><br><span class="line">codeInteger状态码</span><br><span class="line">resultString(JSON)具体数据</span><br><span class="line">timestampLong时间戳</span><br></pre></td></tr></table></figure><p>返回参数示例：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;success&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;message&quot;</span>:<span class="string">&quot;success&quot;</span>,<span class="attr">&quot;code&quot;</span>:<span class="number">200</span>,<span class="attr">&quot;result&quot;</span>:<span class="string">&quot;成功&quot;</span>,<span class="attr">&quot;timestamp&quot;</span>:<span class="number">1587794411224</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="订单模块">订单模块<a title="#订单模块" href="#订单模块"></a></h3><h4 id="✅取消订单（cancelorder）">✅取消订单（cancelOrder）<a title="#✅取消订单（cancelorder）" href="#✅取消订单（cancelorder）"></a></h4><p><strong>入参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">idLong订单id</span><br></pre></td></tr></table></figure><p>请求路径：/shopping/cancelOrder</p><p>是否需要携带Token：是</p><p>请求类型：post</p><p>请求参数示例：</p><p>{“id”:“1”}</p><p><strong>出参</strong><strong>类型</strong><strong>含义</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">successboolean成功标记</span><br><span class="line">messageString具体信息</span><br><span class="line">codeInteger状态码</span><br><span class="line">resultString(JSON)具体数据</span><br><span class="line">timestampLong时间戳</span><br></pre></td></tr></table></figure><p><strong>数据库</strong></p><p>更新表 tb_order</p><p>![image-20201117092949558](/Users/wumin/Library/Application Support/typora-user-images/image-20201117092949558.png)</p><p>tb_order_item</p><p>![image-20201117103928650](/Users/wumin/Library/Application Support/typora-user-images/image-20201117103928650.png)</p><p>返回参数示例：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;success&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;message&quot;</span>:<span class="string">&quot;success&quot;</span>,<span class="attr">&quot;code&quot;</span>:<span class="number">200</span>,<span class="attr">&quot;result&quot;</span>:<span class="string">&quot;成功&quot;</span>,<span class="attr">&quot;timestamp&quot;</span>:<span class="number">1587795935665</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="支付模块">支付模块<a title="#支付模块" href="#支付模块"></a></h3><h3 id="秒杀模块">秒杀模块<a title="#秒杀模块" href="#秒杀模块"></a></h3><h4 id="项目结构">项目结构<a title="#项目结构" href="#项目结构"></a></h4><img src="/Users/wumin/Library/Application Support/typora-user-images/image-20201123142328324.png" alt="image-20201123142328324" style="zoom:50%;" align="left"/><h2 id="其他">其他<a title="#其他" href="#其他"></a></h2><p>压测对比结果</p><p>样本1</p><p>![image-20201125201712268](/Users/wumin/Library/Application Support/typora-user-images/image-20201125201712268.png)</p><p>样本2</p><p>![image-20201125202401250](/Users/wumin/Library/Application Support/typora-user-images/image-20201125202401250.png)</p><p>![image-20201125202421028](/Users/wumin/Library/Application Support/typora-user-images/image-20201125202421028.png)</p><p>![image-20201125202440625](/Users/wumin/Library/Application Support/typora-user-images/image-20201125202440625.png)</p><p>样本3</p><h2 id="???">???<a title="#???" href="#???"></a></h2>]]></content>
    
    
    <summary type="html">&lt;p&gt;基于开源项目 &lt;a href=&quot;https://github.com/2227324689/gpmall&quot; target=&quot;_blank&quot;&gt;gpmall&lt;/a&gt; 前端部分的微服务架构的高并发商城。具体实现了项目中用户模块、商品模块、订单模块、支付&lt;br&gt;
模块，增加了秒杀模块的业务。&lt;/p&gt;</summary>
    
    
    
    <category term="项目" scheme="https://gardenzzz.github.io/categories/%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="微服务" scheme="https://gardenzzz.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    <category term="分布式" scheme="https://gardenzzz.github.io/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
    <category term="Java" scheme="https://gardenzzz.github.io/tags/Java/"/>
    
    <category term="Spring" scheme="https://gardenzzz.github.io/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Project02_LiteMall</title>
    <link href="https://gardenzzz.github.io/2020/380724/Project-02/"/>
    <id>https://gardenzzz.github.io/2020/380724/Project-02/</id>
    <published>2020-10-15T23:38:24.000Z</published>
    <updated>2020-12-07T15:50:17.932Z</updated>
    
    <content type="html"><![CDATA[<p>基于开源项目 <a href="https://github.com/linlinjava/litemall" target="_blank">litemall</a> 管理员前端 + 小程序用户前端部分的微信小程序商城。完整的实现了除团购模块外所有后台管<br>理(管理员权限管理，日志记录…)和用户商城(用户登录，购买，优惠券…)的功能</p><a id="more"></a><p><code>org.gardenx</code></p><p>![image-20201103144820775](/Users/wumin/Library/Application Support/typora-user-images/image-20201103144820775.png)</p><p>后台地址：<a href="http://182.92.235.201/">http://182.92.235.201/</a></p><h2 id="管理后台（admin）">管理后台（admin）<a title="#管理后台（admin）" href="#管理后台（admin）"></a></h2><h3 id="身份认证（auth）">身份认证（auth）<a title="#身份认证（auth）" href="#身份认证（auth）"></a></h3><p>处理跨域 <code>CorsConfig</code></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by little Stone</span></span><br><span class="line"><span class="comment"> * Date 2019/4/19 Time 10:44</span></span><br><span class="line"><span class="comment"> * Function:ajax跨域请求配置</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CorsConfig</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> CorsConfiguration <span class="title">buildConfig</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        CorsConfiguration corsConfiguration = <span class="keyword">new</span> CorsConfiguration();</span><br><span class="line">        corsConfiguration.addAllowedOrigin(<span class="string">&quot;*&quot;</span>); <span class="comment">// 1 设置访问源地址</span></span><br><span class="line">        corsConfiguration.addAllowedHeader(<span class="string">&quot;*&quot;</span>); <span class="comment">// 2 设置访问源请求头</span></span><br><span class="line">        corsConfiguration.addAllowedMethod(<span class="string">&quot;*&quot;</span>); <span class="comment">// 3 设置访问源请求方法</span></span><br><span class="line">        <span class="keyword">return</span> corsConfiguration;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CorsFilter <span class="title">corsFilter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        UrlBasedCorsConfigurationSource source = <span class="keyword">new</span> UrlBasedCorsConfigurationSource();</span><br><span class="line">        source.registerCorsConfiguration(<span class="string">&quot;/**&quot;</span>, buildConfig()); <span class="comment">// 4 对接口配置跨域设置</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> CorsFilter(source);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>application.yaml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">Cor</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line"><span class="attr">pagehelper:</span></span><br><span class="line">  <span class="attr">helper-dialect:</span> <span class="string">mysql</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line"><span class="comment">#    指定包的日志级别</span></span><br><span class="line">    <span class="attr">com.cskaoyan.mall25.mapper:</span> <span class="string">debug</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="login">login<a title="#login" href="#login"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/auth/login</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;username&quot;</span>:<span class="string">&quot;admin123&quot;</span>,<span class="attr">&quot;password&quot;</span>:<span class="string">&quot;admin123&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:<span class="string">&quot;f43ebf1c-b233-4cca-a6b5-5d44fd5026b8&quot;</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h6 id="info">info<a title="#info" href="#info"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/auth/info?token=f43ebf1c-b233-4cca-a6b5-5d44fd5026b8</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line">token=653e4268-6345-4819-8608-7e6c00cf822c</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;roles&quot;</span>:[<span class="string">&quot;超级管理员&quot;</span>],<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;admin123&quot;</span>,<span class="attr">&quot;perms&quot;</span>:[<span class="string">&quot;*&quot;</span>],<span class="attr">&quot;avatar&quot;</span>:<span class="string">&quot;https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif&quot;</span>&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="logout">logout<a title="#logout" href="#logout"></a></h6><figure class="highlight"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/auth/logout</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">空</span><br></pre></td></tr></table></figure><h3 id="用户管理">用户管理<a title="#用户管理" href="#用户管理"></a></h3><h3 id="商场管理">商场管理<a title="#商场管理" href="#商场管理"></a></h3><h3 id="商品管理">商品管理<a title="#商品管理" href="#商品管理"></a></h3><h3 id="推广管理">推广管理<a title="#推广管理" href="#推广管理"></a></h3><h4 id="团购规则&amp;团购活动（groupon）">团购规则&amp;团购活动（groupon）<a title="#团购规则&amp;团购活动（groupon）" href="#团购规则&amp;团购活动（groupon）"></a></h4><h5 id="✅团购规则">✅团购规则<a title="#✅团购规则" href="#✅团购规则"></a></h5><p>![image-20201102110653978](/Users/wumin/Library/Application Support/typora-user-images/image-20201102110653978.png)</p><h6 id="list">list<a title="#list" href="#list"></a></h6><figure class="highlight"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/groupon/list?page=1&amp;limit=20&amp;sort=add_time&amp;order=desc</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line">http://182.92.235.201:8083/admin/groupon/list?page=1&amp;limit=20&amp;goodsId=1181061&amp;sort=add_time&amp;order=desc</span><br><span class="line"></span><br><span class="line">&#123;errno: 0, data: &#123;total: 13,…&#125;, errmsg: &quot;成功&quot;&#125;</span><br><span class="line">data: &#123;total: 13,…&#125;</span><br><span class="line">items: [&#123;id: 19, goodsId: 1181064, goodsName: &quot;hesiasd&quot;, picUrl: &quot;&quot;, discount: 22, discountMember: 22,…&#125;,…]</span><br><span class="line">total: 13</span><br><span class="line">errmsg: &quot;成功&quot;</span><br><span class="line">errno: 0</span><br><span class="line"></span><br><span class="line"><span class="comment">//Data</span></span><br><span class="line">public class Data &#123;</span><br><span class="line">    private long total;</span><br><span class="line">    private Item[] items;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Item.java</span></span><br><span class="line">@Data</span><br><span class="line">public class Item &#123;</span><br><span class="line">    private long id;</span><br><span class="line">    private long goodsID;</span><br><span class="line">    private String goodsName;</span><br><span class="line">    private String picURL;</span><br><span class="line">    private long discount;</span><br><span class="line">    private long discountMember;</span><br><span class="line">    private String addTime;</span><br><span class="line">    private String updateTime;</span><br><span class="line">    private String expireTime;</span><br><span class="line">    private boolean deleted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="create">create<a title="#create" href="#create"></a></h6><p>![image-20201102143215432](/Users/wumin/Library/Application Support/typora-user-images/image-20201102143215432.png)</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/groupon/create</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;goodsId&quot;</span>:<span class="string">&quot;11111&quot;</span>,<span class="attr">&quot;discount&quot;</span>:<span class="string">&quot;1111&quot;</span>,<span class="attr">&quot;discountMember&quot;</span>:<span class="string">&quot;2&quot;</span>,<span class="attr">&quot;expireTime&quot;</span>:<span class="string">&quot;2020-11-19 00:00:00&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">402</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;参数值不对&quot;</span>&#125;</span><br><span class="line"><span class="comment">//&#123;&quot;errno&quot;:651,&quot;errmsg&quot;:&quot;团购商品已经存在&quot;&#125;</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">21</span>,<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1181061</span>,<span class="attr">&quot;goodsName&quot;</span>:<span class="string">&quot;xudong的测试商品&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/hbzd03azu1tefqs435g3.jpg&quot;</span>,<span class="attr">&quot;discount&quot;</span>:<span class="number">1111</span>,<span class="attr">&quot;discountMember&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-02 13:20:08&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-02 13:20:08&quot;</span>,<span class="attr">&quot;expireTime&quot;</span>:<span class="string">&quot;2020-11-19 00:00:00&quot;</span>&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">22</span>,<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1181061</span>,<span class="attr">&quot;goodsName&quot;</span>:<span class="string">&quot;xudong的测试商品&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/hbzd03azu1tefqs435g3.jpg&quot;</span>,<span class="attr">&quot;discount&quot;</span>:<span class="number">88</span>,<span class="attr">&quot;discountMember&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-02 13:22:52&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-02 13:22:52&quot;</span>,<span class="attr">&quot;expireTime&quot;</span>:<span class="string">&quot;2020-11-07 00:00:00&quot;</span>&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private long id;</span><br><span class="line">    private long goodsID;</span><br><span class="line">    private String goodsName;</span><br><span class="line">    private String picURL;</span><br><span class="line">    private long discount;</span><br><span class="line">    private long discountMember;</span><br><span class="line">    private String addTime;</span><br><span class="line">    private String updateTime;</span><br><span class="line">    private String expireTime;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="update">update<a title="#update" href="#update"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/groupon/update</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">20</span>,<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1181061</span>,<span class="attr">&quot;goodsName&quot;</span>:<span class="string">&quot;xudong的测试商品&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/hbzd03azu1tefqs435g3.jpg&quot;</span>,<span class="attr">&quot;discount&quot;</span>:<span class="number">200</span>,<span class="attr">&quot;discountMember&quot;</span>:<span class="string">&quot;1&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-02 13:18:28&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-02 13:18:28&quot;</span>,<span class="attr">&quot;expireTime&quot;</span>:<span class="string">&quot;2020-11-27 00:00:00&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;goodsId&quot;</span>:<span class="string">&quot;11111&quot;</span>,<span class="attr">&quot;discount&quot;</span>:<span class="string">&quot;1111&quot;</span>,<span class="attr">&quot;discountMember&quot;</span>:<span class="string">&quot;2&quot;</span>,<span class="attr">&quot;expireTime&quot;</span>:<span class="string">&quot;2020-11-19 00:00:00&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">402</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;参数值不对&quot;</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="delete">delete<a title="#delete" href="#delete"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/groupon/delete</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">22</span>,<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1181061</span>,<span class="attr">&quot;goodsName&quot;</span>:<span class="string">&quot;xudong的测试商品&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/hbzd03azu1tefqs435g3.jpg&quot;</span>,<span class="attr">&quot;discount&quot;</span>:<span class="number">88</span>,<span class="attr">&quot;discountMember&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-02 13:22:52&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-02 13:22:52&quot;</span>,<span class="attr">&quot;expireTime&quot;</span>:<span class="string">&quot;2020-11-07 00:00:00&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="❌团购活动">❌团购活动<a title="#❌团购活动" href="#❌团购活动"></a></h5><h3 id="系统管理">系统管理<a title="#系统管理" href="#系统管理"></a></h3><h4 id="管理员（admin）">管理员（admin）<a title="#管理员（admin）" href="#管理员（admin）"></a></h4><p><code>✅list</code></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://localhost:8083/admin/admin/list?page=1&amp;limit=20&amp;sort=add_time&amp;order=desc</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line">请求 URL: http://182.92.235.201:8083/admin/admin/list?page=1&amp;limit=20&amp;username=1&amp;sort=add_time&amp;order=desc</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;total&quot;</span>:<span class="number">51</span>,<span class="attr">&quot;items&quot;</span>:[&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">101</span>,<span class="attr">&quot;username&quot;</span>:<span class="string">&quot;dsasasaasdasd&quot;</span>,<span class="attr">&quot;avatar&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/o4mo945qk1gb6einp5p3.jpg&quot;</span>,<span class="attr">&quot;roleIds&quot;</span>:[<span class="number">21</span>]&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">100</span>,<span class="attr">&quot;username&quot;</span>:<span class="string">&quot;saddasdasads&quot;</span>,<span class="attr">&quot;avatar&quot;</span>:<span class="string">&quot;&#x27;&quot;</span>,<span class="attr">&quot;roleIds&quot;</span>:[<span class="number">21</span>,<span class="number">3</span>]&#125;]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="create-1">create<a title="#create-1" href="#create-1"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://localhost:8083/admin/admin/create</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;username&quot;</span>:<span class="string">&quot;wu&quot;</span>,<span class="attr">&quot;password&quot;</span>:<span class="string">&quot;123456&quot;</span>,<span class="attr">&quot;avatar&quot;</span>:<span class="string">&quot;/Users/wumin/JavaDevelopment/Project_02/img/4ae7622b-0484-4b0a-bcc8-009577d3c04c.jpeg&quot;</span>,<span class="attr">&quot;roleIds&quot;</span>:[<span class="number">1</span>]&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">601</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;管理员名称不符合规定&quot;</span>&#125;</span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">602</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;管理员密码长度不能小于6&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">107</span>,<span class="attr">&quot;username&quot;</span>:<span class="string">&quot;dfkdslfj&quot;</span>,<span class="attr">&quot;password&quot;</span>:<span class="string">&quot;$2a$10$qEfmgaDf/dkaSs5X4YEvIuxx4leqQcZi3T4yuUdCGlwmZhoRBQRW.&quot;</span>,<span class="attr">&quot;avatar&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/so0erkhj3d0885tahz8p.jpg&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03 12:20:52&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 12:20:52&quot;</span>,<span class="attr">&quot;roleIds&quot;</span>:[<span class="number">1</span>]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://localhost:8083/admin/admin/update</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">8</span>,<span class="attr">&quot;username&quot;</span>:<span class="string">&quot;fgfdg&quot;</span>,<span class="attr">&quot;password&quot;</span>:<span class="string">&quot;43211142342134&quot;</span>,<span class="attr">&quot;lastLoginIp&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;lastLoginTime&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;avatar&quot;</span>:<span class="string">&quot;/Users/wumin/JavaDevelopment/Project_02/img/87c6f21f-0325-45f2-826c-c8bd3b8438ec.png&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;roleIds&quot;</span>:[<span class="number">2</span>,<span class="number">1</span>]&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">103</span>,<span class="attr">&quot;username&quot;</span>:<span class="string">&quot;wdasdsafs&quot;</span>,<span class="attr">&quot;password&quot;</span>:<span class="string">&quot;$2a$10$ozEOnF63fCHLARu.4lFSMerqq3jwMGvPe21k1qwpacqkpI.Hn9GSi&quot;</span>,<span class="attr">&quot;avatar&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/cgd1ycx948h1d7ci04lx.png&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 12:55:56&quot;</span>,<span class="attr">&quot;roleIds&quot;</span>:[<span class="number">3</span>,<span class="number">2</span>]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://localhost:8083/admin/admin/delete</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">8</span>,<span class="attr">&quot;username&quot;</span>:<span class="string">&quot;fgfdg00&quot;</span>,<span class="attr">&quot;password&quot;</span>:<span class="string">&quot;43211142342134&quot;</span>,<span class="attr">&quot;lastLoginIp&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;lastLoginTime&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;avatar&quot;</span>:<span class="string">&quot;/Users/wumin/JavaDevelopment/Project_02/img/87c6f21f-0325-45f2-826c-c8bd3b8438ec.png&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;roleIds&quot;</span>:[<span class="number">2</span>]&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="操作日志（log）">操作日志（log）<a title="#操作日志（log）" href="#操作日志（log）"></a></h4><h6 id="list-1">list<a title="#list-1" href="#list-1"></a></h6><figure class="highlight"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/log/list?page=1&amp;limit=20&amp;name=admin&amp;sort=add_time&amp;order=desc</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;total&quot;</span>:<span class="number">3435</span>,<span class="attr">&quot;items&quot;</span>:[&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">3417</span>,<span class="attr">&quot;admin&quot;</span>:<span class="string">&quot;admin123&quot;</span>,<span class="attr">&quot;ip&quot;</span>:<span class="string">&quot;221.232.57.159&quot;</span>,<span class="attr">&quot;type&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;action&quot;</span>:<span class="string">&quot;添加管理员&quot;</span>,<span class="attr">&quot;status&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;result&quot;</span>:<span class="string">&quot;dfkdslfj&quot;</span>,<span class="attr">&quot;comment&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03 12:20:53&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 12:20:53&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">3416</span>,<span class="attr">&quot;admin&quot;</span>:<span class="string">&quot;admin123&quot;</span>,<span class="attr">&quot;ip&quot;</span>:<span class="string">&quot;221.232.57.159&quot;</span>,<span class="attr">&quot;type&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;action&quot;</span>:<span class="string">&quot;登录&quot;</span>,<span class="attr">&quot;status&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;result&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;comment&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03 12:20:29&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 12:20:29&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private long total;</span><br><span class="line">    private List&lt;Item&gt; items;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Item.java</span></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Item &#123;</span><br><span class="line">    private long id;</span><br><span class="line">    private String admin;</span><br><span class="line">    private String ip;</span><br><span class="line">    private long type;</span><br><span class="line">    private String action;</span><br><span class="line">    private boolean status;</span><br><span class="line">    private String result;</span><br><span class="line">    private String comment;</span><br><span class="line">    private String addTime;</span><br><span class="line">    private String updateTime;</span><br><span class="line">    private boolean deleted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="角色管理（role）">角色管理（role）<a title="#角色管理（role）" href="#角色管理（role）"></a></h4><p><code>options</code></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/role/options</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:[&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;超级管理员&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;商场管理员&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;推广管理员&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">20</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;普通管理员&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">21</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;aaa管理&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">31</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;后台管理员&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">39</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;底层管理员11&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">47</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;555&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">48</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;rewrwerw&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">55</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;配置管理员&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">60</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;test&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">61</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;Shiroha&quot;</span>&#125;,&#123;<span class="attr">&quot;value&quot;</span>:<span class="number">62</span>,<span class="attr">&quot;label&quot;</span>:<span class="string">&quot;test111&quot;</span>&#125;],<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">public class Datum &#123;</span><br><span class="line">    private long value;</span><br><span class="line">    private String label;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="list-2">list<a title="#list-2" href="#list-2"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://localhost:8083/admin/role/list?page=1&amp;limit=20&amp;name=123123&amp;sort=add_time&amp;order=desc</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;total&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;items&quot;</span>:[&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">77</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;哈哈哈哈123&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;哈哈哈&quot;</span>,<span class="attr">&quot;enabled&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03 20:05:04&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 20:05:04&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">74</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;12345678&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;123456789&quot;</span>,<span class="attr">&quot;enabled&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03 17:43:10&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 17:43:10&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">73</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;admin12344565&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;12321423412345&quot;</span>,<span class="attr">&quot;enabled&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03 17:30:46&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 17:30:46&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private long total;</span><br><span class="line">    private List&lt;Item&gt; items;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Item &#123;</span><br><span class="line">    private long id;</span><br><span class="line">    private String name;</span><br><span class="line">    private String desc;</span><br><span class="line">    private boolean enabled;</span><br><span class="line">    private String addTime;</span><br><span class="line">    private String updateTime;</span><br><span class="line">    private boolean deleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="✅-对象储存（storage）">✅ 对象储存（storage）<a title="#✅-对象储存（storage）" href="#✅-对象储存（storage）"></a></h4><h6 id="create-2">create<a title="#create-2" href="#create-2"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://localhost:8083/admin/storage/create</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">722</span>,<span class="attr">&quot;key&quot;</span>:<span class="string">&quot;j125kkkiuvuj8waiocm8.jpg&quot;</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;iphone-se-white-select-2020.jpg&quot;</span>,<span class="attr">&quot;type&quot;</span>:<span class="string">&quot;image/jpeg&quot;</span>,<span class="attr">&quot;size&quot;</span>:<span class="number">490325</span>,<span class="attr">&quot;url&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/j125kkkiuvuj8waiocm8.jpg&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-02 22:14:49&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-02 22:14:49&quot;</span>&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">    private long id;</span><br><span class="line">    private String key;</span><br><span class="line">    private String name;</span><br><span class="line">    private String type;</span><br><span class="line">    private long size;</span><br><span class="line">    private String url;</span><br><span class="line">    private String addTime;</span><br><span class="line">    private String updateTime;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="list-3">list<a title="#list-3" href="#list-3"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://localhost:8083/admin/storage/list?page=1&amp;limit=20&amp;key=629c8ef1-c378-4522-81a9-eebf722305f7&amp;name=iphone-11&amp;sort=add_time&amp;order=desc</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;total&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;items&quot;</span>:[&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">757</span>,<span class="attr">&quot;key&quot;</span>:<span class="string">&quot;dzperj8f2hnbl73y7m3w.jpg&quot;</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;QQ图片20201015173712.jpg&quot;</span>,<span class="attr">&quot;type&quot;</span>:<span class="string">&quot;image/jpeg&quot;</span>,<span class="attr">&quot;size&quot;</span>:<span class="number">57685</span>,<span class="attr">&quot;url&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/dzperj8f2hnbl73y7m3w.jpg&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03 09:20:37&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 10:55:16&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="update-1">update<a title="#update-1" href="#update-1"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://localhost:8083/admin/storage/update</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;key&quot;</span>:<span class="string">&quot;629c8ef1-c378-4522-81a9-eebf722305f7&quot;</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;iphone-11-pro-gold-select-2019.png&quot;</span>,<span class="attr">&quot;type&quot;</span>:<span class="string">&quot;image/png&quot;</span>,<span class="attr">&quot;size&quot;</span>:<span class="number">792817</span>,<span class="attr">&quot;url&quot;</span>:<span class="string">&quot;/Users/wumin/JavaDevelopment/Project_02/img/629c8ef1-c378-4522-81a9-eebf722305f7.png&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;</span><br></pre></td></tr></table></figure><h6 id="delete-1">delete<a title="#delete-1" href="#delete-1"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/storage/delete</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;key&quot;</span>:<span class="string">&quot;629c8ef1-c378-4522-81a9-eebf722305f7&quot;</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;iphone-11.png&quot;</span>,<span class="attr">&quot;type&quot;</span>:<span class="string">&quot;image/png&quot;</span>,<span class="attr">&quot;size&quot;</span>:<span class="number">792817</span>,<span class="attr">&quot;url&quot;</span>:<span class="string">&quot;/Users/wumin/JavaDevelopment/Project_02/img/629c8ef1-c378-4522-81a9-eebf722305f7.png&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="其他服务">其他服务<a title="#其他服务" href="#其他服务"></a></h3><h4 id="✅统计服务（stat）">✅统计服务（stat）<a title="#✅统计服务（stat）" href="#✅统计服务（stat）"></a></h4><h6 id="user">user<a title="#user" href="#user"></a></h6><figure class="highlight"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/stat/user</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;columns&quot;</span>:[<span class="string">&quot;day&quot;</span>,<span class="string">&quot;users&quot;</span>],<span class="attr">&quot;rows&quot;</span>:[&#123;<span class="attr">&quot;users&quot;</span>:<span class="number">3</span>&#125;]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;columns&quot;</span>:[<span class="string">&quot;day&quot;</span>,<span class="string">&quot;users&quot;</span>],<span class="attr">&quot;rows&quot;</span>:[&#123;<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2019-04-20&quot;</span>,<span class="attr">&quot;users&quot;</span>:<span class="number">1</span>&#125;]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private List&lt;String&gt; columns;</span><br><span class="line">    private List&lt;Row&gt; rows;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Row.java</span></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Row &#123;</span><br><span class="line">    private String day;</span><br><span class="line">    private long users;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="order">order<a title="#order" href="#order"></a></h6><p>![image-20201101224041786](/Users/wumin/Library/Application Support/typora-user-images/image-20201101224041786.png)</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/stat/order</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;columns&quot;</span>:[<span class="string">&quot;day&quot;</span>,<span class="string">&quot;orders&quot;</span>,<span class="string">&quot;customers&quot;</span>,<span class="string">&quot;amount&quot;</span>,<span class="string">&quot;pcr&quot;</span>],<span class="attr">&quot;rows&quot;</span>:[&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">5144.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">4</span>,<span class="attr">&quot;customers&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-04-27&quot;</span>,<span class="attr">&quot;pcr&quot;</span>:<span class="number">1714.67</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">1710.80</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">5</span>,<span class="attr">&quot;customers&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-01&quot;</span>,<span class="attr">&quot;pcr&quot;</span>:<span class="number">1710.80</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">80.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;customers&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-02&quot;</span>,<span class="attr">&quot;pcr&quot;</span>:<span class="number">80.00</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">137031.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">48</span>,<span class="attr">&quot;customers&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-06&quot;</span>,<span class="attr">&quot;pcr&quot;</span>:<span class="number">45677.00</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">162481.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">21</span>,<span class="attr">&quot;customers&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-07&quot;</span>,<span class="attr">&quot;pcr&quot;</span>:<span class="number">54160.33</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">139294.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">41</span>,<span class="attr">&quot;customers&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-08&quot;</span>,<span class="attr">&quot;pcr&quot;</span>:<span class="number">69647.00</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">35657.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">19</span>,<span class="attr">&quot;customers&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-09&quot;</span>,<span class="attr">&quot;pcr&quot;</span>:<span class="number">11885.67</span>&#125;]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private List&lt;String&gt; columns;</span><br><span class="line">    private List&lt;Row&gt; rows;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Row.java</span></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Row &#123;</span><br><span class="line">    private double amount;</span><br><span class="line">    private long orders;</span><br><span class="line">    private long customers;</span><br><span class="line">    private String day;</span><br><span class="line">    private double pcr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="goods">goods<a title="#goods" href="#goods"></a></h6><p>![image-20201102092233415](/Users/wumin/Library/Application Support/typora-user-images/image-20201102092233415.png)</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/stat/goods</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;columns&quot;</span>:[<span class="string">&quot;day&quot;</span>,<span class="string">&quot;orders&quot;</span>,<span class="string">&quot;products&quot;</span>,<span class="string">&quot;amount&quot;</span>],<span class="attr">&quot;rows&quot;</span>:[&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">10319.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">20</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-04-27&quot;</span>,<span class="attr">&quot;products&quot;</span>:<span class="number">20</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">1702.80</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">5</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-01&quot;</span>,<span class="attr">&quot;products&quot;</span>:<span class="number">13</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">124.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-02&quot;</span>,<span class="attr">&quot;products&quot;</span>:<span class="number">4</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">5383.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-05&quot;</span>,<span class="attr">&quot;products&quot;</span>:<span class="number">13</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">147269.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">56</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-06&quot;</span>,<span class="attr">&quot;products&quot;</span>:<span class="number">118</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">216367.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">39</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-07&quot;</span>,<span class="attr">&quot;products&quot;</span>:<span class="number">114</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">294486.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">57</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-08&quot;</span>,<span class="attr">&quot;products&quot;</span>:<span class="number">103</span>&#125;,&#123;<span class="attr">&quot;amount&quot;</span>:<span class="number">58649.00</span>,<span class="attr">&quot;orders&quot;</span>:<span class="number">34</span>,<span class="attr">&quot;day&quot;</span>:<span class="string">&quot;2020-10-09&quot;</span>,<span class="attr">&quot;products&quot;</span>:<span class="number">61</span>&#125;]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private List&lt;String&gt; columns;</span><br><span class="line">    private List&lt;Row&gt; rows;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Row.java</span></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Row &#123;</span><br><span class="line">    private double amount;</span><br><span class="line">    private long orders;</span><br><span class="line">    private String day;</span><br><span class="line">    private long products;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="个人服务（profile）">个人服务（profile）<a title="#个人服务（profile）" href="#个人服务（profile）"></a></h4><h6 id="password">password<a title="#password" href="#password"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/profile/password</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">605</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;账号密码不对&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h4 id="✅-首页（dashboard）">✅ 首页（dashboard）<a title="#✅-首页（dashboard）" href="#✅-首页（dashboard）"></a></h4><h6 id="dashboard">dashboard<a title="#dashboard" href="#dashboard"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">请求 URL: http://182.92.235.201:8083/admin/dashboard</span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;goodsTotal&quot;</span>:<span class="number">265</span>,<span class="attr">&quot;userTotal&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;productTotal&quot;</span>:<span class="number">271</span>,<span class="attr">&quot;orderTotal&quot;</span>:<span class="number">188</span>&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="安全">安全<a title="#安全" href="#安全"></a></h3><h3 id="权限管理">权限管理<a title="#权限管理" href="#权限管理"></a></h3><h3 id="定时任务">定时任务<a title="#定时任务" href="#定时任务"></a></h3><h3 id="异常处理">异常处理<a title="#异常处理" href="#异常处理"></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomControllerAdvice</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(PermissionException.class)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BaseRespVo <span class="title">permission</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//return BaseRespVo.fail(506);</span></span><br><span class="line">        <span class="keyword">return</span> BaseRespVo.noPermission();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="参数校验">参数校验<a title="#参数校验" href="#参数校验"></a></h3><p>Hibernate-validation</p><h3 id="get">Get<a title="#get" href="#get"></a></h3><ol><li>Mysql 根据月/周/日分组时间<ul><li>DATE_FORMAT(add_time ,‘%Y%m%d’) 日</li><li>DATE_FORMAT(add_time,‘%Y%u’) 周</li><li>DATE_FORMAT(add_time,‘%Y%m’) 月</li></ul></li><li>mysql除法运算保留小数<ul><li><ol><li>DECIMAL(P，D) P是表示有效数字数的精度 D是表示小数点后的位数<ul><li><code>select convert(t/100,decimal(15,2)) as money from test</code></li></ul></li><li><code>TRUNCATE(t/100,2)</code> 返回数字X，截断到D小数位。</li></ol></li></ul></li><li>mysql decimal类型<ul><li>decimal:数字型，128bit，不存在精度损失，常用于银行帐目计算。（28个有效位）</li></ul></li></ol><h3 id="项目迭代">项目迭代<a title="#项目迭代" href="#项目迭代"></a></h3><ol><li>商品统计表格数据显示 货品总额列的刻度太大 导致订单量和下单货品数量无法体现<ul><li>![image-20201102101255369](/Users/wumin/Library/Application Support/typora-user-images/image-20201102101255369.png)</li></ul></li></ol><h3 id="???">???<a title="#???" href="#???"></a></h3><h4 id="selectbyexamplewithblobs"><code>selectByExampleWithBLOBs</code><a title="#selectbyexamplewithblobs" href="#selectbyexamplewithblobs"></a></h4><ul><li>BLOB 二进制文件？</li></ul><h4 id="关于-分页-pagehelper">关于 分页 <code>PageHelper</code><a title="#关于-分页-pagehelper" href="#关于-分页-pagehelper"></a></h4><ul><li><p>![image-20201102111457572](/Users/wumin/Library/Application Support/typora-user-images/image-20201102111457572.png)</p></li><li><pre><code class="language-java">package com.cskaoyan.mall25.service;import com.cskaoyan.mall25.bean.BaseData;import com.cskaoyan.mall25.bean.User;import com.cskaoyan.mall25.bean.UserExample;import com.cskaoyan.mall25.mapper.UserMapper;import com.github.pagehelper.PageInfo;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import com.github.pagehelper.PageHelper;import java.util.List;@Servicepublic class UserServiceImpl implements UserService&#123;    @Autowired    UserMapper userMapper;    /**     * @param page  分页的参数 → 当天的页码     * @param limit 分页的参数 → 当前页码数据最大值     * @param sort  排序的参数     * @param order 排序的参数     * @return     */    @Override    public BaseData queryUserList(Integer page, Integer limit, String sort, String order) &#123;        PageHelper.startPage(page, limit);//预编译的时候增加分页的sql语句        UserExample userExample = new UserExample();        //设置order by 后面的内容        userExample.setOrderByClause(sort + &quot; &quot; + order);//add_time desc        List&lt;User&gt; users = userMapper.selectByExample(userExample);// 35行        //可以在查询完成后获得pageInfo → 根据查询结果获得        PageInfo&lt;User&gt; userPageInfo = new PageInfo&lt;&gt;(users);        long total = userPageInfo.getTotal(); //根据35行sql的查询条件执行了一个select count(*)                return BaseData.data(users,total);    &#125;&#125;<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">#### File 接收文件类型的参数 #文件上传</span><br><span class="line"></span><br><span class="line">文件上传的功能</span><br><span class="line"></span><br><span class="line">##### 引入依赖</span><br><span class="line"></span><br><span class="line">commons-io\commons-fileupload</span><br><span class="line"></span><br><span class="line">![img](file:&#x2F;&#x2F;&#x2F;&#x2F;Users&#x2F;wumin&#x2F;Library&#x2F;Group%20Containers&#x2F;UBF8T346G9.Office&#x2F;TemporaryItems&#x2F;msohtmlclip&#x2F;clip_image001.png)</span><br><span class="line"></span><br><span class="line">##### 注册组件MultipartResolver</span><br><span class="line"></span><br><span class="line">MultipartFile</span><br><span class="line"></span><br><span class="line">![img](file:&#x2F;&#x2F;&#x2F;&#x2F;Users&#x2F;wumin&#x2F;Library&#x2F;Group%20Containers&#x2F;UBF8T346G9.Office&#x2F;TemporaryItems&#x2F;msohtmlclip&#x2F;clip_image002.png)</span><br><span class="line"></span><br><span class="line">##### 构造一个文件上传的表单请求</span><br><span class="line"></span><br><span class="line">![img](file:&#x2F;&#x2F;&#x2F;&#x2F;Users&#x2F;wumin&#x2F;Library&#x2F;Group%20Containers&#x2F;UBF8T346G9.Office&#x2F;TemporaryItems&#x2F;msohtmlclip&#x2F;clip_image003.png)</span><br><span class="line"></span><br><span class="line">##### handler方法</span><br><span class="line"></span><br><span class="line">![img](file:&#x2F;&#x2F;&#x2F;&#x2F;Users&#x2F;wumin&#x2F;Library&#x2F;Group%20Containers&#x2F;UBF8T346G9.Office&#x2F;TemporaryItems&#x2F;msohtmlclip&#x2F;clip_image004.png)</span><br><span class="line"></span><br><span class="line">### 项目进度</span><br><span class="line"></span><br><span class="line">1. ✅git 整合 60min</span><br><span class="line">2. shiro</span><br><span class="line">3. log</span><br><span class="line">4. 异常处理</span><br><span class="line">5. 参数校验</span><br><span class="line">6. 静态资源</span><br><span class="line"></span><br><span class="line">Git 整合冲突</span><br><span class="line"></span><br><span class="line">order</span><br><span class="line"></span><br><span class="line">user</span><br><span class="line"></span><br><span class="line">✅Auth</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 异常</span><br><span class="line"></span><br><span class="line">MethodArgumentTypeMismatchException</span><br><span class="line"></span><br><span class="line">BindException</span><br><span class="line"></span><br><span class="line">2020-11-03 21:13:27.986  WARN 5984 --- [nio-8083-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Integer&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;fdsaa&quot;]</span><br><span class="line"></span><br><span class="line">## WX小程序 API（wx）</span><br><span class="line"></span><br><span class="line">### 安全服务</span><br><span class="line"></span><br><span class="line">### 首页服务</span><br><span class="line"></span><br><span class="line">### 类目服务（catalog）</span><br><span class="line"></span><br><span class="line">###### ✅current</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;json</span><br><span class="line">Request URL: http:&#x2F;&#x2F;localhost:8083&#x2F;wx&#x2F;catalog&#x2F;current?id&#x3D;1005001</span><br><span class="line">Request Method: GET</span><br><span class="line"></span><br><span class="line">&#123;&quot;errno&quot;:0,&quot;data&quot;:&#123;&quot;currentCategory&quot;:&#123;&quot;id&quot;:1012000,&quot;name&quot;:&quot;杂货&quot;,&quot;keywords&quot;:&quot;杂货&quot;,&quot;desc&quot;:&quot;解忧，每个烦恼&quot;,&quot;pid&quot;:0,&quot;iconUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;c2a3d6349e72c35931fe3b5bcd0966be.png&quot;,&quot;picUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;547853361d29a37282f377b9a755dd37.png&quot;,&quot;level&quot;:&quot;L1&quot;,&quot;sortOrder&quot;:8,&quot;addTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;updateTime&quot;:&quot;2020-11-02 17:33:20&quot;,&quot;deleted&quot;:false&#125;,&quot;currentSubCategory&quot;:[&#123;&quot;id&quot;:1008017,&quot;name&quot;:&quot;收纳&quot;,&quot;keywords&quot;:&quot;&quot;,&quot;desc&quot;:&quot;选自古驰竹柄原料供应商&quot;,&quot;pid&quot;:1012000,&quot;iconUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;fdc048e1bf4f04d1c20b32eda5d1dc6e.png&quot;,&quot;picUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;2a62f6c53f4ff089fa6a210c7a0c2e63.png&quot;,&quot;level&quot;:&quot;L2&quot;,&quot;sortOrder&quot;:2,&quot;addTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;updateTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;deleted&quot;:false&#125;,&#123;&quot;id&quot;:1011002,&quot;name&quot;:&quot;海外&quot;,&quot;keywords&quot;:&quot;&quot;,&quot;desc&quot;:&quot;来自海外制造商的好物&quot;,&quot;pid&quot;:1012000,&quot;iconUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;da884ff3b9e9d5276986c99e85722461.png&quot;,&quot;picUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;fd1de05d274222f1e56d057d2f2c20c6.png&quot;,&quot;level&quot;:&quot;L2&quot;,&quot;sortOrder&quot;:5,&quot;addTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;updateTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;deleted&quot;:false&#125;,&#123;&quot;id&quot;:1012002,&quot;name&quot;:&quot;雨具&quot;,&quot;keywords&quot;:&quot;&quot;,&quot;desc&quot;:&quot;WPC制作商出品&quot;,&quot;pid&quot;:1012000,&quot;iconUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;4e929a21baebdb1200361d8097e35e45.png&quot;,&quot;picUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;589da0f02917b8393197a43175764381.png&quot;,&quot;level&quot;:&quot;L2&quot;,&quot;sortOrder&quot;:4,&quot;addTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;updateTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;deleted&quot;:false&#125;,&#123;&quot;id&quot;:1012003,&quot;name&quot;:&quot;文具&quot;,&quot;keywords&quot;:&quot;&quot;,&quot;desc&quot;:&quot;找回书写的力量&quot;,&quot;pid&quot;:1012000,&quot;iconUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;e1743239e41ca9af76875aedc73be7f0.png&quot;,&quot;picUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;e074795f61a83292d0f20eb7d124e2ac.png&quot;,&quot;level&quot;:&quot;L2&quot;,&quot;sortOrder&quot;:1,&quot;addTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;updateTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;deleted&quot;:false&#125;,&#123;&quot;id&quot;:1020000,&quot;name&quot;:&quot;出行用品&quot;,&quot;keywords&quot;:&quot;&quot;,&quot;desc&quot;:&quot;出行小物，贴心相伴&quot;,&quot;pid&quot;:1012000,&quot;iconUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;b29a11afa76b9f4a57131555f1a54c77.png&quot;,&quot;picUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;81e18c6970a7809ee0d86f0545428aa4.png&quot;,&quot;level&quot;:&quot;L2&quot;,&quot;sortOrder&quot;:3,&quot;addTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;updateTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;deleted&quot;:false&#125;,&#123;&quot;id&quot;:1021000,&quot;name&quot;:&quot;节日礼盒&quot;,&quot;keywords&quot;:&quot;&quot;,&quot;desc&quot;:&quot;限量礼盒限时发售&quot;,&quot;pid&quot;:1012000,&quot;iconUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;e7b37b1ed5c18d63dc3e6c3f1aa85d8a.png&quot;,&quot;picUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;bbb6f0ab4f6321121250c12583b0ff9a.png&quot;,&quot;level&quot;:&quot;L2&quot;,&quot;sortOrder&quot;:8,&quot;addTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;updateTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;deleted&quot;:false&#125;,&#123;&quot;id&quot;:1036001,&quot;name&quot;:&quot;眼镜&quot;,&quot;keywords&quot;:&quot;&quot;,&quot;desc&quot;:&quot;实用加时尚，造型百搭单品&quot;,&quot;pid&quot;:1012000,&quot;iconUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;97f5f75ea1209dfbb85e91932d26c3ed.png&quot;,&quot;picUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;c25fb420ccb6f692a2d16f1740b60d21.png&quot;,&quot;level&quot;:&quot;L2&quot;,&quot;sortOrder&quot;:9,&quot;addTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;updateTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;deleted&quot;:false&#125;,&#123;&quot;id&quot;:1036002,&quot;name&quot;:&quot;汽车用品&quot;,&quot;keywords&quot;:&quot;&quot;,&quot;desc&quot;:&quot;给你的爱车添装备&quot;,&quot;pid&quot;:1012000,&quot;iconUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;382cda1ef9cca77d99bcef05070d7db0.png&quot;,&quot;picUrl&quot;:&quot;http:&#x2F;&#x2F;yanxuan.nosdn.127.net&#x2F;552e943e585a999169fdbc57b59524d6.png&quot;,&quot;level&quot;:&quot;L2&quot;,&quot;sortOrder&quot;:10,&quot;addTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;updateTime&quot;:&quot;2018-02-01 00:00:00&quot;,&quot;deleted&quot;:false&#125;]&#125;,&quot;errmsg&quot;:&quot;成功&quot;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private CurrentCategory currentCategory;</span><br><span class="line">    private List&lt;CurrentCategory&gt; currentSubCategory;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; CurrentCategory.java</span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class CurrentCategory &#123;</span><br><span class="line">    private long id;</span><br><span class="line">    private String name;</span><br><span class="line">    private String keywords;</span><br><span class="line">    private String desc;</span><br><span class="line">    private long pid;</span><br><span class="line">    private String iconURL;</span><br><span class="line">    private String picURL;</span><br><span class="line">    private String level;</span><br><span class="line">    private long sortOrder;</span><br><span class="line">    private String addTime;</span><br><span class="line">    private String updateTime;</span><br><span class="line">    private boolean deleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre></li></ul><h6 id="✅index">✅index<a title="#✅index" href="#✅index"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">Request URL: http://182.92.235.201:8083/wx/catalog/index</span><br><span class="line">Request Method: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;currentCategory&quot;</span>:&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1011000</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;婴童&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;爱，从心开始&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/1ba9967b8de1ac50fad21774a4494f5d.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/9cc0b3e0d5a4f4a22134c170f10b70f2.png&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L1&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">7</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 01:17:25&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,<span class="attr">&quot;categoryList&quot;</span>:[&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1011000</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;婴童&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;爱，从心开始&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/1ba9967b8de1ac50fad21774a4494f5d.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/9cc0b3e0d5a4f4a22134c170f10b70f2.png&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L1&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">7</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 01:17:25&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1011001</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;妈咪&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;犬印、Harvest Hills制造商&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/720aebaa529df9391b95a078dfb2fd5c.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/844e2f4dce94f71283840c141d4ca71b.png&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L1&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 00:21:06&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1012000</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;杂货&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;杂货&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;解忧，每个烦恼&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/c2a3d6349e72c35931fe3b5bcd0966be.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/547853361d29a37282f377b9a755dd37.png&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L1&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">8</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-02 17:33:20&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1020003</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;服装&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;萌宝穿搭，柔软舒适触感&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/4e50f3c4e4d0a64cd0ad14cfc0b6bd17.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/004f5f96df4aeb0645abbd70c0637239.png&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L1&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-04 11:06:29&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1036060</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;小刘鸭&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;萨达阿萨德&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;阿斯顿撒多&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/y6mmhl9oishei0wjabr6.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/lv86x40cxy6rnmmzarv6.jpg&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L1&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">50</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-02 15:15:45&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-02 17:39:27&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1036097</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;假假按揭啊&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;接代付款&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;鼎折覆餗&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/ch0x0al8vgh7gtw0r8t1.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L1&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">50</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03 23:08:37&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 23:08:37&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1036098</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;发多少&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;的是非法的&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;食发鬼&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/ry1kgwhfn2scbaigz5yb.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L1&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">50</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03 23:11:03&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 23:11:03&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1036099</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;如果哥哥&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;的范德萨发&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;吴凤飞飞&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/va6fhvje551e0k8jy1kg.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L1&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">50</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03 23:11:53&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 23:11:53&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1036100</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;测试&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;无方法覆盖&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;我发的发生的地方&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/702b8n7k8fxm7rvdvui3.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L1&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">50</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-04 09:27:56&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-04 09:27:56&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1036101</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;终极测试&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;终极测试&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;终极测试&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/g4fsr6nb7d3p21sf86ff.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L1&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">50</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-04 09:28:33&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-04 09:28:33&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;],<span class="attr">&quot;currentSubCategory&quot;</span>:[&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1020004</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;婴童洗护&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;为&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;天然，呵护宝宝肌肤&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">1011000</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/c55338691ebd46bee9ebf225f80363ce.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/f2e301b189befff1d99adf917ba8ce20.png&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L2&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">5</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 16:58:37&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1020005</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;寝居&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;无荧光剂，婴幼儿A类标准&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">1011000</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/0f3c5ad63139096fd0760219e12149af.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/476995896abea91d3f2e9ec20d56bd8d.png&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L2&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1020006</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;玩具&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;萌宝童趣必备&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">1011000</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/7aac7c5819f71345a52a4b9df23d6239.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/34b3267efcddad09cd652f181d87aab0.png&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L2&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">4</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1020007</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;喂养&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;宝宝吃得香，妈妈才放心&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">1011000</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/5db40a5bf84c177515610471d4d08687.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/6b6f1672fe041594245fe56a5dd80871.png&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L2&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">6</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1034001</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;童车童椅&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;安全舒适，给宝宝一个快乐童年&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">1011000</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/06bbfb293b6194b27ebdb3350203a1f7.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/4d16871eb80dac59d1796c7d806a5cea.png&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L2&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">7</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2018-02-01 00:00:00&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1036053</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;手机&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;s阿萨&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">1011000</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L2&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">50</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-02 11:31:27&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-02 14:41:05&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1036054</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;小刘鸭&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;表情包&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;捣蛋鬼&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">1011000</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/btdnrydpj2m0ahzgv1i6.png&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/qd8sw0ia0oqp83yhqna8.jpg&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L2&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">50</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-02 11:49:03&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-02 14:30:28&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">1036088</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;asda&quot;</span>,<span class="attr">&quot;keywords&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;desc&quot;</span>:<span class="string">&quot;czczxc&quot;</span>,<span class="attr">&quot;pid&quot;</span>:<span class="number">1011000</span>,<span class="attr">&quot;iconUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/9z15pk8l8iix5j2pb7sg.jpg&quot;</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="attr">&quot;level&quot;</span>:<span class="string">&quot;L2&quot;</span>,<span class="attr">&quot;sortOrder&quot;</span>:<span class="number">50</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-03 09:17:26&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-03 09:17:26&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private CurrentCategory currentCategory;</span><br><span class="line">    private List&lt;CurrentCategory&gt; categoryList;</span><br><span class="line">    private List&lt;CurrentCategory&gt; currentSubCategory;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CurrentCategory.java</span></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class CurrentCategory &#123;</span><br><span class="line">    private long id;</span><br><span class="line">    private String name;</span><br><span class="line">    private String keywords;</span><br><span class="line">    private String desc;</span><br><span class="line">    private long pid;</span><br><span class="line">    private String iconURL;</span><br><span class="line">    private String picURL;</span><br><span class="line">    private Level level;</span><br><span class="line">    private long sortOrder;</span><br><span class="line">    private String addTime;</span><br><span class="line">    private String updateTime;</span><br><span class="line">    private boolean deleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">用到的 Service 层的方法</span><br><span class="line">  </span><br><span class="line">   查询所有level = ？目录</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;LevelOneVO&gt; <span class="title">selectLevel</span><span class="params">(String level)</span>  </span></span><br><span class="line"><span class="function">  </span></span><br></pre></td></tr></table></figure><h3 id="商品服务">商品服务<a title="#商品服务" href="#商品服务"></a></h3><h3 id="购物车服务（cart）">购物车服务（cart）<a title="#购物车服务（cart）" href="#购物车服务（cart）"></a></h3><h6 id="✅goodscount">✅goodscount<a title="#✅goodscount" href="#✅goodscount"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">Request URL: http://localhost:8083/wx/cart/goodscount</span><br><span class="line">Request Method: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:<span class="number">5</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h6 id="✅add">✅add<a title="#✅add" href="#✅add"></a></h6><figure class="highlight"><table><tr><td class="code"><pre><span class="line">Request URL: http://182.92.235.201:8083/wx/cart/add</span><br><span class="line">Request Method: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1046002</span>,<span class="attr">&quot;number&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;productId&quot;</span>:<span class="number">60</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">data： goodscount</span><br></pre></td></tr></table></figure><h6 id="✅index-1">✅index<a title="#✅index-1" href="#✅index-1"></a></h6><figure class="highlight"><table><tr><td class="code"><pre><span class="line">Request URL: http://182.92.235.201:8083/wx/cart/index</span><br><span class="line">Request Method: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;cartTotal&quot;</span>:&#123;<span class="attr">&quot;goodsCount&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;checkedGoodsCount&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;goodsAmount&quot;</span>:<span class="number">179.00</span>,<span class="attr">&quot;checkedGoodsAmount&quot;</span>:<span class="number">100.00</span>&#125;,<span class="attr">&quot;cartList&quot;</span>:[&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">567</span>,<span class="attr">&quot;userId&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1181123</span>,<span class="attr">&quot;goodsSn&quot;</span>:<span class="string">&quot;123&quot;</span>,<span class="attr">&quot;goodsName&quot;</span>:<span class="string">&quot;天天吞吞吐吐&quot;</span>,<span class="attr">&quot;productId&quot;</span>:<span class="number">629</span>,<span class="attr">&quot;price&quot;</span>:<span class="number">100.00</span>,<span class="attr">&quot;number&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;specifications&quot;</span>:[<span class="string">&quot;标准&quot;</span>,<span class="string">&quot;123456&quot;</span>],<span class="attr">&quot;checked&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/7tjbyqmg6yooer9a4hpq.jpg&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-04 22:45:42&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-05 11:02:45&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">605</span>,<span class="attr">&quot;userId&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1039051</span>,<span class="attr">&quot;goodsSn&quot;</span>:<span class="string">&quot;1039051&quot;</span>,<span class="attr">&quot;goodsName&quot;</span>:<span class="string">&quot;多功能午睡枕&quot;</span>,<span class="attr">&quot;productId&quot;</span>:<span class="number">54</span>,<span class="attr">&quot;price&quot;</span>:<span class="number">79.00</span>,<span class="attr">&quot;number&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;specifications&quot;</span>:[<span class="string">&quot;标准&quot;</span>],<span class="attr">&quot;checked&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://yanxuan.nosdn.127.net/c8ca0600fa7ba11ca8be6a3173dd38c9.png&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-05 10:51:57&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-05 10:55:19&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private CartTotal cartTotal;</span><br><span class="line">    private List&lt;CartList&gt; cartList;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CartList.java</span></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class CartList &#123;</span><br><span class="line">    private long id;</span><br><span class="line">    private long userID;</span><br><span class="line">    private long goodsID;</span><br><span class="line">    private String goodsSn;</span><br><span class="line">    private String goodsName;</span><br><span class="line">    private long productID;</span><br><span class="line">    private long price;</span><br><span class="line">    private long number;</span><br><span class="line">    private List&lt;String&gt; specifications;</span><br><span class="line">    private boolean checked;</span><br><span class="line">    private String picURL;</span><br><span class="line">    private String addTime;</span><br><span class="line">    private String updateTime;</span><br><span class="line">    private boolean deleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CartTotal.java</span></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class CartTotal &#123;</span><br><span class="line">    private long goodsCount; //商品数</span><br><span class="line">    private long checkedGoodsCount; //选中的商品数</span><br><span class="line">    private long goodsAmount;//总额</span><br><span class="line">    private long checkedGoodsAmount;//选中的总额</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="✅update">✅update<a title="#✅update" href="#✅update"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">Request URL: http://182.92.235.201:8083/wx/cart/update</span><br><span class="line">Request Method: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;productId&quot;</span>:<span class="number">60</span>,<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1046002</span>,<span class="attr">&quot;number&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;id&quot;</span>:<span class="number">654</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="✅checked">✅checked<a title="#✅checked" href="#✅checked"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">Request URL: http://localhost:8083/wx/cart/checked</span><br><span class="line">Request Method: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;productIds&quot;</span>:[<span class="number">204</span>],<span class="attr">&quot;isChecked&quot;</span>:<span class="number">1</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="✅fastadd">✅fastadd<a title="#✅fastadd" href="#✅fastadd"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">Request URL: http://182.92.235.201:8083/wx/cart/fastadd</span><br><span class="line">Request Method: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1046002</span>,<span class="attr">&quot;number&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;productId&quot;</span>:<span class="number">60</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:<span class="number">837</span>,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">data 是 cartId</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="checkout">checkout<a title="#checkout" href="#checkout"></a></h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 购物车下单</span><br><span class="line"> *</span><br><span class="line"> * @param userId    用户ID</span><br><span class="line"> * @param cartId    购物车商品ID：</span><br><span class="line"> *                  如果购物车商品ID是空，则下单当前用户所有选中的购物车商品；</span><br><span class="line"> *                  如果购物车商品ID非空，则只下单当前购物车商品。</span><br><span class="line"> * @param addressId 收货地址ID：</span><br><span class="line"> *                  如果收货地址ID是空，则查询当前用户的默认地址。</span><br><span class="line"> * @param couponId  优惠券ID：</span><br><span class="line"> *                  如果优惠券ID是空，则自动选择合适的优惠券。</span><br><span class="line"> * @return 购物车操作结果</span><br><span class="line"> </span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">Request URL: http://182.92.235.201:8083/wx/cart/checkout?cartId=889&amp;addressId=46&amp;couponId=0&amp;grouponRulesId=0</span><br><span class="line">Request Method: GET</span><br><span class="line"></span><br><span class="line">Request URL: http://182.92.235.201:8083/wx/cart/checkout?cartId=0&amp;addressId=46&amp;couponId=0&amp;grouponRulesId=0</span><br><span class="line">Request Method: GET</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;grouponPrice&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;grouponRulesId&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;checkedAddress&quot;</span>:&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">46</span>,<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;vcghvgh&quot;</span>,<span class="attr">&quot;userId&quot;</span>:<span class="number">3</span>,<span class="attr">&quot;provinceId&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;cityId&quot;</span>:<span class="number">32</span>,<span class="attr">&quot;areaId&quot;</span>:<span class="number">379</span>,<span class="attr">&quot;address&quot;</span>:<span class="string">&quot;s&quot;</span>,<span class="attr">&quot;mobile&quot;</span>:<span class="string">&quot;15834697354&quot;</span>,<span class="attr">&quot;isDefault&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-04 17:19:28&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-04 17:19:28&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,<span class="attr">&quot;actualPrice&quot;</span>:<span class="number">123436.00</span>,<span class="attr">&quot;orderTotalPrice&quot;</span>:<span class="number">123436.00</span>,<span class="attr">&quot;couponPrice&quot;</span>:<span class="number">20.00</span>,<span class="attr">&quot;availableCouponLength&quot;</span>:<span class="number">5</span>,<span class="attr">&quot;couponId&quot;</span>:<span class="number">118</span>,<span class="attr">&quot;freightPrice&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;checkedGoodsList&quot;</span>:[&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">890</span>,<span class="attr">&quot;userId&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1181141</span>,<span class="attr">&quot;goodsSn&quot;</span>:<span class="string">&quot;测试商品&quot;</span>,<span class="attr">&quot;goodsName&quot;</span>:<span class="string">&quot;测试商品1&quot;</span>,<span class="attr">&quot;productId&quot;</span>:<span class="number">716</span>,<span class="attr">&quot;price&quot;</span>:<span class="number">123456.00</span>,<span class="attr">&quot;number&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;specifications&quot;</span>:[<span class="string">&quot;规格值1&quot;</span>,<span class="string">&quot;规格值2-1&quot;</span>,<span class="string">&quot;规格值3-1&quot;</span>,<span class="string">&quot;规格值4-1&quot;</span>],<span class="attr">&quot;checked&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/723bvkecf3rqaj4lbt1r.jpg&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-06 15:24:00&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-06 15:24:00&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;],<span class="attr">&quot;goodsTotalPrice&quot;</span>:<span class="number">123456.00</span>,<span class="attr">&quot;addressId&quot;</span>:<span class="number">46</span>&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private Integer grouponPrice;</span><br><span class="line">    private Integer grouponRulesId;</span><br><span class="line">    private Address checkedAddress;//选中的地址</span><br><span class="line">    private Integer actualPrice;//实际价格</span><br><span class="line">    private Integer orderTotalPrice;//实际价格</span><br><span class="line">    private Integer couponPrice;//优惠券价格</span><br><span class="line">    private Integer availableCouponLength;//可用优惠券数量</span><br><span class="line">    private Integer couponId;//优惠券 Id</span><br><span class="line">    private Integer freightPrice;// 运费价格</span><br><span class="line">    private List&lt;Goods&gt; checkedGoodsList;//选中的商品</span><br><span class="line">    private Integer goodsTotalPrice;//总价</span><br><span class="line">    private Integer addressId;// 选中的地址Id</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CheckedAddress.java</span></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class CheckedAddress &#123;</span><br><span class="line">    private long id;</span><br><span class="line">    private String name;</span><br><span class="line">    private long userID;</span><br><span class="line">    private long provinceID;</span><br><span class="line">    private long cityID;</span><br><span class="line">    private long areaID;</span><br><span class="line">    private String address;</span><br><span class="line">    private String mobile;</span><br><span class="line">    private boolean isDefault;</span><br><span class="line">    private String addTime;</span><br><span class="line">    private String updateTime;</span><br><span class="line">    private boolean deleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CheckedGoodsList.java</span></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class CheckedGoodsList &#123;</span><br><span class="line">    private long id;</span><br><span class="line">    private long userID;</span><br><span class="line">    private long goodsID;</span><br><span class="line">    private String goodsSn;</span><br><span class="line">    private String goodsName;</span><br><span class="line">    private long productID;</span><br><span class="line">    private long price;</span><br><span class="line">    private long number;</span><br><span class="line">    private List&lt;String&gt; specifications;</span><br><span class="line">    private boolean checked;</span><br><span class="line">    private String picURL;</span><br><span class="line">    private String addTime;</span><br><span class="line">    private String updateTime;</span><br><span class="line">    private boolean deleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="✅delete">✅delete<a title="#✅delete" href="#✅delete"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">Request URL: http://localhost:8083/wx/cart/delete</span><br><span class="line">Request Method: POST</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;productIds&quot;</span>:[<span class="number">624</span>,<span class="number">60</span>]&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">&quot;errno&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;data&quot;</span>:&#123;<span class="attr">&quot;cartTotal&quot;</span>:&#123;<span class="attr">&quot;goodsCount&quot;</span>:<span class="number">4</span>,<span class="attr">&quot;checkedGoodsCount&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;goodsAmount&quot;</span>:<span class="number">10785.00</span>,<span class="attr">&quot;checkedGoodsAmount&quot;</span>:<span class="number">0</span>&#125;,<span class="attr">&quot;cartList&quot;</span>:[&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">696</span>,<span class="attr">&quot;userId&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1181131</span>,<span class="attr">&quot;goodsSn&quot;</span>:<span class="string">&quot;123&quot;</span>,<span class="attr">&quot;goodsName&quot;</span>:<span class="string">&quot;电视机&quot;</span>,<span class="attr">&quot;productId&quot;</span>:<span class="number">635</span>,<span class="attr">&quot;price&quot;</span>:<span class="number">3888.00</span>,<span class="attr">&quot;number&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;specifications&quot;</span>:[<span class="string">&quot;标准&quot;</span>],<span class="attr">&quot;checked&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/ospwt8i7hv1xsxpmiv8i.jpg&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-05 17:40:54&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-05 17:54:13&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">697</span>,<span class="attr">&quot;userId&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1181132</span>,<span class="attr">&quot;goodsSn&quot;</span>:<span class="string">&quot;1123&quot;</span>,<span class="attr">&quot;goodsName&quot;</span>:<span class="string">&quot;大屏电视&quot;</span>,<span class="attr">&quot;productId&quot;</span>:<span class="number">665</span>,<span class="attr">&quot;price&quot;</span>:<span class="number">2998.00</span>,<span class="attr">&quot;number&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;specifications&quot;</span>:[<span class="string">&quot;3kg&quot;</span>],<span class="attr">&quot;checked&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/j8958jwztf6mw3qyw6hr.jpg&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-05 17:41:02&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-05 17:43:35&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="attr">&quot;id&quot;</span>:<span class="number">698</span>,<span class="attr">&quot;userId&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;goodsId&quot;</span>:<span class="number">1181137</span>,<span class="attr">&quot;goodsSn&quot;</span>:<span class="string">&quot;111111&quot;</span>,<span class="attr">&quot;goodsName&quot;</span>:<span class="string">&quot;武器大师贾克斯&quot;</span>,<span class="attr">&quot;productId&quot;</span>:<span class="number">678</span>,<span class="attr">&quot;price&quot;</span>:<span class="number">11.00</span>,<span class="attr">&quot;number&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;specifications&quot;</span>:[<span class="string">&quot;1&quot;</span>,<span class="string">&quot;黑&quot;</span>],<span class="attr">&quot;checked&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;picUrl&quot;</span>:<span class="string">&quot;http://182.92.235.201:8083/wx/storage/fetch/aq3dimt4xwkmv2snteh6.jpg&quot;</span>,<span class="attr">&quot;addTime&quot;</span>:<span class="string">&quot;2020-11-05 17:41:14&quot;</span>,<span class="attr">&quot;updateTime&quot;</span>:<span class="string">&quot;2020-11-05 17:43:35&quot;</span>,<span class="attr">&quot;deleted&quot;</span>:<span class="literal">false</span>&#125;]&#125;,<span class="attr">&quot;errmsg&quot;</span>:<span class="string">&quot;成功&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="订单服务">订单服务<a title="#订单服务" href="#订单服务"></a></h3><h3 id="会员服务">会员服务<a title="#会员服务" href="#会员服务"></a></h3><h3 id="收货地址服务">收货地址服务<a title="#收货地址服务" href="#收货地址服务"></a></h3><h3 id="品牌商服务（brand）">品牌商服务（brand）<a title="#品牌商服务（brand）" href="#品牌商服务（brand）"></a></h3><h6 id="✅list">✅list<a title="#✅list" href="#✅list"></a></h6><figure class="highlight"><table><tr><td class="code"><pre><span class="line">Request URL: http://localhost:8083/wx/brand/list?page=1&amp;size=10</span><br><span class="line">Request Method: GET</span><br><span class="line"></span><br><span class="line">Request URL: http://182.92.235.201:8083/wx/goods/list?brandId=1001000&amp;page=1&amp;size=100</span><br><span class="line">Request Method: GET</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private long totalPages;</span><br><span class="line">    private List&lt;BrandList&gt; brandList;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// BrandList.java</span></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class BrandList &#123;</span><br><span class="line">    private long id;</span><br><span class="line">    private String name;</span><br><span class="line">    private String desc;</span><br><span class="line">    private String picURL;</span><br><span class="line">    private long floorPrice;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="✅detail">✅detail<a title="#✅detail" href="#✅detail"></a></h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">Request URL: http://182.92.235.201:8083/wx/brand/detail?id=1001000</span><br><span class="line">Request Method: GET</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;errno&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;brand&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;id&quot;</span>: <span class="number">1001000</span>,</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;MUJI制造商&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;desc&quot;</span>: <span class="string">&quot;严选精选了MUJI制造商和生产原料，\n用几乎零利润的价格，剔除品牌溢价，\n让用户享受原品牌的品质生活。&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;picUrl&quot;</span>: <span class="string">&quot;http://yanxuan.nosdn.127.net/1541445967645114dd75f6b0edc4762d.png&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;sortOrder&quot;</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">&quot;floorPrice&quot;</span>: <span class="number">12.9</span>,</span><br><span class="line">            <span class="attr">&quot;addTime&quot;</span>: <span class="string">&quot;2018-02-01 00:00:00&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;updateTime&quot;</span>: <span class="string">&quot;2018-02-01 00:00:00&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;deleted&quot;</span>: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;errmsg&quot;</span>: <span class="string">&quot;成功&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Data &#123;</span><br><span class="line">    private Brand brand;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Brand.java</span></span><br><span class="line"></span><br><span class="line">package io.quicktype;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Brand &#123;</span><br><span class="line">    private long id;</span><br><span class="line">    private String name;</span><br><span class="line">    private String desc;</span><br><span class="line">    private String picURL;</span><br><span class="line">    private long sortOrder;</span><br><span class="line">    private double floorPrice;</span><br><span class="line">    private String addTime;</span><br><span class="line">    private String updateTime;</span><br><span class="line">    private boolean deleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="收藏服务">收藏服务<a title="#收藏服务" href="#收藏服务"></a></h3><h3 id="评论服务">评论服务<a title="#评论服务" href="#评论服务"></a></h3><h3 id="优惠券服务">优惠券服务<a title="#优惠券服务" href="#优惠券服务"></a></h3><h3 id="反馈服务">反馈服务<a title="#反馈服务" href="#反馈服务"></a></h3><h3 id="足迹服务">足迹服务<a title="#足迹服务" href="#足迹服务"></a></h3><h3 id="团购服务">团购服务<a title="#团购服务" href="#团购服务"></a></h3><h3 id="帮助服务">帮助服务<a title="#帮助服务" href="#帮助服务"></a></h3><h3 id="搜索服务">搜索服务<a title="#搜索服务" href="#搜索服务"></a></h3><h3 id="专题服务">专题服务<a title="#专题服务" href="#专题服务"></a></h3><h3 id="对象存储服务">对象存储服务<a title="#对象存储服务" href="#对象存储服务"></a></h3><h3 id="其他服务-1">其他服务<a title="#其他服务-1" href="#其他服务-1"></a></h3><h3 id="get-1">Get<a title="#get-1" href="#get-1"></a></h3><p>如果为null 不返回 json</p><p><code> @JsonInclude(JsonInclude.Include.NON_NULL)</code></p><h3 id="?">?<a title="#?" href="#?"></a></h3>]]></content>
    
    
    <summary type="html">&lt;p&gt;基于开源项目 &lt;a href=&quot;https://github.com/linlinjava/litemall&quot; target=&quot;_blank&quot;&gt;litemall&lt;/a&gt; 管理员前端 + 小程序用户前端部分的微信小程序商城。完整的实现了除团购模块外所有后台管&lt;br&gt;
理(管理员权限管理，日志记录…)和用户商城(用户登录，购买，优惠券…)的功能&lt;/p&gt;</summary>
    
    
    
    <category term="项目" scheme="https://gardenzzz.github.io/categories/%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="Java" scheme="https://gardenzzz.github.io/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Project01_MoreMall</title>
    <link href="https://gardenzzz.github.io/2020/380717/Project-01/"/>
    <id>https://gardenzzz.github.io/2020/380717/Project-01/</id>
    <published>2020-10-07T23:38:17.000Z</published>
    <updated>2020-12-07T15:50:27.079Z</updated>
    
    <content type="html"><![CDATA[<p>基于开源前端项目 <a href="https://github.com/Summerjie007/vue-MoreMall" target="_blank">vue-MoreMall</a> MVC 模式架构的在线商城。完整实现了后台管理和在线商城的所有功能</p><a id="more"></a><p>前台系统：<a href="http://115.29.141.32:8085/#/mall/show/index">http://115.29.141.32:8085/#/mall/show/index</a></p><p>后台管理系统：<a href="http://115.29.141.32:8085/admin.html#/login">http://115.29.141.32:8085/admin.html#/login</a></p><p><code>admin.js</code> 对应的就是后台管理系统所有的请求，页面所需要的任何数据，就会发起一个请求。</p><p><code>client.js</code> 对应的是前台用户系统的所有请求，页面所需要的任何数据，都会发起一个请求。</p><p><code>axios-admin.js</code> <code>axios-client.js</code> 便于管理， Admin.js 中 axios 发起 http 请求时<strong>域名端口号</strong>配置在 axios-admin.js 文件</p><h2 id="后台管理模块（admin）">后台管理模块（admin）<a title="#后台管理模块（admin）" href="#后台管理模块（admin）"></a></h2><h3 id="✅-登录&amp;退出&amp;显示所有管理员信息">✅ 登录&amp;退出&amp;显示所有管理员信息<a title="#✅-登录&amp;退出&amp;显示所有管理员信息" href="#✅-登录&amp;退出&amp;显示所有管理员信息"></a></h3><h4 id="需求分析">需求分析<a title="#需求分析" href="#需求分析"></a></h4><h5 id="logoutadmin">logoutAdmin<a title="#logoutadmin" href="#logoutadmin"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">POST /api/admin/logoutAdmin HTTP/1.1</span><br><span class="line"></span><br><span class="line">&#123;&quot;token&quot;:&quot;admin&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0&#125;</span><br></pre></td></tr></table></figure><h4 id="参考代码">参考代码<a title="#参考代码" href="#参考代码"></a></h4><h5 id="代码结构"><code>代码结构</code><a title="#代码结构" href="#代码结构"></a></h5><img src="/Users/wumin/Library/Application Support/typora-user-images/image-20200929100624597.png" alt="image-20200929100624597" style="zoom:25%;" /><h5 id="pom.xml"><code>pom.xml</code><a title="#pom.xml" href="#pom.xml"></a></h5><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.cskaoyan.25ee<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mall<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-beanutils<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-beanutils<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-dbutils<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-dbutils<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="druid.properties"><code>druid.properties</code><a title="#druid.properties" href="#druid.properties"></a></h5><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#驱动加载</span></span><br><span class="line"><span class="attr">driverClassName</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="comment">#注册驱动</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/25_mall?characterEncoding=utf-8</span></span><br><span class="line"><span class="comment">#连接数据库的用户名</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="comment">#连接数据库的密码</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123456</span></span><br><span class="line"><span class="comment">#属性类型的字符串，通过别名的方式配置扩展插件， 监控统计用的stat 日志用log4j 防御sql注入:wall</span></span><br><span class="line"><span class="attr">filters</span>=<span class="string">stat</span></span><br><span class="line"><span class="comment">#初始化时池中建立的物理连接个数。</span></span><br><span class="line"><span class="attr">initialSize</span>=<span class="string">2</span></span><br><span class="line"><span class="comment">#最大的可活跃的连接池数量</span></span><br><span class="line"><span class="attr">maxActive</span>=<span class="string">300</span></span><br><span class="line"><span class="comment">#获取连接时最大等待时间，单位毫秒，超过连接就会失效。配置了maxWait之后，缺省启用公平锁，并发效率会有所下降， 如果需要可以通过配置useUnfairLock属性为true使用非公平锁。</span></span><br><span class="line"><span class="attr">maxWait</span>=<span class="string">60000</span></span><br><span class="line"><span class="comment">#连接回收器的运行周期时间，时间到了清理池中空闲的连接，testWhileIdle根据这个判断</span></span><br><span class="line"><span class="attr">timeBetweenEvictionRunsMillis</span>=<span class="string">60000</span></span><br><span class="line"><span class="attr">minEvictableIdleTimeMillis</span>=<span class="string">300000</span></span><br><span class="line"><span class="comment">#用来检测连接是否有效的sql，要求是一个查询语句。</span></span><br><span class="line"><span class="attr">validationQuery</span>=<span class="string">SELECT 1</span></span><br><span class="line"><span class="comment">#建议配置为true，不影响性能，并且保证安全性。 申请连接的时候检测，如果空闲时间大于timeBetweenEvictionRunsMillis， 执行validationQuery检测连接是否有效。</span></span><br><span class="line"><span class="attr">testWhileIdle</span>=<span class="string">true</span></span><br><span class="line"><span class="comment">#申请连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能。设置为false</span></span><br><span class="line"><span class="attr">testOnBorrow</span>=<span class="string">false</span></span><br><span class="line"><span class="comment">#归还连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能,设置为flase</span></span><br><span class="line"><span class="attr">testOnReturn</span>=<span class="string">false</span></span><br><span class="line"><span class="comment">#是否缓存preparedStatement，也就是PSCache。</span></span><br><span class="line"><span class="attr">poolPreparedStatements</span>=<span class="string">false</span></span><br><span class="line"><span class="comment">#池中能够缓冲的preparedStatements语句数量</span></span><br><span class="line"><span class="attr">maxPoolPreparedStatementPerConnectionSize</span>=<span class="string">200</span></span><br></pre></td></tr></table></figure><h5 id="filter"><code>filter</code><a title="#filter" href="#filter"></a></h5><h6 id="application-filter"><code>Application Filter</code><a title="#application-filter" href="#application-filter"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">        HttpServletRequest request = (HttpServletRequest) servletRequest;</span><br><span class="line">        HttpServletResponse response = (HttpServletResponse) servletResponse;</span><br><span class="line">  <span class="comment">//设置编码格式，解决中文乱码</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">  <span class="comment">//跨域相关</span></span><br><span class="line">        response.setHeader(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        response.setHeader(<span class="string">&quot;Access-Control-Allow-Methods&quot;</span>,<span class="string">&quot;POST,GET,OPTIONS,PUT,DELETE&quot;</span>);</span><br><span class="line">        response.setHeader(<span class="string">&quot;Access-Control-Allow-Headers&quot;</span>,<span class="string">&quot;x-requested-with,Authorization,Content-Type&quot;</span>);</span><br><span class="line">        response.setHeader(<span class="string">&quot;Access-Control-Allow-Credentials&quot;</span>,<span class="string">&quot;true&quot;</span>);</span><br><span class="line">        filterChain.doFilter(request, response);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="controller"><code>controller</code><a title="#controller" href="#controller"></a></h5><p>与<code>客服端（浏览器）</code>进行通信，返回数据给前端</p><h6 id="adminservlet"><code>AdminServlet</code><a title="#adminservlet" href="#adminservlet"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/api/admin/admin/*&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">String requestURI = req.getRequestURI();</span><br><span class="line">String action = requestURI.replace(<span class="string">&quot;/api/admin/admin/&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Admins</span></span><br><span class="line"><span class="comment">* &#123;&quot;code&quot;:0,&quot;data&quot;:[&#123;&quot;id&quot;:1,&quot;email&quot;:&quot;admin&quot;,&quot;nickname&quot;:&quot;admin&quot;,&quot;pwd&quot;:&quot;admin&quot;&#125;]&#125;</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> req</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> resp</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">allAdmins</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">  <span class="comment">//调用 Service.allAdmins()</span></span><br><span class="line">  adminService.allAdmins()</span><br><span class="line">  <span class="comment">//以json的形式给前端返回数据</span></span><br><span class="line">  Result(<span class="number">0</span>, <span class="keyword">null</span>, adminList);</span><br><span class="line">  gson.toJson(result)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 登录</span></span><br><span class="line"><span class="comment">* 抓包，看公网服务器上面的请求报文和响应报文格式</span></span><br><span class="line"><span class="comment">* 然后本地加以复现（请求报文看本地的也ok）</span></span><br><span class="line"><span class="comment">* &#123;&quot;email&quot;:&quot;admin&quot;,&quot;pwd&quot;:&quot;admin&quot;&#125;-----请求体</span></span><br><span class="line"><span class="comment">* 前端提交的请求报文请求体参数是json字符串，还能使用request.getParameter API吗？</span></span><br><span class="line"><span class="comment">* 不能，该API只能够去获取到key1=value1&amp;key2=value2的形式</span></span><br><span class="line"><span class="comment">* 。。。。。。中间就是需要我们去实现的</span></span><br><span class="line"><span class="comment">* 返回一个响应报文----抓公网服务器上面的报文</span></span><br><span class="line"><span class="comment">* &#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;密码不正确!&quot;&#125;----用户名密码不正确</span></span><br><span class="line"><span class="comment">* &#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;token&quot;:&quot;admin&quot;,&quot;name&quot;:&quot;admin&quot;&#125;&#125;---登录成功</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> req</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> resp</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">login</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">  <span class="comment">//1.获取请求体的字符串，封装📦到bean（AdminLoginBO loginBO）</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">//2.loginBO 判空</span></span><br><span class="line">  loginBO.isEmpty()</span><br><span class="line">    <span class="string">&quot;登录信息不能为空&quot;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">//3.向service传入bean，获取登录结果</span></span><br><span class="line">  <span class="keyword">int</span> code = adminService.login(loginBO);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//4. 根据结果（200/404/500），向前端返回数据</span></span><br><span class="line">  &#123;<span class="string">&quot;code&quot;</span>:<span class="number">0</span>,<span class="string">&quot;data&quot;</span>:&#123;<span class="string">&quot;token&quot;</span>:<span class="string">&quot;admin&quot;</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;admin&quot;</span>&#125;&#125;---登录成功</span><br><span class="line">    <span class="string">&quot;用户名或者密码错误&quot;</span></span><br><span class="line">    <span class="string">&quot;当前系统繁忙&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure><h5 id="service"><code>service</code><a title="#service" href="#service"></a></h5><p>处理<code>服务端</code>逻辑</p><h6 id="adminservice"><code>AdminService</code><a title="#adminservice" href="#adminservice"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//定义 login、allAdmins 方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AdminService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">login</span><span class="params">(AdminLoginBO loginBO)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;Admin&gt; <span class="title">allAdmins</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="adminserviceimpl"><code>AdminServiceImpl</code><a title="#adminserviceimpl" href="#adminserviceimpl"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//实现 login、allAdmins 方法</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="dao"><code>dao</code><a title="#dao" href="#dao"></a></h5><p>发送<code>SQL语句</code>，与数据库通信（CURD）</p><h6 id="admindao"><code>AdminDao</code><a title="#admindao" href="#admindao"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AdminDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">login</span><span class="params">(AdminLoginBO loginBO)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;Admin&gt; <span class="title">allAdmins</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="admindaoimpl"><code>AdminDaoImpl</code><a title="#admindaoimpl" href="#admindaoimpl"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//login</span></span><br><span class="line"><span class="comment">// todo ??? SQL DBUtils</span></span><br><span class="line"><span class="comment">//todo ??? queryRunner.query() 获取的是什么对象？Long?</span></span><br><span class="line">query = runner.query(<span class="string">&quot;select count(*) from admin where email = ? and pwd = ?&quot;</span>, <span class="keyword">new</span> ScalarHandler&lt;&gt;(), loginBO.getEmail(), loginBO.getPwd());</span><br><span class="line"><span class="keyword">return</span> <span class="number">200</span>/<span class="number">404</span>/<span class="number">500</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//allAdmins</span></span><br><span class="line">adminList = runner.query(<span class="string">&quot;select * from admin&quot;</span>, <span class="keyword">new</span> BeanListHandler&lt;Admin&gt;(Admin.class));</span><br><span class="line"><span class="keyword">return</span> adminList;</span><br></pre></td></tr></table></figure><h5 id="bean"><code>bean</code><a title="#bean" href="#bean"></a></h5><p>从json字符串封装📦的对象</p><h6 id="bo_adminloginbo"><code>bo_AdminLoginBO</code><a title="#bo_adminloginbo" href="#bo_adminloginbo"></a></h6><p><code>AdminLoginBO</code></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure><h6 id="admin"><code>Admin</code><a title="#admin" href="#admin"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure><h6 id="result"><code>Result</code><a title="#result" href="#result"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure><h5 id="utils"><code>utils</code><a title="#utils" href="#utils"></a></h5><h6 id="druidutils"><code>DruidUtils</code><a title="#druidutils" href="#druidutils"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//SQL 线程池</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DruidUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> DataSource dataSource;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        InputStream inputStream = DruidUtils.class.getClassLoader().getResourceAsStream(<span class="string">&quot;druid.properties&quot;</span>);</span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            properties.load(inputStream);</span><br><span class="line">            dataSource = DruidDataSourceFactory.createDataSource(properties);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dataSource.getConnection();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DataSource <span class="title">getDataSource</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="httputils"><code>HttpUtils</code><a title="#httputils" href="#httputils"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 请求体的内容---&gt;字符串</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> req</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">parseRequest</span><span class="params">(HttpServletRequest req)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">      <span class="comment">//todo ??? JAVA IO</span></span><br><span class="line">        ServletInputStream inputStream = req.getInputStream();</span><br><span class="line">        ByteArrayOutputStream bos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">byte</span>[]  bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">while</span> ((length = inputStream.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            bos.write(bytes, <span class="number">0</span>, length);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">return</span> bos.toString(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="代码实现">代码实现<a title="#代码实现" href="#代码实现"></a></h4><h3 id="✅管理员账号crud">✅管理员账号CRUD<a title="#✅管理员账号crud" href="#✅管理员账号crud"></a></h3><h4 id="需求分析-1">需求分析<a title="#需求分析-1" href="#需求分析-1"></a></h4><h5 id="create">Create<a title="#create" href="#create"></a></h5><img src="/Users/wumin/Library/Application Support/typora-user-images/image-20200929195739930.png" alt="image-20200929195739930" style="zoom: 50%;" /><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">POST /api/admin/addAdminss HTTP/1.1</span><br><span class="line"></span><br><span class="line">&#123;&quot;nickname&quot;:&quot;wsdsz&quot;,&quot;email&quot;:&quot;11223344@qq.com&quot;,&quot;pwd&quot;:&quot;Asd.0Asd.0!&quot;&#125;</span><br><span class="line"></span><br><span class="line">// 成功</span><br><span class="line">&#123;&quot;code&quot;:0&#125;</span><br><span class="line"></span><br><span class="line">// 失败</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;管理员信息不能为空&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;账号已存在&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;昵称已存在&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;当前系统繁忙&quot;&#125;</span><br><span class="line"></span><br><span class="line">//正则 (写在了前端)</span><br><span class="line">必须 qq 邮箱 qq 号 5-12 位!</span><br><span class="line">昵称只能包括数字字母的组合，长度为 4-15 位!</span><br><span class="line">密码最少 8 位最多 16 位，至少 1 个大写字母，1 个小写字母，1 个数字和 1 个特殊字符!</span><br><span class="line"></span><br><span class="line">//SQL</span><br><span class="line"><span class="code">       String sql1 = &quot;select count(*) from admin where email = ? &quot;;</span></span><br><span class="line"><span class="code">       String sql2 = &quot;select count(*) from admin where nickname = ? &quot;;</span></span><br><span class="line"><span class="code">       String sql3 = &quot;insert into admin value(null, ?, ?, ?)&quot;;</span></span><br><span class="line"><span class="code">       </span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><h5 id="retrieve">Retrieve<a title="#retrieve" href="#retrieve"></a></h5><h6 id="getadminsinfo"><code>getAdminsInfo</code><a title="#getadminsinfo" href="#getadminsinfo"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">GET /api/admin/getAdminsInfo?id=80 HTTP/1.1</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;id&quot;:80,&quot;email&quot;:&quot;18892292@qq.com&quot;,&quot;nickname&quot;:&quot;lly0000&quot;,&quot;pwd&quot;:&quot;Aa%345678&quot;&#125;&#125;</span><br></pre></td></tr></table></figure><h6 id="getsearchadmins"><code>getSearchAdmins</code><a title="#getsearchadmins" href="#getsearchadmins"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">POST /api/admin/getSearchAdmins HTTP/1.1</span><br><span class="line"></span><br><span class="line">&#123;&quot;nickname&quot;:&quot;admin&quot;,&quot;email&quot;:&quot;admin&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0,&quot;data&quot;:[&#123;&quot;id&quot;:156,&quot;email&quot;:&quot;2501882474@qq.com&quot;,&quot;nickname&quot;:&quot;test&quot;,&quot;pwd&quot;:&quot;Test@1234&quot;&#125;,&#123;&quot;id&quot;:166,&quot;email&quot;:&quot;574630686@qq.com&quot;,&quot;nickname&quot;:&quot;test123&quot;,&quot;pwd&quot;:&quot;123456&quot;&#125;]&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update">Update<a title="#update" href="#update"></a></h5><h6 id="updateadminss"><code>updateAdminss</code><a title="#updateadminss" href="#updateadminss"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">POST /api/admin/updateAdminss HTTP/1.1</span><br><span class="line"></span><br><span class="line">&#123;&quot;id&quot;:80,&quot;nickname&quot;:&quot;lly0000&quot;,&quot;email&quot;:&quot;0018892292@qq.com&quot;,&quot;pwd&quot;:&quot;Aa%345678&quot;&#125;</span><br><span class="line"></span><br><span class="line">// 成功</span><br><span class="line">&#123;&quot;code&quot;:0&#125;</span><br><span class="line"></span><br><span class="line">//失败</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;管理员信息不能为空&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;账号已存在&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;昵称已存在&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:500,&quot;message&quot;:&quot;当前系统繁忙&quot;&#125;</span><br></pre></td></tr></table></figure><p>------[UPDATE] 2020.09.29 22:45------</p><h6 id="changepwd"><code>changePwd</code><a title="#changepwd" href="#changepwd"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">POST /api/admin/changePwd HTTP/1.1</span><br><span class="line"></span><br><span class="line">&#123;&quot;adminToken&quot;:&quot;wsdsz&quot;,&quot;oldPwd&quot;:&quot;Aa<span class="code">`!1234&quot;,&quot;newPwd&quot;:&quot;Aa`</span>!12345&quot;,&quot;confirmPwd&quot;:&quot;Aa`!12345&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0&#125;</span><br><span class="line"></span><br><span class="line">//失败</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;旧密码错误!&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;请确认两次输入的新密码是否一致!&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;当前系统繁忙!&quot;&#125;</span><br></pre></td></tr></table></figure><h5 id="delete">Delete<a title="#delete" href="#delete"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">GET /api/admin/deleteAdmins?id=80 HTTP/1.1</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0</span><br><span class="line">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;admin账号不允许删除&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;删除失败，请联系管理员&quot;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="代码实现-1">代码实现<a title="#代码实现-1" href="#代码实现-1"></a></h4><h5 id="create-1"><code>Create</code><a title="#create-1" href="#create-1"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-1"><code>Retrieve</code><a title="#retrieve-1" href="#retrieve-1"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update-1"><code>Update</code><a title="#update-1" href="#update-1"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-1"><code>Delete</code><a title="#delete-1" href="#delete-1"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h3 id="✅-用户管理crud">✅ 用户管理CRUD<a title="#✅-用户管理crud" href="#✅-用户管理crud"></a></h3><h4 id="需求分析-2">需求分析<a title="#需求分析-2" href="#需求分析-2"></a></h4><h5 id="datebase">DateBase<a title="#datebase" href="#datebase"></a></h5><p>![image-20201005093715092](/Users/wumin/Library/Application Support/typora-user-images/image-20201005093715092.png)</p><p>![image-20201005092851067](/Users/wumin/Library/Application Support/typora-user-images/image-20201005092851067.png)</p><img src="/Users/wumin/Library/Application Support/typora-user-images/image-20201005092741596.png" alt="image-20201005092741596" style="zoom:50%;" align="left"/><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;email&quot;:&quot;135799753111@qq.com&quot;,</span><br><span class="line">&quot;nickname&quot;:&quot;pikapika&quot;,</span><br><span class="line">&quot;pwd&quot;:&quot;Aa`!1234&quot;,</span><br><span class="line">&quot;recipient&quot;:&quot;皮卡丘&quot;,</span><br><span class="line">&quot;address&quot;:&quot;仙女座星系M18星皮卡丘部落&quot;,</span><br><span class="line">&quot;phone&quot;:&quot;130110110&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="create-2">Create<a title="#create-2" href="#create-2"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-2">Retrieve<a title="#retrieve-2" href="#retrieve-2"></a></h5><h6 id="alluser">allUser<a title="#alluser" href="#alluser"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">GET /api/admin/allUser HTTP/1.1</span></span><br><span class="line"><span class="code">http://localhost:8084/api/admin/user/allUser</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">//传密码 但不显示 ???</span></span><br><span class="line"><span class="code">//实现 不传密码 也 OK</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">&quot;data&quot;: [&#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;email&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">&quot;nickname&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">&quot;pwd&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">&quot;recipient&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">&quot;address&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">&quot;phone&quot;: &quot;11111111111&quot;</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 46,</span></span><br><span class="line"><span class="code">&quot;email&quot;: &quot;1357997531@qq.com&quot;,</span></span><br><span class="line"><span class="code">&quot;nickname&quot;: &quot;Pikachu&quot;,</span></span><br><span class="line"><span class="code">&quot;pwd&quot;: &quot;Qq@135799&quot;,</span></span><br><span class="line"><span class="code">&quot;recipient&quot;: &quot;皮卡丘&quot;,</span></span><br><span class="line"><span class="code">&quot;address&quot;: &quot;仙女座星系M18星皮卡丘部落&quot;,</span></span><br><span class="line"><span class="code">&quot;phone&quot;: &quot;130110110&quot;</span></span><br><span class="line"><span class="code">&#125;]</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><h6 id="searchuser">searchUser<a title="#searchuser" href="#searchuser"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">GET /api/admin/searchUser?word=admin HTTP/1.1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">&quot;data&quot;: [&#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;email&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">&quot;nickname&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">&quot;pwd&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">&quot;recipient&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">&quot;address&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">&quot;phone&quot;: &quot;11111111111&quot;</span></span><br><span class="line"><span class="code">&#125;]</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure><h5 id="update-2">Update<a title="#update-2" href="#update-2"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-2">Delete<a title="#delete-2" href="#delete-2"></a></h5><h6 id="deleteuser">deleteUser<a title="#deleteuser" href="#deleteuser"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">GET /api/admin/deleteUser?id=58 HTTP/1.1</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0&#125;</span><br><span class="line"></span><br><span class="line">//失败</span><br><span class="line">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;你不能删除admin账号!&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;删除失败，请联系管理员&quot;&#125;</span><br></pre></td></tr></table></figure><h4 id="代码实现-2">代码实现<a title="#代码实现-2" href="#代码实现-2"></a></h4><h5 id="create-3"><code>Create</code><a title="#create-3" href="#create-3"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-3"><code>Retrieve</code><a title="#retrieve-3" href="#retrieve-3"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update-3"><code>Update</code><a title="#update-3" href="#update-3"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-3"><code>Delete</code><a title="#delete-3" href="#delete-3"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h3 id="商品管理">商品管理<a title="#商品管理" href="#商品管理"></a></h3><h4 id="需求分析-3">需求分析<a title="#需求分析-3" href="#需求分析-3"></a></h4><h5 id="代码结构-1">代码结构<a title="#代码结构-1" href="#代码结构-1"></a></h5><img src="/Users/wumin/Library/Application Support/typora-user-images/image-20201004182557533.png" alt="image-20201004182557533" style="zoom:25%;" align="left"/><h5 id="datebase-1">DateBase<a title="#datebase-1" href="#datebase-1"></a></h5><h6 id="goods_type">goods_type<a title="#goods_type" href="#goods_type"></a></h6><p>![image-20201004170755694](/Users/wumin/Library/Application Support/typora-user-images/image-20201004170755694.png)</p><h6 id="goods">goods<a title="#goods" href="#goods"></a></h6><p>![image-20201004151138995](/Users/wumin/Library/Application Support/typora-user-images/image-20201004151138995.png)</p><h6 id="goods_spec">goods_spec<a title="#goods_spec" href="#goods_spec"></a></h6><p>![image-20201004171751140](/Users/wumin/Library/Application Support/typora-user-images/image-20201004171751140.png)</p><h5 id="create-4">Create<a title="#create-4" href="#create-4"></a></h5><h6 id="imgupload">imgUpload<a title="#imgupload" href="#imgupload"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">POST /api/admin/imgUpload HTTP/1.1</span><br><span class="line"></span><br><span class="line">fileimage/jpegtest.jpg19.71 KB (20,187 bytes)</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0,&quot;data&quot;:&quot;/static/image/1601803470450test.jpg&quot;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="addgoods">addGoods<a title="#addgoods" href="#addgoods"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">POST /api/admin/addGoods HTTP/1.1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;衣服&quot;,</span></span><br><span class="line"><span class="code">&quot;typeId&quot;: &quot;1&quot;,</span></span><br><span class="line"><span class="code">&quot;img&quot;: &quot;/static/image/1601803470450test.jpg&quot;,</span></span><br><span class="line"><span class="code">&quot;desc&quot;: &quot;好看的衣服&quot;,</span></span><br><span class="line"><span class="code">&quot;specList&quot;: [&#123;</span></span><br><span class="line"><span class="code">&quot;specName&quot;: &quot;s&quot;,</span></span><br><span class="line"><span class="code">&quot;stockNum&quot;: &quot;100&quot;,</span></span><br><span class="line"><span class="code">&quot;unitPrice&quot;: &quot;100&quot;</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;specName&quot;: &quot;m&quot;,</span></span><br><span class="line"><span class="code">&quot;stockNum&quot;: &quot;1000&quot;,</span></span><br><span class="line"><span class="code">&quot;unitPrice&quot;: &quot;99&quot;</span></span><br><span class="line"><span class="code">&#125;]</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:0&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">//失败</span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;添加失败，请检联系管理员!&quot;&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">String sql = &quot;&quot;; </span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><h6 id="addtype">addType<a title="#addtype" href="#addtype"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">POST /api/admin/addType HTTP/1.1</span><br><span class="line">http://localhost:8084/api/admin/goods/addType</span><br><span class="line"></span><br><span class="line">&#123;&quot;name&quot;:&quot;iPhone&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0&#125;</span><br></pre></td></tr></table></figure><h6 id="addspec">addSpec<a title="#addspec" href="#addspec"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">POST /api/admin/addSpec HTTP/1.1</span><br><span class="line"></span><br><span class="line">//? 为什么只有修改商品的时候有 添加商品 的时候没有发起 addSpec 和 deleteSpec请求？？</span><br><span class="line"></span><br><span class="line">&#123;&quot;goodsId&quot;:&quot;480&quot;,&quot;specName&quot;:&quot;白色&quot;,&quot;stockNum&quot;:&quot;1000&quot;,&quot;unitPrice&quot;:&quot;1000&quot;&#125;</span><br><span class="line"></span><br><span class="line"><span class="code">//</span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;goodsId&quot;:&quot;480&quot;,&quot;specName&quot;:&quot;白色&quot;,&quot;stockNum&quot;:&quot;1000&quot;,&quot;unitPrice&quot;:&quot;1000&quot;&#125;&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><h6 id="reply">reply<a title="#reply" href="#reply"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">请求 URL: http://localhost:8084/api/admin/goods/reply</span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;&quot;id&quot;:387,&quot;content&quot;:&quot;你好傻&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0&#125;</span><br></pre></td></tr></table></figure><h5 id="retrieve-4">Retrieve<a title="#retrieve-4" href="#retrieve-4"></a></h5><h6 id="gettype">getType<a title="#gettype" href="#gettype"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">GET /api/admin/getType HTTP/1.1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">&quot;data&quot;: [&#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;女装&quot;</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 190,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;男装&quot;</span></span><br><span class="line"><span class="code">&#125;]</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure><h6 id="getgoodsbytype">getGoodsByType<a title="#getgoodsbytype" href="#getgoodsbytype"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">GET /api/admin/getGoodsByType?typeId=1 HTTP/1.1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">&quot;data&quot;: [&#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 477,</span></span><br><span class="line"><span class="code">&quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/157123045512415669928366681566992814(1).jpg&quot;,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;外套&quot;,</span></span><br><span class="line"><span class="code">&quot;price&quot;: 110.0,</span></span><br><span class="line"><span class="code">&quot;typeId&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;stockNum&quot;: 3998</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 478, </span></span><br><span class="line"><span class="code">&quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/157123055832115669931721908195203.jpg&quot;,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;新品外套&quot;,</span></span><br><span class="line"><span class="code">&quot;price&quot;: 200.0,</span></span><br><span class="line"><span class="code">&quot;typeId&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;stockNum&quot;: 3000</span></span><br><span class="line"><span class="code">&#125;]</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><h6 id="getgoodsinfo">getGoodsInfo<a title="#getgoodsinfo" href="#getgoodsinfo"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">GET /api/admin/getGoodsInfo?id=598 HTTP/1.1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">&quot;data&quot;: &#123;</span></span><br><span class="line"><span class="code">&quot;specs&quot;: [&#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1487,</span></span><br><span class="line"><span class="code">&quot;specName&quot;: &quot;S&quot;,</span></span><br><span class="line"><span class="code">&quot;stockNum&quot;: 1000,</span></span><br><span class="line"><span class="code">&quot;unitPrice&quot;: 98.0</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1511,</span></span><br><span class="line"><span class="code">&quot;specName&quot;: &quot;fggd&quot;,</span></span><br><span class="line"><span class="code">&quot;stockNum&quot;: 100,</span></span><br><span class="line"><span class="code">&quot;unitPrice&quot;: 25.0</span></span><br><span class="line"><span class="code">&#125;],</span></span><br><span class="line"><span class="code">&quot;goods&quot;: &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 598,</span></span><br><span class="line"><span class="code">&quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1601780934267连衣裙.JPG&quot;,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;连衣裙&quot;,</span></span><br><span class="line"><span class="code">&quot;desc&quot;: &quot;SDD&quot;,</span></span><br><span class="line"><span class="code">&quot;typeId&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;unitPrice&quot;: 0.0 //不返回 ???</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure><h6 id="repliedmsg-&amp;&amp;-noreplymsg">repliedMsg &amp;&amp; noReplyMsg<a title="#repliedmsg-&amp;&amp;-noreplymsg" href="#repliedmsg-&amp;&amp;-noreplymsg"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">http://localhost:8084/api/admin/goods/repliedMsg</span><br><span class="line">get</span><br><span class="line"></span><br><span class="line">&quot;replyContent&quot;:&quot;ok&quot;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">http://localhost:8084/api/admin/goods/noReplyMsg</span><br><span class="line">get</span><br><span class="line">&#123;</span><br><span class="line"><span class="code">    &quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">    &quot;data&quot;: [</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            &quot;id&quot;: 386,</span></span><br><span class="line"><span class="code">            &quot;userId&quot;: 95,</span></span><br><span class="line"><span class="code">            &quot;goodsId&quot;: 483,</span></span><br><span class="line"><span class="code">            &quot;content&quot;: &quot;手机好好看&quot;,</span></span><br><span class="line"><span class="code">            &quot;state&quot;: 1,</span></span><br><span class="line"><span class="code">            &quot;createtime&quot;: &quot;2020-10-07 20:28:21&quot;,</span></span><br><span class="line"><span class="code">            &quot;goods&quot;: &#123;</span></span><br><span class="line"><span class="code">                &quot;name&quot;: &quot;华为p30&quot;</span></span><br><span class="line"><span class="code">            &#125;,</span></span><br><span class="line"><span class="code">            &quot;user&quot;: &#123;</span></span><br><span class="line"><span class="code">                &quot;name&quot;: &quot;cookie&quot;</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            &quot;id&quot;: 387,</span></span><br><span class="line"><span class="code">            &quot;userId&quot;: 1,</span></span><br><span class="line"><span class="code">            &quot;goodsId&quot;: 482,</span></span><br><span class="line"><span class="code">            &quot;content&quot;: &quot;sdada&quot;,</span></span><br><span class="line"><span class="code">            &quot;state&quot;: 1,</span></span><br><span class="line"><span class="code">            &quot;createtime&quot;: &quot;2020-10-07 20:31:37&quot;,</span></span><br><span class="line"><span class="code">            &quot;goods&quot;: &#123;</span></span><br><span class="line"><span class="code">                &quot;name&quot;: &quot;摄像机&quot;</span></span><br><span class="line"><span class="code">            &#125;,</span></span><br><span class="line"><span class="code">            &quot;user&quot;: &#123;</span></span><br><span class="line"><span class="code">                &quot;name&quot;: &quot;admin&quot;</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">        &#125;]</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure><h5 id="update-4">Update<a title="#update-4" href="#update-4"></a></h5><h6 id="updategoods">updateGoods<a title="#updategoods" href="#updategoods"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">POST /api/admin/updateGoods HTTP/1.1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">// addGoods 返回的参数 + 两个id</span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: &quot;598&quot;,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;连衣裙&quot;,</span></span><br><span class="line"><span class="code">&quot;typeId&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1601780934267连衣裙.JPG&quot;,</span></span><br><span class="line"><span class="code">&quot;desc&quot;: &quot;SDD&quot;,</span></span><br><span class="line"><span class="code">&quot;specList&quot;: [&#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1487,</span></span><br><span class="line"><span class="code">&quot;specName&quot;: &quot;S&quot;,</span></span><br><span class="line"><span class="code">&quot;stockNum&quot;: 1000,</span></span><br><span class="line"><span class="code">&quot;unitPrice&quot;: 98</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1511,</span></span><br><span class="line"><span class="code">&quot;specName&quot;: &quot;M&quot;,</span></span><br><span class="line"><span class="code">&quot;stockNum&quot;: 100,</span></span><br><span class="line"><span class="code">&quot;unitPrice&quot;: 25</span></span><br><span class="line"><span class="code">&#125;]</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:0&#125;</span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;商品参数不允许为空，请检查后提交!&quot;&#125;</span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;修改失败，请检联系管理员!&quot;&#125;</span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><h5 id="delete-4">Delete<a title="#delete-4" href="#delete-4"></a></h5><h6 id="deletegoods">deleteGoods<a title="#deletegoods" href="#deletegoods"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">GET /api/admin/deleteGoods?id=598 HTTP/1.1</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="deletetype">deleteType<a title="#deletetype" href="#deletetype"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">GET /api/admin/deleteType?typeId=282 HTTP/1.1</span><br><span class="line"></span><br><span class="line">//删除逻辑</span><br><span class="line"><span class="bullet">1.</span> 删除Type</span><br><span class="line"><span class="bullet">2.</span> 修改表 goods （typeId = 1 wherh typeId=282）1 是默认分类，商品到默认类目后可重新选择类目</span><br><span class="line"></span><br><span class="line">//返回</span><br><span class="line">&#123;&quot;code&quot;:0&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//done 前端</span><br><span class="line">&#x27;此操作将记录ip(所以一定要删除的是自己添加的分类,不要删除别人创建的分类)&#x27;</span><br><span class="line">---&gt;&#x27;请确认要删除的类目：&#x27;+this.tagNow.name</span><br><span class="line"></span><br><span class="line">&#x27;是否要删除(分类相关商品,评论,订单将同步删除)分类:&#x27;+this.tagNow.name)</span><br><span class="line">---&gt;&#x27;删除后该类目下的所有商品将移动至默认类目，可在默认类目为商品重新分配类目，点击确认将执行删除操作！！！&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//前端代码备份 Goods.Vue</span><br><span class="line">  methods:&#123;</span><br><span class="line">   deleteType()&#123;</span><br><span class="line"><span class="code">       alert(&#x27;此操作将记录ip(所以一定要删除的是自己添加的分类,不要删除别人创建的分类)&#x27;)</span></span><br><span class="line"><span class="code">       if (confirm(&#x27;是否要删除(分类相关商品,评论,订单将同步删除)分类:&#x27;+this.tagNow.name))&#123;</span></span><br><span class="line"><span class="code">           alert(&#x27;即将执行删除操作&#x27;)</span></span><br><span class="line"><span class="code">           const res = deleteType(this.tagNow.id);</span></span><br><span class="line"><span class="code">           res.then((res)=&gt;&#123;</span></span><br><span class="line"><span class="code">                   alert(&#x27;删除成功！请刷新&#x27;);</span></span><br><span class="line"><span class="code">               &#125;)</span></span><br><span class="line"><span class="code">               .catch((e)=&gt;&#123;</span></span><br><span class="line"><span class="code">                   alert(e);</span></span><br><span class="line"><span class="code">               &#125;)</span></span><br><span class="line"><span class="code">       &#125;else &#123;</span></span><br><span class="line"><span class="code">           alert(&#x27;已取消删除&#x27;)</span></span><br><span class="line"><span class="code">       &#125;</span></span><br><span class="line"><span class="code">   &#125;</span></span><br></pre></td></tr></table></figure><h6 id="deletespec">deleteSpec<a title="#deletespec" href="#deletespec"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">POST /api/admin/deleteSpec HTTP/1.1</span><br><span class="line"></span><br><span class="line">//??? get 传 id 不可以吗？？？</span><br><span class="line"></span><br><span class="line">&#123;&quot;goodsId&quot;:&quot;480&quot;,&quot;specName&quot;:&quot;橘色&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0&#125;</span><br></pre></td></tr></table></figure><h4 id="参考代码-1">参考代码<a title="#参考代码-1" href="#参考代码-1"></a></h4><h5 id="fileuploadutils">FileUploadUtils<a title="#fileuploadutils" href="#fileuploadutils"></a></h5><h6 id="maven-apache-commons-fileupload-»-1.3.3">maven <a href="https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload">Apache Commons FileUpload</a> » <a href="https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload/1.3.3">1.3.3</a><a title="#maven-apache-commons-fileupload-»-1.3.3" href="#maven-apache-commons-fileupload-»-1.3.3"></a></h6><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileUploadUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Map&lt;String, Object&gt; <span class="title">parseRequest</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">        DiskFileItemFactory factory = <span class="keyword">new</span> DiskFileItemFactory();</span><br><span class="line">        ServletContext servletContext = request.getServletContext();</span><br><span class="line">        File repository = (File) servletContext.getAttribute(<span class="string">&quot;javax.servlet.context.tempdir&quot;</span>);</span><br><span class="line">        factory.setRepository(repository);</span><br><span class="line">        Map&lt;String, Object&gt; params = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// Create a new file upload handler</span></span><br><span class="line">        ServletFileUpload upload = <span class="keyword">new</span> ServletFileUpload(factory);</span><br><span class="line">        <span class="comment">// 1024 bytes</span></span><br><span class="line">        <span class="comment">// upload.setFileSizeMax(1024 * 1024 * 5);</span></span><br><span class="line">        <span class="comment">//用于解决上传的文件名中文乱码</span></span><br><span class="line">        upload.setHeaderEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Parse the request</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//前端页面内的每一个input框，都会被解析成一个FileItem</span></span><br><span class="line">            List&lt;FileItem&gt; items = upload.parseRequest(request);</span><br><span class="line">            Iterator&lt;FileItem&gt; itemIterator = items.iterator();</span><br><span class="line">            <span class="keyword">while</span> (itemIterator.hasNext()) &#123;</span><br><span class="line">                FileItem fileItem = itemIterator.next();</span><br><span class="line">                <span class="keyword">if</span> (fileItem.isFormField()) &#123;</span><br><span class="line">                    <span class="comment">//是否是常规form表单数据</span></span><br><span class="line">                    processFormField(fileItem, params);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    processUploadedFile(fileItem,request, params);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileUploadException e) &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> params;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">processUploadedFile</span><span class="params">(FileItem fileItem, HttpServletRequest request, Map&lt;String, Object&gt; params)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//fieldName就是input的name属性</span></span><br><span class="line">        String fieldName = fileItem.getFieldName();</span><br><span class="line">        String fileName = fileItem.getName();</span><br><span class="line">        String uuid = UUID.randomUUID().toString();</span><br><span class="line">        fileName = uuid + <span class="string">&quot;-&quot;</span> + fileName;</span><br><span class="line">        <span class="keyword">int</span> hashCode = fileName.hashCode();</span><br><span class="line">        String hexString = Integer.toHexString(hashCode);</span><br><span class="line">        String basePath = <span class="string">&quot;image&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : hexString.toCharArray()) &#123;</span><br><span class="line">            basePath = basePath + <span class="string">&quot;/&quot;</span> + c;</span><br><span class="line">        &#125;</span><br><span class="line">        String contentType = fileItem.getContentType();</span><br><span class="line">        <span class="keyword">boolean</span> isInMemory = fileItem.isInMemory();</span><br><span class="line">        <span class="keyword">long</span> sizeInBytes = fileItem.getSize();</span><br><span class="line">        System.out.println(fieldName + <span class="string">&quot;==&quot;</span> + fileName + <span class="string">&quot;==&quot;</span> + contentType + <span class="string">&quot;==&quot;</span> + isInMemory + <span class="string">&quot;==&quot;</span> + sizeInBytes);</span><br><span class="line">        <span class="comment">//比如保存到部署根目录image目录下</span></span><br><span class="line">        String relativePath = basePath + <span class="string">&quot;/&quot;</span> + fileName;</span><br><span class="line">        String realPath = request.getServletContext().getRealPath(relativePath);</span><br><span class="line">        File file = <span class="keyword">new</span> File(realPath);</span><br><span class="line">        <span class="keyword">if</span>(!file.getParentFile().exists())&#123;</span><br><span class="line">            file.getParentFile().mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileItem.write(file);</span><br><span class="line">            params.put(fieldName, relativePath);</span><br><span class="line"><span class="comment">//            user.setImage(relativePath);</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">processFormField</span><span class="params">(FileItem fileItem, Map&lt;String, Object&gt; params)</span> </span>&#123;</span><br><span class="line">        String name = fileItem.getFieldName();</span><br><span class="line">        String value = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//解决form表单里面的value值中文乱码</span></span><br><span class="line">            value = fileItem.getString(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">            <span class="comment">//虽然很冗余，但是可用</span></span><br><span class="line">            <span class="comment">//这个地方有一个bug，那就是如果传的是checkbox，后面的值会把前面的覆盖</span></span><br><span class="line">            params.put(name, value);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(name + <span class="string">&quot;: &quot;</span> +value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="application.properties">application.properties<a title="#application.properties" href="#application.properties"></a></h5><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">domain</span>=<span class="string">http://localhost:8084/</span></span><br></pre></td></tr></table></figure><h5 id="applicationlistener">ApplicationListener<a title="#applicationlistener" href="#applicationlistener"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//把 domain 存到 ServletContext</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@WebListener</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationListener</span> <span class="keyword">implements</span> <span class="title">ServletContextListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextInitialized</span><span class="params">(ServletContextEvent servletContextEvent)</span> </span>&#123;</span><br><span class="line">        InputStream inputStream = ApplicationListener.class.getClassLoader().getResourceAsStream(<span class="string">&quot;application.properties&quot;</span>);</span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            properties.load(inputStream);</span><br><span class="line">            String domain = properties.getProperty(<span class="string">&quot;domain&quot;</span>);</span><br><span class="line">            servletContextEvent.getServletContext().setAttribute(<span class="string">&quot;domain&quot;</span>, domain);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextDestroyed</span><span class="params">(ServletContextEvent servletContextEvent)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="imgupload-1">imgUpload<a title="#imgupload-1" href="#imgupload-1"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">imgUpload</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//commons-fileupload</span></span><br><span class="line">        Map&lt;String, Object&gt; map = FileUploadUtils.parseRequest(request);</span><br><span class="line">        String file = (String) map.get(<span class="string">&quot;file&quot;</span>);</span><br><span class="line">        <span class="comment">//file其实就是路径，但是这个路径不能直接传给8085，为什么？  /image/xxxxxxx</span></span><br><span class="line">        <span class="comment">//因为当前图片是保存在8084系统里面的，所以如果直接返回一个相对路径，那么最终拼接出来的主机名肯定是8085</span></span><br><span class="line">        String domain = (String) getServletContext().getAttribute(<span class="string">&quot;domain&quot;</span>);<span class="comment">//ApplicationListener 存进去的</span></span><br><span class="line">        file =  domain + file;</span><br><span class="line">        response.getWriter().println(gson.toJson(Result.ok(file)));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="goodsservlet_addgoods">GoodsServlet_addGoods<a title="#goodsservlet_addgoods" href="#goodsservlet_addgoods"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">           addGoodsBO = gson.fromJson(requestBody, AddGoodsBO.class);</span><br><span class="line">       &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">           response.getWriter().println(gson.toJson(Result.error(<span class="string">&quot;参数必须为数字&quot;</span>))); <span class="comment">// ??? 什么时候抛出异常</span></span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="goodsserviceimpl_addgoods">GoodsServiceImpl_addGoods<a title="#goodsserviceimpl_addgoods" href="#goodsserviceimpl_addgoods"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;AddSpecVO&gt; specList = addGoodsBO.getSpecList();</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> goodsId = goodsDao.selectLastInsertId();</span><br><span class="line"><span class="comment">//        2.保存spec表</span></span><br><span class="line">goodsDao.addSpecs(specList, goodsId);</span><br></pre></td></tr></table></figure><h5 id="goodsdaoimpl_selectlastinsertid">GoodsDaoImpl_selectLastInsertId<a title="#goodsdaoimpl_selectlastinsertid" href="#goodsdaoimpl_selectlastinsertid"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// BigInteger ScalarHandler的返回值？ 怎么处理？</span></span><br><span class="line">query = runner.query(<span class="string">&quot;select last_insert_id()&quot;</span>, <span class="keyword">new</span> ScalarHandler&lt;&gt;());</span><br><span class="line"></span><br><span class="line">query.intValue();</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="jdbc-事务">JDBC 事务<a title="#jdbc-事务" href="#jdbc-事务"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Connection.setAutoCommit(<span class="keyword">false</span>); 开启事务DTL</span><br><span class="line">Connection.rollback(); 回滚事务</span><br><span class="line">Connection.commit(); 提交事务</span><br></pre></td></tr></table></figure><h4 id="代码实现-3">代码实现<a title="#代码实现-3" href="#代码实现-3"></a></h4><h5 id="create-5"><code>Create</code><a title="#create-5" href="#create-5"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-5"><code>Retrieve</code><a title="#retrieve-5" href="#retrieve-5"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update-5"><code>Update</code><a title="#update-5" href="#update-5"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-5"><code>Delete</code><a title="#delete-5" href="#delete-5"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h3 id="✅订单管理">✅订单管理<a title="#✅订单管理" href="#✅订单管理"></a></h3><h4 id="需求分析-4">需求分析<a title="#需求分析-4" href="#需求分析-4"></a></h4><h5 id="datebase-2">DateBase<a title="#datebase-2" href="#datebase-2"></a></h5><p>![image-20201006153332218](/Users/wumin/Library/Application Support/typora-user-images/image-20201006153332218.png)</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="create-6">Create<a title="#create-6" href="#create-6"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-6">Retrieve<a title="#retrieve-6" href="#retrieve-6"></a></h5><h6 id="ordersbypage">ordersByPage<a title="#ordersbypage" href="#ordersbypage"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">POST /api/admin/ordersByPage HTTP/1.1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;state&quot;: -1,</span></span><br><span class="line"><span class="code">&quot;currentPage&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;pagesize&quot;: 5,</span></span><br><span class="line"><span class="code">&quot;moneyLimit1&quot;: &quot;1&quot;,</span></span><br><span class="line"><span class="code">&quot;moneyLimit2&quot;: &quot;200&quot;,</span></span><br><span class="line"><span class="code">&quot;goods&quot;: &quot;1&quot;,</span></span><br><span class="line"><span class="code">&quot;address&quot;: &quot;1&quot;,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;1&quot;,</span></span><br><span class="line"><span class="code">&quot;id&quot;: &quot;1&quot;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">// 返回</span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">&quot;data&quot;: &#123;</span></span><br><span class="line"><span class="code">&quot;total&quot;: 2,</span></span><br><span class="line"><span class="code">&quot;orders&quot;: [&#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1826,</span></span><br><span class="line"><span class="code">&quot;userId&quot;: 64,</span></span><br><span class="line"><span class="code">&quot;goodsDetailId&quot;: 1285,</span></span><br><span class="line"><span class="code">&quot;goods&quot;: &quot;高档衣柜&quot;,</span></span><br><span class="line"><span class="code">&quot;spec&quot;: &quot;五组柜&quot;,</span></span><br><span class="line"><span class="code">&quot;goodsNum&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;amount&quot;: 3000.0,</span></span><br><span class="line"><span class="code">&quot;stateId&quot;: 0,</span></span><br><span class="line"><span class="code">&quot;state&quot;: &quot;未付款&quot;,</span></span><br><span class="line"><span class="code">&quot;user&quot;: &#123;</span></span><br><span class="line"><span class="code">&quot;nickname&quot;: &quot;Pikachu&quot;,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;皮卡丘&quot;,</span></span><br><span class="line"><span class="code">&quot;address&quot;: &quot;仙女座星系M18星皮卡丘部落&quot;,</span></span><br><span class="line"><span class="code">&quot;phone&quot;: &quot;130110110&quot;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1825,</span></span><br><span class="line"><span class="code">&quot;userId&quot;: 64,</span></span><br><span class="line"><span class="code">&quot;goodsDetailId&quot;: 1717,</span></span><br><span class="line"><span class="code">&quot;goods&quot;: &quot;hahaha&quot;,</span></span><br><span class="line"><span class="code">&quot;spec&quot;: &quot;q&quot;,</span></span><br><span class="line"><span class="code">&quot;goodsNum&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;amount&quot;: 111.0,</span></span><br><span class="line"><span class="code">&quot;stateId&quot;: 0,</span></span><br><span class="line"><span class="code">&quot;state&quot;: &quot;未付款&quot;,</span></span><br><span class="line"><span class="code">&quot;user&quot;: &#123;</span></span><br><span class="line"><span class="code">&quot;nickname&quot;: &quot;Pikachu&quot;,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;皮卡丘&quot;,</span></span><br><span class="line"><span class="code">&quot;address&quot;: &quot;仙女座星系M18星皮卡丘部落&quot;,</span></span><br><span class="line"><span class="code">&quot;phone&quot;: &quot;130110110&quot;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&#125;]</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><h6 id="getorder">getOrder<a title="#getorder" href="#getorder"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">GET /api/admin/order?id=1844 HTTP/1.1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">~~// 多返回一个 dFlag 用于修改是否删除~~</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">&quot;data&quot;: &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1864,</span></span><br><span class="line"><span class="code">&quot;amount&quot;: 500.0,</span></span><br><span class="line"><span class="code">&quot;num&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;goodsDetailId&quot;: 1247,</span></span><br><span class="line"><span class="code">&quot;state&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;goods&quot;: &quot;组合音响&quot;,</span></span><br><span class="line"><span class="code">&quot;spec&quot;: [&#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1245,</span></span><br><span class="line"><span class="code">&quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class="line"><span class="code">&quot;unitPrice&quot;: 0.0</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1246,</span></span><br><span class="line"><span class="code">&quot;specName&quot;: &quot;两件&quot;,</span></span><br><span class="line"><span class="code">&quot;unitPrice&quot;: 0.0</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1247,</span></span><br><span class="line"><span class="code">&quot;specName&quot;: &quot;三件&quot;,</span></span><br><span class="line"><span class="code">&quot;unitPrice&quot;: 0.0</span></span><br><span class="line"><span class="code">&#125;],</span></span><br><span class="line"><span class="code">&quot;states&quot;: [&#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 0,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;未付款&quot;</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;未发货&quot;</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 2,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;已发货&quot;</span></span><br><span class="line"><span class="code">&#125;, &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 3,</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;已完成订单&quot;</span></span><br><span class="line"><span class="code">&#125;],</span></span><br><span class="line"><span class="code">&quot;curState&quot;: &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1</span></span><br><span class="line"><span class="code">&#125;,</span></span><br><span class="line"><span class="code">&quot;curSpec&quot;: &#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: 1247</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Demo.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> code;</span><br><span class="line">    <span class="keyword">private</span> Data data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Data.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Data</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> amount;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> num;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> goodsDetailID;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> state;</span><br><span class="line">    <span class="keyword">private</span> String goods;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Spec&gt; spec;</span><br><span class="line">    <span class="keyword">private</span> List&lt;State&gt; states;</span><br><span class="line">    <span class="keyword">private</span> CurS curState;</span><br><span class="line">    <span class="keyword">private</span> CurS curSpec;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CurS.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CurS</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Spec.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Spec</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> String specName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> unitPrice;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// State.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="update-6">Update<a title="#update-6" href="#update-6"></a></h5><h6 id="changeorder">changeOrder<a title="#changeorder" href="#changeorder"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">POST /api/admin/changeOrder HTTP/1.1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">// 只实现更改订单状态的功能</span></span><br><span class="line"><span class="code">~~// 多返回一个 dFlag 用于修改是否删除~~</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;id&quot;: &quot;1844&quot;,</span></span><br><span class="line"><span class="code">&quot;state&quot;: 3,</span></span><br><span class="line"><span class="code">&quot;spec&quot;: 1741,</span></span><br><span class="line"><span class="code">&quot;num&quot;: 1</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;code&quot;: 0</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><h5 id="delete-6">Delete<a title="#delete-6" href="#delete-6"></a></h5><h6 id="deleteorder">deleteOrder<a title="#deleteorder" href="#deleteorder"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">GET /api/admin/deleteOrder?id=1821 HTTP/1.1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;code&quot;: 0</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="参考代码-2">参考代码<a title="#参考代码-2" href="#参考代码-2"></a></h4><h5 id="create-7"><code>Create</code><a title="#create-7" href="#create-7"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-7"><code>Retrieve</code><a title="#retrieve-7" href="#retrieve-7"></a></h5><h6 id="ordersbypage-1">ordersByPage<a title="#ordersbypage-1" href="#ordersbypage-1"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Servlet</span><br><span class="line"><span class="comment">//1. 处理解析参数异常 &quot;参数必须是数字&quot;</span></span><br><span class="line"><span class="comment">//2. 校验金额上下限 是否为数字 &quot;金额上下限必须是数字&quot;</span></span><br><span class="line"></span><br><span class="line">Service</span><br><span class="line">  <span class="comment">//1. 获取 total</span></span><br><span class="line">  <span class="comment">//2. 获取OrderVO</span></span><br><span class="line">  <span class="comment">//3. 返回ordersPageVO</span></span><br><span class="line"></span><br><span class="line">Dao</span><br><span class="line">  getTotalCount</span><br><span class="line">  </span><br><span class="line">  getDynamicSql</span><br><span class="line">  </span><br><span class="line">  ordersByPage</span><br><span class="line">  parameter.add(ordersPageBO.getPagesize());</span><br><span class="line">    parameter.add((ordersPageBO.getCurrentPage() - <span class="number">1</span>) * ordersPageBO.getPagesize());</span><br><span class="line"></span><br><span class="line">model</span><br><span class="line">  Orders</span><br><span class="line">  OrdersPageBO</span><br><span class="line">  UserVO</span><br><span class="line">  OrderVO</span><br><span class="line">  OrdersPageVO</span><br><span class="line">  </span><br><span class="line">  </span><br></pre></td></tr></table></figure><h5 id="update-7"><code>Update</code><a title="#update-7" href="#update-7"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-7"><code>Delete</code><a title="#delete-7" href="#delete-7"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h4 id="代码实现-4">代码实现<a title="#代码实现-4" href="#代码实现-4"></a></h4><h5 id="create-8"><code>Create</code><a title="#create-8" href="#create-8"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-8"><code>Retrieve</code><a title="#retrieve-8" href="#retrieve-8"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update-8"><code>Update</code><a title="#update-8" href="#update-8"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-8"><code>Delete</code><a title="#delete-8" href="#delete-8"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h2 id="商城模块（mall）">商城模块（mall）<a title="#商城模块（mall）" href="#商城模块（mall）"></a></h2><h3 id="商城首页（index&amp;goods）">商城首页（index&amp;goods）<a title="#商城首页（index&amp;goods）" href="#商城首页（index&amp;goods）"></a></h3><h4 id="需求分析-5">需求分析<a title="#需求分析-5" href="#需求分析-5"></a></h4><h5 id="datebase-3">DateBase<a title="#datebase-3" href="#datebase-3"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="create-9">Create<a title="#create-9" href="#create-9"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">post http://localhost:8084/api/mall/goods/askGoodsMsg</span><br><span class="line"></span><br><span class="line">&#123;&quot;token&quot;:&quot;admin&quot;,&quot;msg&quot;:&quot;性能怎么样？？&quot;,&quot;goodsId&quot;:&quot;17&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0&#125;</span><br></pre></td></tr></table></figure><h5 id="retrieve-9">Retrieve<a title="#retrieve-9" href="#retrieve-9"></a></h5><h6 id="gettype-1">getType<a title="#gettype-1" href="#gettype-1"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">GET /api/mall/getType HTTP/1.</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="getgoodsbytype-1">getGoodsByType<a title="#getgoodsbytype-1" href="#getgoodsbytype-1"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">GET /api/mall/getGoodsByType?typeId=-1 HTTP/1.</span><br><span class="line">http://localhost:8084/api/mall/goods/getGoodsByType?typeId=-1</span><br></pre></td></tr></table></figure><h6 id="getgoodsinfo-1">getGoodsInfo<a title="#getgoodsinfo-1" href="#getgoodsinfo-1"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">http://localhost:8084/api/mall/goods/getGoodsInfo?id=1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">    &quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">    &quot;data&quot;: &#123;</span></span><br><span class="line"><span class="code">        &quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1571230945079156699823447120190828211623.jpg&quot;,</span></span><br><span class="line"><span class="code">        &quot;name&quot;: &quot;组合音响&quot;,</span></span><br><span class="line"><span class="code">        &quot;desc&quot;: &quot;优雅奢华&quot;,</span></span><br><span class="line"><span class="code">        &quot;typeId&quot;: 191,</span></span><br><span class="line"><span class="code">        &quot;specs&quot;: [</span></span><br><span class="line"><span class="code">            &#123;</span></span><br><span class="line"><span class="code">                &quot;id&quot;: 1245,</span></span><br><span class="line"><span class="code">                &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class="line"><span class="code">                &quot;stockNum&quot;: 72,</span></span><br><span class="line"><span class="code">                &quot;unitPrice&quot;: 200</span></span><br><span class="line"><span class="code">            &#125;,</span></span><br><span class="line"><span class="code">            &#123;</span></span><br><span class="line"><span class="code">                &quot;id&quot;: 1246,</span></span><br><span class="line"><span class="code">                &quot;specName&quot;: &quot;两件&quot;,</span></span><br><span class="line"><span class="code">                &quot;stockNum&quot;: 481,</span></span><br><span class="line"><span class="code">                &quot;unitPrice&quot;: 380</span></span><br><span class="line"><span class="code">            &#125;,</span></span><br><span class="line"><span class="code">            &#123;</span></span><br><span class="line"><span class="code">                &quot;id&quot;: 1247,</span></span><br><span class="line"><span class="code">                &quot;specName&quot;: &quot;三件&quot;,</span></span><br><span class="line"><span class="code">                &quot;stockNum&quot;: 996,</span></span><br><span class="line"><span class="code">                &quot;unitPrice&quot;: 500</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">        ],</span></span><br><span class="line"><span class="code">        &quot;unitPrice&quot;: 0</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Demo.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> code;</span><br><span class="line">    <span class="keyword">private</span> Data data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Data.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Data</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String img;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String desc;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> typeID;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Spec&gt; specs;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> unitPrice;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Spec.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Spec</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> String specName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> stockNum;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> unitPrice;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="getgoodsmsg-//-问答">getGoodsMsg // 问答<a title="#getgoodsmsg-//-问答" href="#getgoodsmsg-//-问答"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">http://localhost:8084/api/mall/goods/getGoodsMsg?id=1</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">   &quot;code&quot;: 0,</span><br><span class="line">   &quot;data&quot;: [</span><br><span class="line"><span class="code">       &#123;</span></span><br><span class="line"><span class="code">           &quot;id&quot;: 334,</span></span><br><span class="line"><span class="code">           &quot;content&quot;: &quot;才1000块，会不会是假的&quot;,</span></span><br><span class="line"><span class="code">           &quot;asker&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">           &quot;time&quot;: &quot;2020-10-06 08:35:57&quot;,</span></span><br><span class="line"><span class="code">           &quot;reply&quot;: &#123;</span></span><br><span class="line"><span class="code">               &quot;content&quot;: &quot;是假的&quot;,</span></span><br><span class="line"><span class="code">               &quot;time&quot;: &quot;2020-10-06 15:38:58&quot;</span></span><br><span class="line"><span class="code">           &#125;</span></span><br><span class="line"><span class="code">       &#125;,</span></span><br><span class="line"><span class="code">       &#123;</span></span><br><span class="line"><span class="code">           &quot;id&quot;: 397,</span></span><br><span class="line"><span class="code">           &quot;content&quot;: &quot;我是大傻子&quot;,</span></span><br><span class="line"><span class="code">           &quot;asker&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">           &quot;time&quot;: &quot;2020-10-07 21:02:43&quot;,</span></span><br><span class="line"><span class="code">           &quot;reply&quot;: &#123;&#125;</span></span><br><span class="line"><span class="code">       &#125;</span></span><br><span class="line"><span class="code">   ]</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 留言管理</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> code;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Datum&gt; data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Datum.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Datum</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> userID;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> goodsID;</span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line">    <span class="keyword">private</span> String replyContent;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> state;</span><br><span class="line">    <span class="keyword">private</span> String createtime;</span><br><span class="line">    <span class="keyword">private</span> Goods goods;</span><br><span class="line">    <span class="keyword">private</span> Goods user;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Goods.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Goods</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//留言显示</span></span><br><span class="line"><span class="comment">// Demo.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> code;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Datum&gt; data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Datum.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Datum</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line">    <span class="keyword">private</span> String asker;</span><br><span class="line">    <span class="keyword">private</span> String time;</span><br><span class="line">    <span class="keyword">private</span> Reply reply;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Reply.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Reply</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line">    <span class="keyword">private</span> String time;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoodsMsg</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> userID;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> goodsID;</span><br><span class="line">    <span class="keyword">private</span> String content; <span class="comment">//提问内容</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> state; <span class="comment">//状态</span></span><br><span class="line">    <span class="keyword">private</span> String createtime; <span class="comment">//创建时间</span></span><br><span class="line">    <span class="keyword">private</span> Goods goods;<span class="comment">// 商品名称</span></span><br><span class="line">    <span class="keyword">private</span> User user; <span class="comment">//用户名称</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line">    <span class="keyword">private</span> String asker;<span class="comment">//用户名称</span></span><br><span class="line">    <span class="keyword">private</span> String time;<span class="comment">//创建时间</span></span><br><span class="line">    <span class="keyword">private</span> Reply reply;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Reply</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String content;<span class="comment">//回复内容</span></span><br><span class="line">        <span class="keyword">private</span> String time; <span class="comment">//回复时间</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Goods</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="getgoodscomment-//评价">getGoodsComment //评价<a title="#getgoodscomment-//评价" href="#getgoodscomment-//评价"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">http://localhost:8084/api/mall/goods/getGoodsComment?goodsId=1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">  &quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">  &quot;data&quot;: &#123;</span></span><br><span class="line"><span class="code">    &quot;commentList&quot;: [</span></span><br><span class="line"><span class="code">      &#123;</span></span><br><span class="line"><span class="code">        &quot;user&quot;: &#123;</span></span><br><span class="line"><span class="code">          &quot;nickname&quot;: &quot;admin&quot;</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &quot;score&quot;: 100,</span></span><br><span class="line"><span class="code">        &quot;id&quot;: 121,</span></span><br><span class="line"><span class="code">        &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class="line"><span class="code">        &quot;comment&quot;: &quot;不错不错&quot;,</span></span><br><span class="line"><span class="code">        &quot;time&quot;: &quot;2020-10-06 21:16:53&quot;,</span></span><br><span class="line"><span class="code">        &quot;userId&quot;: 1</span></span><br><span class="line"><span class="code">      &#125;,</span></span><br><span class="line"><span class="code">      &#123;</span></span><br><span class="line"><span class="code">        &quot;user&quot;: &#123;</span></span><br><span class="line"><span class="code">          &quot;nickname&quot;: &quot;hello&quot;</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &quot;score&quot;: 60,</span></span><br><span class="line"><span class="code">        &quot;id&quot;: 133,</span></span><br><span class="line"><span class="code">        &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class="line"><span class="code">        &quot;comment&quot;: &quot;很好&quot;,</span></span><br><span class="line"><span class="code">        &quot;time&quot;: &quot;2020-10-07 14:59:00&quot;,</span></span><br><span class="line"><span class="code">        &quot;userId&quot;: 93</span></span><br><span class="line"><span class="code">      &#125;,</span></span><br><span class="line"><span class="code">      &#123;</span></span><br><span class="line"><span class="code">        &quot;user&quot;: &#123;</span></span><br><span class="line"><span class="code">          &quot;nickname&quot;: &quot;55kai&quot;</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &quot;score&quot;: 20,</span></span><br><span class="line"><span class="code">        &quot;id&quot;: 134,</span></span><br><span class="line"><span class="code">        &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class="line"><span class="code">        &quot;comment&quot;: &quot;1&quot;,</span></span><br><span class="line"><span class="code">        &quot;time&quot;: &quot;2020-10-07 15:30:12&quot;,</span></span><br><span class="line"><span class="code">        &quot;userId&quot;: 73</span></span><br><span class="line"><span class="code">      &#125;,</span></span><br><span class="line"><span class="code">      &#123;</span></span><br><span class="line"><span class="code">        &quot;user&quot;: &#123;</span></span><br><span class="line"><span class="code">          &quot;nickname&quot;: &quot;55kai&quot;</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &quot;score&quot;: 20,</span></span><br><span class="line"><span class="code">        &quot;id&quot;: 135,</span></span><br><span class="line"><span class="code">        &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class="line"><span class="code">        &quot;comment&quot;: &quot;2&quot;,</span></span><br><span class="line"><span class="code">        &quot;time&quot;: &quot;2020-10-07 15:30:17&quot;,</span></span><br><span class="line"><span class="code">        &quot;userId&quot;: 73</span></span><br><span class="line"><span class="code">      &#125;,</span></span><br><span class="line"><span class="code">      &#123;</span></span><br><span class="line"><span class="code">        &quot;user&quot;: &#123;</span></span><br><span class="line"><span class="code">          &quot;nickname&quot;: &quot;admin&quot;</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &quot;score&quot;: 80,</span></span><br><span class="line"><span class="code">        &quot;id&quot;: 138,</span></span><br><span class="line"><span class="code">        &quot;specName&quot;: &quot;单件&quot;,</span></span><br><span class="line"><span class="code">        &quot;comment&quot;: &quot;好&quot;,</span></span><br><span class="line"><span class="code">        &quot;time&quot;: &quot;2020-10-07 20:50:45&quot;,</span></span><br><span class="line"><span class="code">        &quot;userId&quot;: 1</span></span><br><span class="line"><span class="code">      &#125;</span></span><br><span class="line"><span class="code">    ],</span></span><br><span class="line"><span class="code">    &quot;rate&quot;: 20</span></span><br><span class="line"><span class="code">  &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">//没有评价</span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;commentList&quot;:[],&quot;rate&quot;:&quot;NaN&quot;&#125;&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">//add评价</span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">    &quot;token&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">    &quot;orderId&quot;: 2035,</span></span><br><span class="line"><span class="code">    &quot;goodsId&quot;: 482,</span></span><br><span class="line"><span class="code">    &quot;goodsDetailId&quot;: 1249,</span></span><br><span class="line"><span class="code">    &quot;content&quot;: &quot;Hello : ) &quot;,</span></span><br><span class="line"><span class="code">    &quot;score&quot;: 80</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Demo.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> code;</span><br><span class="line">    <span class="keyword">private</span> Data data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Data.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Data</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;CommentList&gt; commentList;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> rate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CommentList.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CommentList</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> User user;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> score;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> String specName;</span><br><span class="line">    <span class="keyword">private</span> String comment;</span><br><span class="line">    <span class="keyword">private</span> String time;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> userID;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// User.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String nickname;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//add 评价</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String token;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> orderID;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> goodsID;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> goodsDetailID;</span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> score;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">请求 URL: http:<span class="comment">//localhost:8084/api/mall/goods/searchGoods?keyword=18</span></span><br><span class="line">请求方法: GET</span><br><span class="line">  </span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&quot;data&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="number">483</span>,</span><br><span class="line">            <span class="string">&quot;img&quot;</span>: <span class="string">&quot;http://115.29.141.32:8084/static/image/1571231123170156699900581320190828212458.jpg&quot;</span>,</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;华为p30&quot;</span>,</span><br><span class="line">            <span class="string">&quot;price&quot;</span>: <span class="number">1000</span>,</span><br><span class="line">            <span class="string">&quot;typeId&quot;</span>: <span class="number">191</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="number">485</span>,</span><br><span class="line">            <span class="string">&quot;img&quot;</span>: <span class="string">&quot;http://115.29.141.32:8084/static/image/1571231806126156699895929620190828212422.jpg&quot;</span>,</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;真华为P30&quot;</span>,</span><br><span class="line">            <span class="string">&quot;price&quot;</span>: <span class="number">2000</span>,</span><br><span class="line">            <span class="string">&quot;typeId&quot;</span>: <span class="number">191</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Demo.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> code;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Datum&gt; data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Datum.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Datum</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> String img;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> price;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> typeID;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update-9">Update<a title="#update-9" href="#update-9"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-9">Delete<a title="#delete-9" href="#delete-9"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h4 id="代码实现-5">代码实现<a title="#代码实现-5" href="#代码实现-5"></a></h4><h5 id="create-10"><code>Create</code><a title="#create-10" href="#create-10"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-10"><code>Retrieve</code><a title="#retrieve-10" href="#retrieve-10"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update-10"><code>Update</code><a title="#update-10" href="#update-10"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-10"><code>Delete</code><a title="#delete-10" href="#delete-10"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h3 id="商品详情">商品详情<a title="#商品详情" href="#商品详情"></a></h3><h3 id="个人中心(order)">个人中心(order)<a title="#个人中心(order)" href="#个人中心(order)"></a></h3><h6 id="getorderbystate">getOrderByState<a title="#getorderbystate" href="#getorderbystate"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">http://localhost:8084/api/mall/order/getOrderByState?state=0&amp;token=admin</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="code">    &quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">    &quot;data&quot;: [</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            &quot;id&quot;: 2037,</span></span><br><span class="line"><span class="code">            &quot;state&quot;: 3,</span></span><br><span class="line"><span class="code">            &quot;goodsNum&quot;: 1,</span></span><br><span class="line"><span class="code">            &quot;amount&quot;: 1000,</span></span><br><span class="line"><span class="code">            &quot;goodsDetailId&quot;: 1248,</span></span><br><span class="line"><span class="code">            &quot;createtime&quot;: &quot;2020-10-08 08:53:34&quot;,</span></span><br><span class="line"><span class="code">            &quot;hasComment&quot;: true,</span></span><br><span class="line"><span class="code">            &quot;goods&quot;: &#123;</span></span><br><span class="line"><span class="code">                &quot;id&quot;: 482,</span></span><br><span class="line"><span class="code">                &quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1571231038163156699833630520190828211347.jpg&quot;,</span></span><br><span class="line"><span class="code">                &quot;name&quot;: &quot;摄像机&quot;,</span></span><br><span class="line"><span class="code">                &quot;goodsDetailId&quot;: 1248,</span></span><br><span class="line"><span class="code">                &quot;spec&quot;: &quot;型号一&quot;,</span></span><br><span class="line"><span class="code">                &quot;unitPrice&quot;: 1000</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            &quot;id&quot;: 2085,</span></span><br><span class="line"><span class="code">            &quot;state&quot;: 1,</span></span><br><span class="line"><span class="code">            &quot;goodsNum&quot;: 1,</span></span><br><span class="line"><span class="code">            &quot;amount&quot;: 200,</span></span><br><span class="line"><span class="code">            &quot;goodsDetailId&quot;: 1245,</span></span><br><span class="line"><span class="code">            &quot;createtime&quot;: &quot;2020-10-08 11:23:56&quot;,</span></span><br><span class="line"><span class="code">            &quot;hasComment&quot;: false,</span></span><br><span class="line"><span class="code">            &quot;goods&quot;: &#123;</span></span><br><span class="line"><span class="code">                &quot;id&quot;: 481,</span></span><br><span class="line"><span class="code">                &quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1571230945079156699823447120190828211623.jpg&quot;,</span></span><br><span class="line"><span class="code">                &quot;name&quot;: &quot;组合音响&quot;,</span></span><br><span class="line"><span class="code">                &quot;goodsDetailId&quot;: 1245,</span></span><br><span class="line"><span class="code">                &quot;spec&quot;: &quot;单件&quot;,</span></span><br><span class="line"><span class="code">                &quot;unitPrice&quot;: 200</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            &quot;id&quot;: 2086,</span></span><br><span class="line"><span class="code">            &quot;state&quot;: 1,</span></span><br><span class="line"><span class="code">            &quot;goodsNum&quot;: 3,</span></span><br><span class="line"><span class="code">            &quot;amount&quot;: 90,</span></span><br><span class="line"><span class="code">            &quot;goodsDetailId&quot;: 1268,</span></span><br><span class="line"><span class="code">            &quot;createtime&quot;: &quot;2020-10-08 11:24:07&quot;,</span></span><br><span class="line"><span class="code">            &quot;hasComment&quot;: false,</span></span><br><span class="line"><span class="code">            &quot;goods&quot;: &#123;</span></span><br><span class="line"><span class="code">                &quot;id&quot;: 489,</span></span><br><span class="line"><span class="code">                &quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/15712322839761567589634340Banana.jpg&quot;,</span></span><br><span class="line"><span class="code">                &quot;name&quot;: &quot;香蕉&quot;,</span></span><br><span class="line"><span class="code">                &quot;goodsDetailId&quot;: 1268,</span></span><br><span class="line"><span class="code">                &quot;spec&quot;: &quot;10KG&quot;,</span></span><br><span class="line"><span class="code">                &quot;unitPrice&quot;: 30</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            &quot;id&quot;: 2089,</span></span><br><span class="line"><span class="code">            &quot;state&quot;: 0,</span></span><br><span class="line"><span class="code">            &quot;goodsNum&quot;: 1,</span></span><br><span class="line"><span class="code">            &quot;amount&quot;: 1200,</span></span><br><span class="line"><span class="code">            &quot;goodsDetailId&quot;: 1251,</span></span><br><span class="line"><span class="code">            &quot;createtime&quot;: &quot;2020-10-08 11:24:24&quot;,</span></span><br><span class="line"><span class="code">            &quot;hasComment&quot;: false,</span></span><br><span class="line"><span class="code">            &quot;goods&quot;: &#123;</span></span><br><span class="line"><span class="code">                &quot;id&quot;: 483,</span></span><br><span class="line"><span class="code">                &quot;img&quot;: &quot;http://115.29.141.32:8084/static/image/1571231123170156699900581320190828212458.jpg&quot;,</span></span><br><span class="line"><span class="code">                &quot;name&quot;: &quot;华为p30&quot;,</span></span><br><span class="line"><span class="code">                &quot;goodsDetailId&quot;: 1251,</span></span><br><span class="line"><span class="code">                &quot;spec&quot;: &quot;256G&quot;,</span></span><br><span class="line"><span class="code">                &quot;unitPrice&quot;: 1200</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">        &#125;</span></span><br><span class="line"><span class="code">    ]</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Demo.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> code;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Datum&gt; data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Datum.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Datum</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> state;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> goodsNum;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> amount;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> goodsDetailID;</span><br><span class="line">    <span class="keyword">private</span> String createtime;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> hasComment;</span><br><span class="line">    <span class="keyword">private</span> Goods goods;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Goods.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Goods</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> String img;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> goodsDetailID;</span><br><span class="line">    <span class="keyword">private</span> String spec;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> unitPrice;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="addorder">addOrder<a title="#addorder" href="#addorder"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">http://localhost:8084/api/mall/order/addOrder</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="code">    &quot;token&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="code">    &quot;goodsDetailId&quot;: 50,</span></span><br><span class="line"><span class="code">    &quot;num&quot;: 1,</span></span><br><span class="line"><span class="code">    &quot;state&quot;: 1,</span></span><br><span class="line"><span class="code">    &quot;amount&quot;: 1</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:0&#125;</span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:1000,&quot;message&quot;:&quot;库存容量不够!&quot;&#125;</span></span><br></pre></td></tr></table></figure><h6 id="settleaccounts">settleAccounts<a title="#settleaccounts" href="#settleaccounts"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">请求 URL: http:<span class="comment">//localhost:8084/api/mall/order/settleAccounts</span></span><br><span class="line">请求方法: POST</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">&quot;cartList&quot;</span>:[&#123;<span class="string">&quot;id&quot;</span>:<span class="number">16</span>,<span class="string">&quot;goodsNum&quot;</span>:<span class="number">10</span>,<span class="string">&quot;amount&quot;</span>:<span class="number">20</span>&#125;]&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">&quot;code&quot;</span>:<span class="number">0</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="pay">pay<a title="#pay" href="#pay"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">请求 URL: http:<span class="comment">//localhost:8084/api/mall/order/pay?id=21</span></span><br><span class="line">请求方法: GET</span><br></pre></td></tr></table></figure><h6 id="confirmreceive">confirmReceive<a title="#confirmreceive" href="#confirmreceive"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">请求 URL: http:<span class="comment">//localhost:8084/api/mall/order/confirmReceive?id=13</span></span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="deleteorder-1">deleteOrder<a title="#deleteorder-1" href="#deleteorder-1"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">请求 URL: http:<span class="comment">//localhost:8084/api/mall/order/deleteOrder?id=7</span></span><br><span class="line">请求方法: GET</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="sendcomment">sendComment<a title="#sendcomment" href="#sendcomment"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">请求 URL: http:<span class="comment">//localhost:8084/api/mall/order/sendComment</span></span><br><span class="line">请求方法: POST</span><br><span class="line">  </span><br><span class="line">  &#123;</span><br><span class="line">  <span class="string">&quot;token&quot;</span>: <span class="string">&quot;admin&quot;</span>,</span><br><span class="line">  <span class="string">&quot;orderId&quot;</span>: <span class="number">13</span>,</span><br><span class="line">  <span class="string">&quot;goodsId&quot;</span>: <span class="number">17</span>,</span><br><span class="line">  <span class="string">&quot;goodsDetailId&quot;</span>: <span class="number">56</span>,</span><br><span class="line">  <span class="string">&quot;content&quot;</span>: <span class="string">&quot;Good&quot;</span>,</span><br><span class="line">  <span class="string">&quot;score&quot;</span>: <span class="number">80</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String token;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> orderID;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> goodsID;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> goodsDetailID;</span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> score;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">&quot;code&quot;</span>:<span class="number">0</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="用户模块（user）">用户模块（user）<a title="#用户模块（user）" href="#用户模块（user）"></a></h3><h4 id="需求分析-6">需求分析<a title="#需求分析-6" href="#需求分析-6"></a></h4><h5 id="datebase-4">DateBase<a title="#datebase-4" href="#datebase-4"></a></h5><p>![image-20201005093715092](/Users/wumin/Library/Application Support/typora-user-images/image-20201005093715092.png)</p><p>![image-20201005092851067](/Users/wumin/Library/Application Support/typora-user-images/image-20201005092851067.png)</p><img src="/Users/wumin/Library/Application Support/typora-user-images/image-20201005092741596.png" alt="image-20201005092741596" style="zoom:50%;" align="left"/><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;email&quot;:&quot;135799753111@qq.com&quot;,</span><br><span class="line">&quot;nickname&quot;:&quot;pikapika&quot;,</span><br><span class="line">&quot;pwd&quot;:&quot;Aa`!1234&quot;,</span><br><span class="line">&quot;recipient&quot;:&quot;皮卡丘&quot;,</span><br><span class="line">&quot;address&quot;:&quot;仙女座星系M18星皮卡丘部落&quot;,</span><br><span class="line">&quot;phone&quot;:&quot;130110110&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="create-11">Create<a title="#create-11" href="#create-11"></a></h5><h6 id="signup">signup<a title="#signup" href="#signup"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">POST /api/user/signup HTTP/1.1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;email&quot;: &quot;13579975322@qq.com&quot;,</span></span><br><span class="line"><span class="code">&quot;nickname&quot;: &quot;pikapikapi&quot;,</span></span><br><span class="line"><span class="code">&quot;pwd&quot;: &quot;Aa`!1234&quot;,</span></span><br><span class="line"><span class="code">&quot;recipient&quot;: &quot;皮卡丘&quot;,</span></span><br><span class="line"><span class="code">&quot;address&quot;: &quot;仙女座星系M18星皮卡丘部落&quot;,</span></span><br><span class="line"><span class="code">&quot;phone&quot;: &quot;130110110&quot;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">//成功</span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;code&quot;:0,&quot;name&quot;:&quot;pikuy&quot;,&quot;token&quot;:&quot;pikuy&quot;&#125;&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;code&quot;: 0,</span></span><br><span class="line"><span class="code">&quot;data&quot;: &#123;</span></span><br><span class="line"><span class="code">&quot;code&quot;: 0  //??</span></span><br><span class="line"><span class="code">&quot;name&quot;: &quot;pikapikapi&quot;,</span></span><br><span class="line"><span class="code">&quot;token&quot;: &quot;pikapikapi&quot;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">//失败</span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;用户信息不能为空&quot;&#125;</span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;账号已存在&quot;&#125;</span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;昵称已存在&quot;&#125;</span></span><br><span class="line"><span class="code">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;当前系统繁忙&quot;&#125;</span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure><h6 id="login">login<a title="#login" href="#login"></a></h6><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">POST /api/user/login HTTP/1.1</span><br><span class="line">http://localhost:8084/api/mall/user/login</span><br><span class="line"></span><br><span class="line">&#123;&quot;email&quot;:&quot;13579975311@qq.com&quot;,&quot;pwd&quot;:&quot;Aa`!1234&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;code&quot;:0,&quot;name&quot;:&quot;pipi&quot;,&quot;token&quot;:&quot;pipi&quot;&#125;&#125;</span><br><span class="line"></span><br><span class="line">//失败</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;登录信息不能为空!&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;账号或密码不正确!&quot;&#125;</span><br><span class="line">&#123;&quot;code&quot;:10000,&quot;message&quot;:&quot;当前系统繁忙!&quot;&#125;</span><br></pre></td></tr></table></figure><h5 id="retrieve-11">Retrieve<a title="#retrieve-11" href="#retrieve-11"></a></h5><h6 id="data">data<a title="#data" href="#data"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">请求 URL: http:<span class="comment">//localhost:8084/api/mall/user/data?token=wsdsz</span></span><br><span class="line">请求方法: GET</span><br><span class="line">  </span><br><span class="line">  &#123;</span><br><span class="line">  <span class="string">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&quot;id&quot;</span>: <span class="string">&quot;160&quot;</span>,</span><br><span class="line">    <span class="string">&quot;email&quot;</span>: <span class="string">&quot;13579975323@qq.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;nickname&quot;</span>: <span class="string">&quot;apikapu&quot;</span>,</span><br><span class="line">    <span class="string">&quot;recipient&quot;</span>: <span class="string">&quot;皮卡丘&quot;</span>,</span><br><span class="line">    <span class="string">&quot;address&quot;</span>: <span class="string">&quot;仙女座星系M18星皮卡丘部落&quot;</span>,</span><br><span class="line">    <span class="string">&quot;phone&quot;</span>: <span class="string">&quot;130110110&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Demo.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> code;</span><br><span class="line">    <span class="keyword">private</span> Data data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Data.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> io.quicktype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Data</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> code;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="keyword">private</span> String nickname;</span><br><span class="line">    <span class="keyword">private</span> String recipient;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update-11">Update<a title="#update-11" href="#update-11"></a></h5><h6 id="logoutclient">logoutClient<a title="#logoutclient" href="#logoutclient"></a></h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">请求 URL: http:<span class="comment">//localhost:8084/api/mall/user/logoutClient</span></span><br><span class="line">请求方法: POST</span><br><span class="line">  </span><br><span class="line">  </span><br></pre></td></tr></table></figure><h5 id="delete-11">Delete<a title="#delete-11" href="#delete-11"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h4 id="代码实现-6">代码实现<a title="#代码实现-6" href="#代码实现-6"></a></h4><h5 id="create-12"><code>Create</code><a title="#create-12" href="#create-12"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-12"><code>Retrieve</code><a title="#retrieve-12" href="#retrieve-12"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update-12"><code>Update</code><a title="#update-12" href="#update-12"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-12"><code>Delete</code><a title="#delete-12" href="#delete-12"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h3 id="购物车">购物车<a title="#购物车" href="#购物车"></a></h3><h2 id="权限验证">权限验证<a title="#权限验证" href="#权限验证"></a></h2><h3 id="参考代码-3">参考代码<a title="#参考代码-3" href="#参考代码-3"></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">origin=http:<span class="comment">//loocalhost:8085</span></span><br><span class="line"></span><br><span class="line">request.getMethod().equalsIgnoreCase(<span class="string">&quot;OPTIONS&quot;</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 判断是否是登录</span></span><br><span class="line">  auth(request)</span><br><span class="line">       </span><br><span class="line">  request.getSession().getAttribute(<span class="string">&quot;email&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="?">?<a title="#?" href="#?"></a></h2><h3 id="管理员账号&amp;用户管理">管理员账号&amp;用户管理<a title="#管理员账号&amp;用户管理" href="#管理员账号&amp;用户管理"></a></h3><ul><li><p>Charles 抓 <a href="http://localhost/">http://localhost/</a> 的包？</p></li><li><p>Charles 保存抓包记录？</p></li><li><p><s>isEmpty( )</s></p><ul><li><pre><code class="language-java">public boolean isEmpty() &#123;        if(StringUtils.isEmpty(this.email) || StringUtils.isEmpty(this.pwd))&#123;            return true;        &#125;        return false;&#125;<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">-  ~~gson json字符串---&gt;Java 对象~~</span><br><span class="line"></span><br><span class="line">  - &#96;&#96;&#96;java</span><br><span class="line">    Gson gson &#x3D; new Gson();</span><br><span class="line">    </span><br><span class="line">    AdminLoginBO loginBO &#x3D; gson.fromJson(requestBody, AdminLoginBO.class);</span><br></pre></td></tr></table></figure></code></pre></li></ul></li><li><p><s>SQL DButils</s></p><ul><li><pre><code class="language-java">QueryRunner runner = new QueryRunner(DruidUtils.getDataSource());<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- ~~Code &#x3D;&#x3D; 0~~</span><br><span class="line"></span><br><span class="line">  - &#96;&#96;&#96;java</span><br><span class="line">    &#123;&quot;code&quot;:0,&quot;data&quot;:&#123;&quot;token&quot;:&quot;admin&quot;,&quot;name&quot;:&quot;admin&quot;&#125;&#125;</span><br><span class="line">    </span><br><span class="line">    ----&gt;</span><br><span class="line">      </span><br><span class="line">    HashMap&lt;String, Object&gt; map &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">    map.put(&quot;token&quot;, loginBO.getEmail());</span><br><span class="line">    map.put(&quot;name&quot;, loginBO.getEmail());</span><br></pre></td></tr></table></figure></code></pre></li></ul></li></ul><h3 id="商品管理-1">商品管理<a title="#商品管理-1" href="#商品管理-1"></a></h3><ul><li><s>数据库 int… 类型长度 ?</s> 设置长度没有意义<ul><li>![image-20201004150215173](/Users/wumin/Library/Application Support/typora-user-images/image-20201004150215173.png)</li></ul></li><li><s>? 校验什么？ 校验 typeId 是否是数字</s></li><li>![image-20201004150548284](/Users/wumin/Library/Application Support/typora-user-images/image-20201004150548284.png)</li><li><h2 id="fileuploadutils-???">Fileuploadutils ???<a title="#fileuploadutils-???" href="#fileuploadutils-???"></a></h2></li><li><s>注释</s><ul><li>![image-20201004152911283](/Users/wumin/Library/Application Support/typora-user-images/image-20201004152911283.png)</li></ul></li><li><s>application.properties</s></li><li>![image-20201004155841484](/Users/wumin/Library/Application Support/typora-user-images/image-20201004155841484.png)</li><li>select_last_insert id()  #SQL ???</li><li><s>addGoods, updateGoods, addSpec 处理解析异常 ?</s><ul><li>![image-20201006095603409](/Users/wumin/Library/Application Support/typora-user-images/image-20201006095603409.png)</li></ul></li><li>SQL 批处理 ???</li></ul><h3 id="订单管理">订单管理<a title="#订单管理" href="#订单管理"></a></h3><ul><li><p><s>处理非法 isValid ?</s></p></li><li><p><s>goodsdetailId 规格id   ?</s></p></li></ul><h3 id="权限验证-1">权限验证<a title="#权限验证-1" href="#权限验证-1"></a></h3><h3 id="商城模块">商城模块<a title="#商城模块" href="#商城模块"></a></h3><ul><li><ul><li>![image-20201007102001736](/Users/wumin/Library/Application Support/typora-user-images/image-20201007102001736.png)</li></ul></li><li><ul><li>![image-20201007102617592](/Users/wumin/Library/Application Support/typora-user-images/image-20201007102617592.png)</li></ul></li></ul><h2 id="mark">Mark<a title="#mark" href="#mark"></a></h2><ol><li>vo&amp;bo<ol><li>vo：封装📦<strong>展现给前端的</strong> java 对象，用作中间处理</li><li>bo：封装📦<strong>从前端获取的</strong> java 对象，用作中间处理</li></ol></li><li></li></ol><h2 id="项目迭代">项目迭代<a title="#项目迭代" href="#项目迭代"></a></h2><p>先实现主要功能，推出**“能用即可”**的产品，再根据初期用户反馈快速迭代！</p><h3 id="管理员账号&amp;用户管理-1">管理员账号&amp;用户管理<a title="#管理员账号&amp;用户管理-1" href="#管理员账号&amp;用户管理-1"></a></h3><h4 id="密码储存-sha-2-散列（加盐）">密码储存 SHA-2 散列（加盐）<a title="#密码储存-sha-2-散列（加盐）" href="#密码储存-sha-2-散列（加盐）"></a></h4><h4 id="注册-登录-修改-加入正则验证">注册 登录 修改 加入正则验证<a title="#注册-登录-修改-加入正则验证" href="#注册-登录-修改-加入正则验证"></a></h4><p>![image-20201008102128136](/Users/wumin/Library/Application Support/typora-user-images/image-20201008102128136.png)</p><h4 id="用户id列删除后会出现断层"><s>用户ID列删除后会出现断层</s><a title="#用户id列删除后会出现断层" href="#用户id列删除后会出现断层"></a></h4><p>![image-20200930084722876](/Users/wumin/Library/Application Support/typora-user-images/image-20200930084722876.png)</p><h4 id="✅禁止删除当前登录的账号">✅禁止删除当前登录的账号<a title="#✅禁止删除当前登录的账号" href="#✅禁止删除当前登录的账号"></a></h4><h4 id="✅修改当前用户密码需要注销重新登录">✅修改当前用户密码需要注销重新登录<a title="#✅修改当前用户密码需要注销重新登录" href="#✅修改当前用户密码需要注销重新登录"></a></h4><p>有 bug  <code>updateAdminss</code> 接口修改的是<strong>用户名/昵称</strong>的时候也会注销 😂</p><h3 id="商品管理-2">商品管理<a title="#商品管理-2" href="#商品管理-2"></a></h3><h4 id="编辑商品信息返回-默认跳转到第一个类目-#前端相关"><s>编辑商品信息返回 默认跳转到第一个类目 #前端相关</s><a title="#编辑商品信息返回-默认跳转到第一个类目-#前端相关" href="#编辑商品信息返回-默认跳转到第一个类目-#前端相关"></a></h4><h4 id="✅删除类目后该类目下商品移至默认类目">✅删除类目后该类目下商品移至默认类目<a title="#✅删除类目后该类目下商品移至默认类目" href="#✅删除类目后该类目下商品移至默认类目"></a></h4><h3 id="订单管理-1">订单管理<a title="#订单管理-1" href="#订单管理-1"></a></h3><h4 id="updatetme-#前端相关">Updatetme #前端相关<a title="#updatetme-#前端相关" href="#updatetme-#前端相关"></a></h4><h4 id="✅-增加一个订单回收站功能，在回收站可彻底删除">✅ 增加一个订单回收站功能，在回收站可彻底删除<a title="#✅-增加一个订单回收站功能，在回收站可彻底删除" href="#✅-增加一个订单回收站功能，在回收站可彻底删除"></a></h4><h3 id="商城模块-1">商城模块<a title="#商城模块-1" href="#商城模块-1"></a></h3><h4 id="用户信息修改-&amp;-评论-&amp;-后台管理的留言回复-显示头像">用户信息修改 &amp; 评论 &amp; 后台管理的留言回复 显示头像<a title="#用户信息修改-&amp;-评论-&amp;-后台管理的留言回复-显示头像" href="#用户信息修改-&amp;-评论-&amp;-后台管理的留言回复-显示头像"></a></h4><p>![image-20201008111723949](/Users/wumin/Library/Application Support/typora-user-images/image-20201008111723949.png)</p><h4 id="注册根据用户名生成头像">注册根据用户名生成头像<a title="#注册根据用户名生成头像" href="#注册根据用户名生成头像"></a></h4><h4 id="购物车下单逻辑">购物车下单逻辑<a title="#购物车下单逻辑" href="#购物车下单逻辑"></a></h4><h4 id="购物车删除逻辑">购物车删除逻辑<a title="#购物车删除逻辑" href="#购物车删除逻辑"></a></h4><h2 id="xxxxx">XXXXX<a title="#xxxxx" href="#xxxxx"></a></h2><h4 id="需求分析-7">需求分析<a title="#需求分析-7" href="#需求分析-7"></a></h4><h5 id="datebase-5">DateBase<a title="#datebase-5" href="#datebase-5"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="create-13">Create<a title="#create-13" href="#create-13"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-13">Retrieve<a title="#retrieve-13" href="#retrieve-13"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update-13">Update<a title="#update-13" href="#update-13"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-13">Delete<a title="#delete-13" href="#delete-13"></a></h5><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h4 id="参考代码-4">参考代码<a title="#参考代码-4" href="#参考代码-4"></a></h4><h5 id="create-14"><code>Create</code><a title="#create-14" href="#create-14"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-14"><code>Retrieve</code><a title="#retrieve-14" href="#retrieve-14"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update-14"><code>Update</code><a title="#update-14" href="#update-14"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-14"><code>Delete</code><a title="#delete-14" href="#delete-14"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h4 id="代码实现-7">代码实现<a title="#代码实现-7" href="#代码实现-7"></a></h4><h5 id="create-15"><code>Create</code><a title="#create-15" href="#create-15"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="retrieve-15"><code>Retrieve</code><a title="#retrieve-15" href="#retrieve-15"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="update-15"><code>Update</code><a title="#update-15" href="#update-15"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="delete-15"><code>Delete</code><a title="#delete-15" href="#delete-15"></a></h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><hr><p>✅ updatetime</p><p>✅密码 SHA-256 散列</p><p>✅头像自动生成 API</p><p>购物车 下单逻辑</p><p>图片识别 API</p><p>购物车 删除订单逻辑</p><p>弹窗样式</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;基于开源前端项目 &lt;a href=&quot;https://github.com/Summerjie007/vue-MoreMall&quot; target=&quot;_blank&quot;&gt;vue-MoreMall&lt;/a&gt; MVC 模式架构的在线商城。完整实现了后台管理和在线商城的所有功能&lt;/p&gt;</summary>
    
    
    
    <category term="项目" scheme="https://gardenzzz.github.io/categories/%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="Java" scheme="https://gardenzzz.github.io/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>0</title>
    <link href="https://gardenzzz.github.io/2019/140508/0000/"/>
    <id>https://gardenzzz.github.io/2019/140508/0000/</id>
    <published>2019-11-27T21:14:08.000Z</published>
    <updated>2020-11-28T08:54:44.355Z</updated>
    
    <content type="html"><![CDATA[<p>这里是摘要</p><a id="more"></a><h2 id="启动">启动<a title="#启动" href="#启动"></a></h2><h3 id="start-name-server">Start Name Server<a title="#start-name-server" href="#start-name-server"></a></h3> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nohup sh bin/mqnamesrv &amp;</span><br></pre></td></tr></table></figure><h3 id="start-broker">Start Broker<a title="#start-broker" href="#start-broker"></a></h3>   <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nohup sh bin/mqbroker -n localhost:9876 &amp;</span><br></pre></td></tr></table></figure><h2 id="结束">结束<a title="#结束" href="#结束"></a></h2><h3 id="shutdown-servers">Shutdown Servers<a title="#shutdown-servers" href="#shutdown-servers"></a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sh bin/mqshutdown broker</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sh bin/mqshutdown namesrv</span><br></pre></td></tr></table></figure>  <style>.embed-container {    position: relative;    padding-bottom: 56.25%;    height: 0;    overflow: hidden;    max-width: 100%;  }  .embed-container iframe, .embed-container object, .embed-container embed {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;  }  </style><div class="embed-container"><iframe src="https://www.youtube.com/embed/rhCI2vGp11w" allowfullscreen frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe></div><hr>        <style>.bbplayer{width: 100%; max-width: 850px; margin: auto}</style>        <div class="bbplayer">        <iframe class="bbplayer" id="mmedia-KVCTAvXi" src="//player.bilibili.com/player.html?bvid=BV1DV411a7sW&page=1&high_quality=1&danmaku=true"            allowfullscreen="no"            scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts allow-popups"></iframe>        </div>        <script>            document.getElementById("mmedia-KVCTAvXi").style.height=document.getElementById("mmedia-KVCTAvXi").scrollWidth*0.76+"px";            window.onresize = function(){              document.getElementById("mmedia-KVCTAvXi").style.height=document.getElementById("mmedia-KVCTAvXi").scrollWidth*0.76+"px";            };        </script>        ]]></content>
    
    
    <summary type="html">&lt;p&gt;这里是摘要&lt;/p&gt;</summary>
    
    
    
    <category term="Test" scheme="https://gardenzzz.github.io/categories/Test/"/>
    
    
    <category term="100" scheme="https://gardenzzz.github.io/tags/100/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://gardenzzz.github.io/2019/140508/hello-world/"/>
    <id>https://gardenzzz.github.io/2019/140508/hello-world/</id>
    <published>2019-11-27T21:14:08.000Z</published>
    <updated>2020-11-29T04:50:32.178Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank">GitHub</a>.</p><h2 id="quick-start">Quick Start<a title="#quick-start" href="#quick-start"></a></h2><h3 id="create-a-new-post">Create a new post<a title="#create-a-new-post" href="#create-a-new-post"></a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank">Writing</a></p><h3 id="run-server">Run server<a title="#run-server" href="#run-server"></a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank">Server</a></p><h3 id="generate-static-files">Generate static files<a title="#generate-static-files" href="#generate-static-files"></a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank">Generating</a></p><h3 id="deploy-to-remote-sites">Deploy to remote sites<a title="#deploy-to-remote-sites" href="#deploy-to-remote-sites"></a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; targe</summary>
      
    
    
    
    
  </entry>
  
</feed>
